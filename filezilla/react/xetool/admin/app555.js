!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(p,t){function e(t,e){return e.toUpperCase()}var h=[],u=h.slice,g=h.concat,a=h.push,r=h.indexOf,n={},i=n.toString,m=n.hasOwnProperty,v={},o="1.11.1",C=function(t,e){return new C.fn.init(t,e)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,l=/^-ms-/,c=/-([\da-z])/gi;function d(t){var e=t.length,n=C.type(t);return"function"!==n&&!C.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t))}C.fn=C.prototype={jquery:o,constructor:C,selector:"",length:0,toArray:function(){return u.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:u.call(this)},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return C.each(this,t,e)},map:function(n){return this.pushStack(C.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:a,sort:h.sort,splice:h.splice},C.extend=C.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||C.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(r=arguments[a]))for(i in r)t=s[i],s!==(n=r[i])&&(c&&n&&(C.isPlainObject(n)||(e=C.isArray(n)))?(o=e?(e=!1,t&&C.isArray(t)?t:[]):t&&C.isPlainObject(t)?t:{},s[i]=C.extend(c,o,n)):void 0!==n&&(s[i]=n));return s},C.extend({expando:"jQuery"+(o+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===C.type(t)},isArray:Array.isArray||function(t){return"array"===C.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!C.isArray(t)&&0<=t-parseFloat(t)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==C.type(t)||t.nodeType||C.isWindow(t))return!1;try{if(t.constructor&&!m.call(t,"constructor")&&!m.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(v.ownLast)for(e in t)return m.call(t,e);for(e in t);return void 0===e||m.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?n[i.call(t)]||"object":typeof t},globalEval:function(t){t&&C.trim(t)&&(p.execScript||function(t){p.eval.call(p,t)})(t)},camelCase:function(t){return t.replace(l,"ms-").replace(c,e)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i=0,r=t.length,o=d(t);if(n){if(o)for(;i<r&&!1!==e.apply(t[i],n);i++);else for(i in t)if(!1===e.apply(t[i],n))break}else if(o)for(;i<r&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(s,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(d(Object(t))?C.merge(n,"string"==typeof t?[t]:t):a.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(r)return r.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;)t[r++]=e[i++];if(n!=n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!=s&&i.push(t[r]);return i},map:function(t,e,n){var i,r=0,o=t.length,s=[];if(d(t))for(;r<o;r++)null!=(i=e(t[r],r,n))&&s.push(i);else for(r in t)null!=(i=e(t[r],r,n))&&s.push(i);return g.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),C.isFunction(t)?(n=u.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(u.call(arguments)))}).guid=t.guid=t.guid||C.guid++,i):void 0},now:function(){return+new Date},support:v}),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var f=function(n){function h(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}var t,p,w,o,i,g,d,m,x,c,u,v,_,r,y,b,s,a,C,k="sizzle"+-new Date,S=n.document,D=0,f=0,l=rt(),E=rt(),T=rt(),M=function(t,e){return t===e&&(u=!0),0},$="undefined",N={}.hasOwnProperty,e=[],A=e.pop,P=e.push,I=e.push,O=e.slice,R=e.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",z=F.replace("w","w#"),j="\\["+H+"*("+F+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+H+"*\\]",W=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",B=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),Y=new RegExp("^"+H+"*,"+H+"*"),q=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),U=new RegExp("="+H+"*([^\\]'\"]*?)"+H+"*\\]","g"),V=new RegExp(W),G=new RegExp("^"+z+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+H+"?|("+H+")|.)","ig");try{I.apply(e=O.call(S.childNodes),S.childNodes),e[S.childNodes.length].nodeType}catch(t){I={apply:e.length?function(t,e){P.apply(t,O.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function it(t,e,n,i){var r,o,s,a,l,c,u,h,d,f;if((e?e.ownerDocument||e:S)!==_&&v(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=(e=e||_).nodeType)&&9!==a)return[];if(y&&!i){if(r=J.exec(t))if(s=r[1]){if(9===a){if(!(o=e.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&C(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return I.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&p.getElementsByClassName&&e.getElementsByClassName)return I.apply(n,e.getElementsByClassName(s)),n}if(p.qsa&&(!b||!b.test(t))){if(h=u=k,d=e,f=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=g(t),(u=e.getAttribute("id"))?h=u.replace(et,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+pt(c[l]);d=tt.test(t)&&dt(e.parentNode)||e,f=c.join(",")}if(f)try{return I.apply(n,d.querySelectorAll(f)),n}catch(t){}finally{u||e.removeAttribute("id")}}}return m(t.replace(B,"$1"),e,n,i)}function rt(){var i=[];return function t(e,n){return i.push(e+" ")>w.cacheLength&&delete t[i.shift()],t[e+" "]=n}}function ot(t){return t[k]=!0,t}function st(t){var e=_.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function at(t,e){for(var n=t.split("|"),i=t.length;i--;)w.attrHandle[n[i]]=e}function lt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ct(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ut(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function ht(s){return ot(function(o){return o=+o,ot(function(t,e){for(var n,i=s([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function dt(t){return t&&typeof t.getElementsByTagName!==$&&t}for(t in p=it.support={},i=it.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},v=it.setDocument=function(t){var e,l=t?t.ownerDocument||t:S,n=l.defaultView;return l!==_&&9===l.nodeType&&l.documentElement?(r=(_=l).documentElement,y=!i(l),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){v()},!1):n.attachEvent&&n.attachEvent("onunload",function(){v()})),p.attributes=st(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=st(function(t){return t.appendChild(l.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=Z.test(l.getElementsByClassName)&&st(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),p.getById=st(function(t){return r.appendChild(t).id=k,!l.getElementsByName||!l.getElementsByName(k).length}),p.getById?(w.find.ID=function(t,e){if(typeof e.getElementById!==$&&y){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(t){var e=t.replace(nt,h);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var n=t.replace(nt,h);return function(t){var e=typeof t.getAttributeNode!==$&&t.getAttributeNode("id");return e&&e.value===n}}),w.find.TAG=p.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==$?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},w.find.CLASS=p.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==$&&y?e.getElementsByClassName(t):void 0},s=[],b=[],(p.qsa=Z.test(l.querySelectorAll))&&(st(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&b.push("[*^$]="+H+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||b.push("\\["+H+"*(?:value|"+L+")"),t.querySelectorAll(":checked").length||b.push(":checked")}),st(function(t){var e=l.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&b.push("name"+H+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),b.push(",.*:")})),(p.matchesSelector=Z.test(a=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&st(function(t){p.disconnectedMatch=a.call(t,"div"),a.call(t,"[s!='']:x"),s.push("!=",W)}),b=b.length&&new RegExp(b.join("|")),s=s.length&&new RegExp(s.join("|")),e=Z.test(r.compareDocumentPosition),C=e||Z.test(r.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},M=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument===S&&C(S,t)?-1:e===l||e.ownerDocument===S&&C(S,e)?1:c?R.call(c,t)-R.call(c,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===l?-1:e===l?1:r?-1:o?1:c?R.call(c,t)-R.call(c,e):0;if(r===o)return lt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?lt(s[i],a[i]):s[i]===S?-1:a[i]===S?1:0},l):_},it.matches=function(t,e){return it(t,null,null,e)},it.matchesSelector=function(t,e){if((t.ownerDocument||t)!==_&&v(t),e=e.replace(U,"='$1']"),!(!p.matchesSelector||!y||s&&s.test(e)||b&&b.test(e)))try{var n=a.call(t,e);if(n||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return 0<it(e,_,null,[t]).length},it.contains=function(t,e){return(t.ownerDocument||t)!==_&&v(t),C(t,e)},it.attr=function(t,e){(t.ownerDocument||t)!==_&&v(t);var n=w.attrHandle[e.toLowerCase()],i=n&&N.call(w.attrHandle,e.toLowerCase())?n(t,e,!y):void 0;return void 0!==i?i:p.attributes||!y?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},it.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},it.uniqueSort=function(t){var e,n=[],i=0,r=0;if(u=!p.detectDuplicates,c=!p.sortStable&&t.slice(0),t.sort(M),u){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return c=null,t},o=it.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(w=it.selectors={cacheLength:50,createPseudo:ot,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(nt,h),t[3]=(t[3]||t[4]||t[5]||"").replace(nt,h),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||it.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&it.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&V.test(n)&&(e=g(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(nt,h).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=l[t+" "];return e||(e=new RegExp("(^|"+H+")"+t+"("+H+"|$)"))&&l(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==$&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=it.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(f,t,e,p,g){var m="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===t;return 1===p&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,s,a,l,c=m!=v?"nextSibling":"previousSibling",u=t.parentNode,h=y&&t.nodeName.toLowerCase(),d=!n&&!y;if(u){if(m){for(;c;){for(o=t;o=o[c];)if(y?o.nodeName.toLowerCase()===h:1===o.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&d){for(a=(i=(r=u[k]||(u[k]={}))[f]||[])[0]===D&&i[1],s=i[0]===D&&i[2],o=a&&u.childNodes[a];o=++a&&o&&o[c]||(s=a=0)||l.pop();)if(1===o.nodeType&&++s&&o===t){r[f]=[D,a,s];break}}else if(d&&(i=(t[k]||(t[k]={}))[f])&&i[0]===D)s=i[1];else for(;(o=++a&&o&&o[c]||(s=a=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==h:1!==o.nodeType)||!++s||(d&&((o[k]||(o[k]={}))[f]=[D,s]),o!==t)););return(s-=g)===p||s%p==0&&0<=s/p}}},PSEUDO:function(t,o){var e,s=w.pseudos[t]||w.setFilters[t.toLowerCase()]||it.error("unsupported pseudo: "+t);return s[k]?s(o):1<s.length?(e=[t,t,"",o],w.setFilters.hasOwnProperty(t.toLowerCase())?ot(function(t,e){for(var n,i=s(t,o),r=i.length;r--;)t[n=R.call(t,i[r])]=!(e[n]=i[r])}):function(t){return s(t,0,e)}):s}},pseudos:{not:ot(function(t){var i=[],r=[],a=d(t.replace(B,"$1"));return a[k]?ot(function(t,e,n,i){for(var r,o=a(t,null,i,[]),s=t.length;s--;)(r=o[s])&&(t[s]=!(e[s]=r))}):function(t,e,n){return i[0]=t,a(i,null,n,r),!r.pop()}}),has:ot(function(e){return function(t){return 0<it(e,t).length}}),contains:ot(function(e){return function(t){return-1<(t.textContent||t.innerText||o(t)).indexOf(e)}}),lang:ot(function(n){return G.test(n||"")||it.error("unsupported lang: "+n),n=n.replace(nt,h).toLowerCase(),function(t){var e;do{if(e=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===r},focus:function(t){return t===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ht(function(){return[0]}),last:ht(function(t,e){return[e-1]}),eq:ht(function(t,e,n){return[n<0?n+e:n]}),even:ht(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ht(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ht(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:ht(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})w.pseudos[t]=ut(t);function ft(){}function pt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function gt(s,t,e){var a=t.dir,l=e&&"parentNode"===a,c=f++;return t.first?function(t,e,n){for(;t=t[a];)if(1===t.nodeType||l)return s(t,e,n)}:function(t,e,n){var i,r,o=[D,c];if(n){for(;t=t[a];)if((1===t.nodeType||l)&&s(t,e,n))return!0}else for(;t=t[a];)if(1===t.nodeType||l){if((i=(r=t[k]||(t[k]={}))[a])&&i[0]===D&&i[1]===c)return o[2]=i[2];if((r[a]=o)[2]=s(t,e,n))return!0}}}function mt(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function vt(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)!(o=t[a])||n&&!n(o,i,r)||(s.push(o),c&&e.push(a));return s}function yt(f,p,g,m,v,t){return m&&!m[k]&&(m=yt(m)),v&&!v[k]&&(v=yt(v,t)),ot(function(t,e,n,i){var r,o,s,a=[],l=[],c=e.length,u=t||function(t,e,n){for(var i=0,r=e.length;i<r;i++)it(t,e[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),h=!f||!t&&p?u:vt(u,a,f,n,i),d=g?v||(t?f:c||m)?[]:e:h;if(g&&g(h,d,n,i),m)for(r=vt(d,l),m(r,[],n,i),o=r.length;o--;)(s=r[o])&&(d[l[o]]=!(h[l[o]]=s));if(t){if(v||f){if(v){for(r=[],o=d.length;o--;)(s=d[o])&&r.push(h[o]=s);v(null,d=[],r,i)}for(o=d.length;o--;)(s=d[o])&&-1<(r=v?R.call(t,s):a[o])&&(t[r]=!(e[r]=s))}}else d=vt(d===e?d.splice(c,d.length):d),v?v(null,e,d,i):I.apply(e,d)})}function bt(t){for(var i,e,n,r=t.length,o=w.relative[t[0].type],s=o||w.relative[" "],a=o?1:0,l=gt(function(t){return t===i},s,!0),c=gt(function(t){return-1<R.call(i,t)},s,!0),u=[function(t,e,n){return!o&&(n||e!==x)||((i=e).nodeType?l(t,e,n):c(t,e,n))}];a<r;a++)if(e=w.relative[t[a].type])u=[gt(mt(u),e)];else{if((e=w.filter[t[a].type].apply(null,t[a].matches))[k]){for(n=++a;n<r&&!w.relative[t[n].type];n++);return yt(1<a&&mt(u),1<a&&pt(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(B,"$1"),e,a<n&&bt(t.slice(a,n)),n<r&&bt(t=t.slice(n)),n<r&&pt(t))}u.push(e)}return mt(u)}function wt(m,v){function t(t,e,n,i,r){var o,s,a,l=0,c="0",u=t&&[],h=[],d=x,f=t||b&&w.find.TAG("*",r),p=D+=null==d?1:Math.random()||.1,g=f.length;for(r&&(x=e!==_&&e);c!==g&&null!=(o=f[c]);c++){if(b&&o){for(s=0;a=m[s++];)if(a(o,e,n)){i.push(o);break}r&&(D=p)}y&&((o=!a&&o)&&l--,t&&u.push(o))}if(l+=c,y&&c!==l){for(s=0;a=v[s++];)a(u,h,e,n);if(t){if(0<l)for(;c--;)u[c]||h[c]||(h[c]=A.call(i));h=vt(h)}I.apply(i,h),r&&!t&&0<h.length&&1<l+v.length&&it.uniqueSort(i)}return r&&(D=p,x=d),u}var y=0<v.length,b=0<m.length;return y?ot(t):t}return ft.prototype=w.filters=w.pseudos,w.setFilters=new ft,g=it.tokenize=function(t,e){var n,i,r,o,s,a,l,c=E[t+" "];if(c)return e?0:c.slice(0);for(s=t,a=[],l=w.preFilter;s;){for(o in n&&!(i=Y.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=q.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length)),w.filter)!(i=X[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?it.error(t):E(t,a).slice(0)},d=it.compile=function(t,e){var n,i=[],r=[],o=T[t+" "];if(!o){for(n=(e=e||g(t)).length;n--;)(o=bt(e[n]))[k]?i.push(o):r.push(o);(o=T(t,wt(r,i))).selector=t}return o},m=it.select=function(t,e,n,i){var r,o,s,a,l,c="function"==typeof t&&t,u=!i&&g(t=c.selector||t);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(s=o[0]).type&&p.getById&&9===e.nodeType&&y&&w.relative[o[1].type]){if(!(e=(w.find.ID(s.matches[0].replace(nt,h),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=X.needsContext.test(t)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((l=w.find[a])&&(i=l(s.matches[0].replace(nt,h),tt.test(o[0].type)&&dt(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&pt(o)))return I.apply(n,i),n;break}}return(c||d(t,u))(i,e,!y,n,tt.test(t)&&dt(e.parentNode)||e),n},p.sortStable=k.split("").sort(M).join("")===k,p.detectDuplicates=!!u,v(),p.sortDetached=st(function(t){return 1&t.compareDocumentPosition(_.createElement("div"))}),st(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||at("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&st(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||at("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),st(function(t){return null==t.getAttribute("disabled")})||at(L,function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),it}(p);C.find=f,C.expr=f.selectors,C.expr[":"]=C.expr.pseudos,C.unique=f.uniqueSort,C.text=f.getText,C.isXMLDoc=f.isXML,C.contains=f.contains;var y=C.expr.match.needsContext,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(t,n,i){if(C.isFunction(n))return C.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return C.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(w.test(n))return C.filter(n,t,i);n=C.filter(n,t)}return C.grep(t,function(t){return 0<=C.inArray(t,n)!==i})}C.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?C.find.matchesSelector(i,t)?[i]:[]:C.find.matches(t,C.grep(e,function(t){return 1===t.nodeType}))},C.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(C(t).filter(function(){for(e=0;e<r;e++)if(C.contains(i[e],this))return!0}));for(e=0;e<r;e++)C.find(t,i[e],n);return(n=this.pushStack(1<r?C.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(x(this,t||[],!1))},not:function(t){return this.pushStack(x(this,t||[],!0))},is:function(t){return!!x(this,"string"==typeof t&&y.test(t)?C(t):t||[],!1).length}});var _,k=p.document,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(C.fn.init=function(t,e){var n,i;if(!t)return this;if("string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):C.isFunction(t)?void 0!==_.ready?_.ready(t):t(C):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),C.makeArray(t,this));if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:S.exec(t))||!n[1]&&e)return!e||e.jquery?(e||_).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:k,!0)),b.test(n[1])&&C.isPlainObject(e))for(n in e)C.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((i=k.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return _.find(t);this.length=1,this[0]=i}return this.context=k,this.selector=t,this}).prototype=C.fn,_=C(k);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};function T(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.extend({dir:function(t,e,n){for(var i=[],r=t[e];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!C(r).is(n));)1===r.nodeType&&i.push(r),r=r[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),C.fn.extend({has:function(t){var e,n=C(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(C.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=y.test(t)||"string"!=typeof t?C(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&C.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?C.unique(o):o)},index:function(t){return t?"string"==typeof t?C.inArray(this[0],C(t)):C.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.unique(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return C.dir(t,"parentNode")},parentsUntil:function(t,e,n){return C.dir(t,"parentNode",n)},next:function(t){return T(t,"nextSibling")},prev:function(t){return T(t,"previousSibling")},nextAll:function(t){return C.dir(t,"nextSibling")},prevAll:function(t){return C.dir(t,"previousSibling")},nextUntil:function(t,e,n){return C.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return C.dir(t,"previousSibling",n)},siblings:function(t){return C.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return C.sibling(t.firstChild)},contents:function(t){return C.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:C.merge([],t.childNodes)}},function(i,r){C.fn[i]=function(t,e){var n=C.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=C.filter(e,n)),1<this.length&&(E[i]||(n=C.unique(n)),D.test(i)&&(n=n.reverse())),this.pushStack(n)}});var M,$=/\S+/g,N={};function A(){k.addEventListener?(k.removeEventListener("DOMContentLoaded",P,!1),p.removeEventListener("load",P,!1)):(k.detachEvent("onreadystatechange",P),p.detachEvent("onload",P))}function P(){!k.addEventListener&&"load"!==event.type&&"complete"!==k.readyState||(A(),C.ready())}C.Callbacks=function(r){r="string"==typeof r?N[r]||function(t){var n=N[t]={};return C.each(t.match($)||[],function(t,e){n[e]=!0}),n}(r):C.extend({},r);var i,e,n,o,s,a,l=[],c=!r.once&&[],u=function(t){for(e=r.memory&&t,n=!0,s=a||0,a=0,o=l.length,i=!0;l&&s<o;s++)if(!1===l[s].apply(t[0],t[1])&&r.stopOnFalse){e=!1;break}i=!1,l&&(c?c.length&&u(c.shift()):e?l=[]:h.disable())},h={add:function(){if(l){var t=l.length;!function i(t){C.each(t,function(t,e){var n=C.type(e);"function"===n?r.unique&&h.has(e)||l.push(e):e&&e.length&&"string"!==n&&i(e)})}(arguments),i?o=l.length:e&&(a=t,u(e))}return this},remove:function(){return l&&C.each(arguments,function(t,e){for(var n;-1<(n=C.inArray(e,l,n));)l.splice(n,1),i&&(n<=o&&o--,n<=s&&s--)}),this},has:function(t){return t?-1<C.inArray(t,l):!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=c=e=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,e||h.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||n&&!c||(e=[t,(e=e||[]).slice?e.slice():e],i?c.push(e):u(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},C.extend({Deferred:function(t){var o=[["resolve","done",C.Callbacks("once memory"),"resolved"],["reject","fail",C.Callbacks("once memory"),"rejected"],["notify","progress",C.Callbacks("memory")]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var r=arguments;return C.Deferred(function(i){C.each(o,function(t,e){var n=C.isFunction(r[t])&&r[t];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&C.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[e[0]+"With"](this===s?i.promise():this,n?[t]:arguments)})}),r=null}).promise()},promise:function(t){return null!=t?C.extend(t,s):s}},a={};return s.pipe=s.then,C.each(o,function(t,e){var n=e[2],i=e[3];s[e[1]]=n.add,i&&n.add(function(){r=i},o[1^t][2].disable,o[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?s:this,arguments),this},a[e[0]+"With"]=n.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){function e(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?u.call(arguments):t,i===r?c.notifyWith(n,i):--l||c.resolveWith(n,i)}}var r,n,i,o=0,s=u.call(arguments),a=s.length,l=1!==a||t&&C.isFunction(t.promise)?a:0,c=1===l?t:C.Deferred();if(1<a)for(r=new Array(a),n=new Array(a),i=new Array(a);o<a;o++)s[o]&&C.isFunction(s[o].promise)?s[o].promise().done(e(o,i,s)).fail(c.reject).progress(e(o,n,r)):--l;return l||c.resolveWith(i,s),c.promise()}}),C.fn.ready=function(t){return C.ready.promise().done(t),this},C.extend({isReady:!1,readyWait:1,holdReady:function(t){t?C.readyWait++:C.ready(!0)},ready:function(t){if(!0===t?!--C.readyWait:!C.isReady){if(!k.body)return setTimeout(C.ready);(C.isReady=!0)!==t&&0<--C.readyWait||(M.resolveWith(k,[C]),C.fn.triggerHandler&&(C(k).triggerHandler("ready"),C(k).off("ready")))}}}),C.ready.promise=function(t){if(!M)if(M=C.Deferred(),"complete"===k.readyState)setTimeout(C.ready);else if(k.addEventListener)k.addEventListener("DOMContentLoaded",P,!1),p.addEventListener("load",P,!1);else{k.attachEvent("onreadystatechange",P),p.attachEvent("onload",P);var n=!1;try{n=null==p.frameElement&&k.documentElement}catch(t){}n&&n.doScroll&&!function e(){if(!C.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}A(),C.ready()}}()}return M.promise(t)};var I,O="undefined";for(I in C(v))break;v.ownLast="0"!==I,v.inlineBlockNeedsLayout=!1,C(function(){var t,e,n,i;(n=k.getElementsByTagName("body")[0])&&n.style&&(e=k.createElement("div"),(i=k.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),typeof e.style.zoom!==O&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",v.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=k.createElement("div");if(null==v.deleteExpando){v.deleteExpando=!0;try{delete t.test}catch(t){v.deleteExpando=!1}}t=null}(),C.acceptData=function(t){var e=C.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)};var R=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/([A-Z])/g;function H(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(L,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:R.test(n)?C.parseJSON(n):n)}catch(t){}C.data(t,e,n)}else n=void 0}return n}function F(t){var e;for(e in t)if(("data"!==e||!C.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function z(t,e,n,i){if(C.acceptData(t)){var r,o,s=C.expando,a=t.nodeType,l=a?C.cache:t,c=a?t[s]:t[s]&&s;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof e)return l[c=c||(a?t[s]=h.pop()||C.guid++:s)]||(l[c]=a?{}:{toJSON:C.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[c]=C.extend(l[c],e):l[c].data=C.extend(l[c].data,e)),o=l[c],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[C.camelCase(e)]=n),"string"==typeof e?null==(r=o[e])&&(r=o[C.camelCase(e)]):r=o,r}}function j(t,e,n){if(C.acceptData(t)){var i,r,o=t.nodeType,s=o?C.cache:t,a=o?t[C.expando]:C.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){r=(e=C.isArray(e)?e.concat(C.map(e,C.camelCase)):e in i?[e]:(e=C.camelCase(e))in i?[e]:e.split(" ")).length;for(;r--;)delete i[e[r]];if(n?!F(i):!C.isEmptyObject(i))return}(n||(delete s[a].data,F(s[a])))&&(o?C.cleanData([t],!0):v.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}C.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?C.cache[t[C.expando]]:t[C.expando])&&!F(t)},data:function(t,e,n){return z(t,e,n)},removeData:function(t,e){return j(t,e)},_data:function(t,e,n){return z(t,e,n,!0)},_removeData:function(t,e){return j(t,e,!0)}}),C.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0!==t)return"object"==typeof t?this.each(function(){C.data(this,t)}):1<arguments.length?this.each(function(){C.data(this,t,e)}):o?H(o,t,C.data(o,t)):void 0;if(this.length&&(r=C.data(o),1===o.nodeType&&!C._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(0===(i=s[n].name).indexOf("data-")&&H(o,i=C.camelCase(i.slice(5)),r[i]));C._data(o,"parsedAttrs",!0)}return r},removeData:function(t){return this.each(function(){C.removeData(this,t)})}}),C.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=C._data(t,e),n&&(!i||C.isArray(n)?i=C._data(t,e,C.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=C.queue(t,e),i=n.length,r=n.shift(),o=C._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){C.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return C._data(t,n)||C._data(t,n,{empty:C.Callbacks("once memory").add(function(){C._removeData(t,e+"queue"),C._removeData(t,n)})})}}),C.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?C.queue(this[0],e):void 0===n?this:this.each(function(){var t=C.queue(this,e,n);C._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&C.dequeue(this,e)})},dequeue:function(t){return this.each(function(){C.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--r||o.resolveWith(s,[s])}var i,r=1,o=C.Deferred(),s=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=C._data(s[a],t+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),o.promise(e)}});function W(t,e){return t=e||t,"none"===C.css(t,"display")||!C.contains(t.ownerDocument,t)}var B=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=["Top","Right","Bottom","Left"],q=C.access=function(t,e,n,i,r,o,s){var a=0,l=t.length,c=null==n;if("object"===C.type(n))for(a in r=!0,n)C.access(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,C.isFunction(i)||(s=!0),c&&(e=s?(e.call(t,i),null):(c=e,function(t,e,n){return c.call(C(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):o},U=/^(?:checkbox|radio)$/i;!function(){var t=k.createElement("input"),e=k.createElement("div"),n=k.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",v.leadingWhitespace=3===e.firstChild.nodeType,v.tbody=!e.getElementsByTagName("tbody").length,v.htmlSerialize=!!e.getElementsByTagName("link").length,v.html5Clone="<:nav></:nav>"!==k.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),v.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",v.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,v.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){v.noCloneEvent=!1}),e.cloneNode(!0).click()),null==v.deleteExpando){v.deleteExpando=!0;try{delete e.test}catch(t){v.deleteExpando=!1}}}(),function(){var t,e,n=k.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(v[t+"Bubbles"]=e in p)||(n.setAttribute(e,"t"),v[t+"Bubbles"]=!1===n.attributes[e].expando);n=null}();var V=/^(?:input|select|textarea)$/i,G=/^key/,X=/^(?:mouse|pointer|contextmenu)|click/,K=/^(?:focusinfocus|focusoutblur)$/,Q=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function J(){return!1}function tt(){try{return k.activeElement}catch(t){}}function et(t){var e=nt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}C.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,f,p,g,m=C._data(t);if(m){for(n.handler&&(n=(l=n).handler,r=l.selector),n.guid||(n.guid=C.guid++),(s=m.events)||(s=m.events={}),(u=m.handle)||((u=m.handle=function(t){return typeof C===O||t&&C.event.triggered===t.type?void 0:C.event.dispatch.apply(u.elem,arguments)}).elem=t),a=(e=(e||"").match($)||[""]).length;a--;)f=g=(o=Q.exec(e[a])||[])[1],p=(o[2]||"").split(".").sort(),f&&(c=C.event.special[f]||{},f=(r?c.delegateType:c.bindType)||f,c=C.event.special[f]||{},h=C.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:p.join(".")},l),(d=s[f])||((d=s[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,u)||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),C.event.global[f]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,f,p,g,m=C.hasData(t)&&C._data(t);if(m&&(u=m.events)){for(c=(e=(e||"").match($)||[""]).length;c--;)if(f=g=(a=Q.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=C.event.special[f]||{},d=u[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!r&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(t,s));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||C.removeEvent(t,f,m.handle),delete u[f])}else for(f in u)C.event.remove(t,f+e[c],n,i,!0);C.isEmptyObject(u)&&(delete m.handle,C._removeData(t,"events"))}},trigger:function(t,e,n,i){var r,o,s,a,l,c,u,h=[n||k],d=m.call(t,"type")?t.type:t,f=m.call(t,"namespace")?t.namespace.split("."):[];if(s=c=n=n||k,3!==n.nodeType&&8!==n.nodeType&&!K.test(d+C.event.triggered)&&(0<=d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),o=d.indexOf(":")<0&&"on"+d,(t=t[C.expando]?t:new C.Event(d,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:C.makeArray(e,[t]),l=C.event.special[d]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!C.isWindow(n)){for(a=l.delegateType||d,K.test(a+d)||(s=s.parentNode);s;s=s.parentNode)h.push(s),c=s;c===(n.ownerDocument||k)&&h.push(c.defaultView||c.parentWindow||p)}for(u=0;(s=h[u++])&&!t.isPropagationStopped();)t.type=1<u?a:l.bindType||d,(r=(C._data(s,"events")||{})[t.type]&&C._data(s,"handle"))&&r.apply(s,e),(r=o&&s[o])&&r.apply&&C.acceptData(s)&&(t.result=r.apply(s,e),!1===t.result&&t.preventDefault());if(t.type=d,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(h.pop(),e))&&C.acceptData(n)&&o&&n[d]&&!C.isWindow(n)){(c=n[o])&&(n[o]=null),C.event.triggered=d;try{n[d]()}catch(t){}C.event.triggered=void 0,c&&(n[o]=c)}return t.result}},dispatch:function(t){t=C.event.fix(t);var e,n,i,r,o,s=[],a=u.call(arguments),l=(C._data(this,"events")||{})[t.type]||[],c=C.event.special[t.type]||{};if((a[0]=t).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(s=C.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(i.namespace)||(t.handleObj=i,t.data=i.data,void 0!==(n=((C.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(r=[],o=0;o<a;o++)void 0===r[n=(i=e[o]).selector+" "]&&(r[n]=i.needsContext?0<=C(n,this).index(l):C.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&s.push({elem:l,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[C.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=X.test(r)?this.mouseHooks:G.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new C.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=o.srcElement||k),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=(i=t.target.ownerDocument||k).documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==tt()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===tt()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return C.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return C.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=C.extend(new C.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?C.event.trigger(r,null,e):C.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},C.removeEvent=k.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===O&&(t[i]=null),t.detachEvent(i,n))},C.Event=function(t,e){return this instanceof C.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Z:J):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||C.now(),void(this[C.expando]=!0)):new C.Event(t,e)},C.Event.prototype={isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Z,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Z,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Z,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){C.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||C.contains(this,n))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=r),e}}}),v.submitBubbles||(C.event.special.submit={setup:function(){return!C.nodeName(this,"form")&&void C.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=C.nodeName(e,"input")||C.nodeName(e,"button")?e.form:void 0;n&&!C._data(n,"submitBubbles")&&(C.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),C._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&C.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!C.nodeName(this,"form")&&void C.event.remove(this,"._submit")}}),v.changeBubbles||(C.event.special.change={setup:function(){return V.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(C.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),C.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),C.event.simulate("change",this,t,!0)})),!1):void C.event.add(this,"beforeactivate._change",function(t){var e=t.target;V.test(e.nodeName)&&!C._data(e,"changeBubbles")&&(C.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||C.event.simulate("change",this.parentNode,t,!0)}),C._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return C.event.remove(this,"._change"),!V.test(this.nodeName)}}),v.focusinBubbles||C.each({focus:"focusin",blur:"focusout"},function(n,i){function r(t){C.event.simulate(i,t.target,C.event.fix(t),!0)}C.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=C._data(t,i);e||t.addEventListener(n,r,!0),C._data(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=C._data(t,i)-1;e?C._data(t,i,e):(t.removeEventListener(n,r,!0),C._removeData(t,i))}}}),C.fn.extend({on:function(t,e,n,i,r){var o,s;if("object"==typeof t){for(o in"string"!=typeof e&&(n=n||e,e=void 0),t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!1===i)i=J;else if(!i)return this;return 1===r&&(s=i,(i=function(t){return C().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=C.guid++)),this.each(function(){C.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,C(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=J),this.each(function(){C.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this},trigger:function(t,e){return this.each(function(){C.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?C.event.trigger(t,e,n,!0):void 0}});var nt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",it=/ jQuery\d+="(?:null|\d+)"/g,rt=new RegExp("<(?:"+nt+")[\\s/>]","i"),ot=/^\s+/,st=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,at=/<([\w:]+)/,lt=/<tbody/i,ct=/<|&#?\w+;/,ut=/<(?:script|style|link)/i,ht=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^$|\/(?:java|ecma)script/i,ft=/^true\/(.*)/,pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:v.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},mt=et(k).appendChild(k.createElement("div"));function vt(t,e){var n,i,r=0,o=typeof t.getElementsByTagName!==O?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==O?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||C.nodeName(i,e)?o.push(i):C.merge(o,vt(i,e));return void 0===e||e&&C.nodeName(t,e)?C.merge([t],o):o}function yt(t){U.test(t.type)&&(t.defaultChecked=t.checked)}function bt(t,e){return C.nodeName(t,"table")&&C.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function wt(t){return t.type=(null!==C.find.attr(t,"type"))+"/"+t.type,t}function xt(t){var e=ft.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _t(t,e){for(var n,i=0;null!=(n=t[i]);i++)C._data(n,"globalEval",!e||C._data(e[i],"globalEval"))}function Ct(t,e){if(1===e.nodeType&&C.hasData(t)){var n,i,r,o=C._data(t),s=C._data(e,o),a=o.events;if(a)for(n in delete s.handle,s.events={},a)for(i=0,r=a[n].length;i<r;i++)C.event.add(e,n,a[n][i]);s.data&&(s.data=C.extend({},s.data))}}function kt(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!v.noCloneEvent&&e[C.expando]){for(i in(r=C._data(e)).events)C.removeEvent(e,i,r.handle);e.removeAttribute(C.expando)}"script"===n&&e.text!==t.text?(wt(e).text=t.text,xt(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),v.html5Clone&&t.innerHTML&&!C.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&U.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,C.extend({clone:function(t,e,n){var i,r,o,s,a,l=C.contains(t.ownerDocument,t);if(v.html5Clone||C.isXMLDoc(t)||!rt.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(mt.innerHTML=t.outerHTML,mt.removeChild(o=mt.firstChild)),!(v.noCloneEvent&&v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(i=vt(o),a=vt(t),s=0;null!=(r=a[s]);++s)i[s]&&kt(r,i[s]);if(e)if(n)for(a=a||vt(t),i=i||vt(o),s=0;null!=(r=a[s]);s++)Ct(r,i[s]);else Ct(t,o);return 0<(i=vt(o,"script")).length&&_t(i,!l&&vt(t,"script")),i=a=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,s,a,l,c,u,h=t.length,d=et(e),f=[],p=0;p<h;p++)if((o=t[p])||0===o)if("object"===C.type(o))C.merge(f,o.nodeType?[o]:o);else if(ct.test(o)){for(a=a||d.appendChild(e.createElement("div")),l=(at.exec(o)||["",""])[1].toLowerCase(),u=gt[l]||gt._default,a.innerHTML=u[1]+o.replace(st,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!v.leadingWhitespace&&ot.test(o)&&f.push(e.createTextNode(ot.exec(o)[0])),!v.tbody)for(r=(o="table"!==l||lt.test(o)?"<table>"!==u[1]||lt.test(o)?0:a:a.firstChild)&&o.childNodes.length;r--;)C.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(C.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(e.createTextNode(o));for(a&&d.removeChild(a),v.appendChecked||C.grep(vt(f,"input"),yt),p=0;o=f[p++];)if((!i||-1===C.inArray(o,i))&&(s=C.contains(o.ownerDocument,o),a=vt(d.appendChild(o),"script"),s&&_t(a),n))for(r=0;o=a[r++];)dt.test(o.type||"")&&n.push(o);return a=null,d},cleanData:function(t,e){for(var n,i,r,o,s=0,a=C.expando,l=C.cache,c=v.deleteExpando,u=C.event.special;null!=(n=t[s]);s++)if((e||C.acceptData(n))&&(o=(r=n[a])&&l[r])){if(o.events)for(i in o.events)u[i]?C.event.remove(n,i):C.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[a]:typeof n.removeAttribute!==O?n.removeAttribute(a):n[a]=null,h.push(r))}}}),C.fn.extend({text:function(t){return q(this,function(t){return void 0===t?C.text(this):this.empty().append((this[0]&&this[0].ownerDocument||k).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||bt(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=bt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?C.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||C.cleanData(vt(n)),n.parentNode&&(e&&C.contains(n.ownerDocument,n)&&_t(vt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&C.cleanData(vt(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&C.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return C.clone(this,t,e)})},html:function(t){return q(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(it,""):void 0;if(!("string"!=typeof t||ut.test(t)||!v.htmlSerialize&&rt.test(t)||!v.leadingWhitespace&&ot.test(t)||gt[(at.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(st,"<$1></$2>");try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(C.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,C.cleanData(vt(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(n,i){n=g.apply([],n);var t,e,r,o,s,a,l=0,c=this.length,u=this,h=c-1,d=n[0],f=C.isFunction(d);if(f||1<c&&"string"==typeof d&&!v.checkClone&&ht.test(d))return this.each(function(t){var e=u.eq(t);f&&(n[0]=d.call(this,t,e.html())),e.domManip(n,i)});if(c&&(t=(a=C.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===a.childNodes.length&&(a=t),t)){for(r=(o=C.map(vt(a,"script"),wt)).length;l<c;l++)e=a,l!==h&&(e=C.clone(e,!0,!0),r&&C.merge(o,vt(e,"script"))),i.call(this[l],e,l);if(r)for(s=o[o.length-1].ownerDocument,C.map(o,xt),l=0;l<r;l++)e=o[l],dt.test(e.type||"")&&!C._data(e,"globalEval")&&C.contains(s,e)&&(e.src?C._evalUrl&&C._evalUrl(e.src):C.globalEval((e.text||e.textContent||e.innerHTML||"").replace(pt,"")));a=t=null}return this}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){C.fn[t]=function(t){for(var e,n=0,i=[],r=C(t),o=r.length-1;n<=o;n++)e=n===o?this:this.clone(!0),C(r[n])[s](e),a.apply(i,e.get());return this.pushStack(i)}});var St,Dt,Et={};function Tt(t,e){var n,i=C(e.createElement(t)).appendTo(e.body),r=p.getDefaultComputedStyle&&(n=p.getDefaultComputedStyle(i[0]))?n.display:C.css(i[0],"display");return i.detach(),r}function Mt(t){var e=k,n=Et[t];return n||("none"!==(n=Tt(t,e))&&n||((e=((St=(St||C("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||St[0].contentDocument).document).write(),e.close(),n=Tt(t,e),St.detach()),Et[t]=n),n}v.shrinkWrapBlocks=function(){return null!=Dt?Dt:(Dt=!1,(e=k.getElementsByTagName("body")[0])&&e.style?(t=k.createElement("div"),(n=k.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),typeof t.style.zoom!==O&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(k.createElement("div")).style.width="5px",Dt=3!==t.offsetWidth),e.removeChild(n),Dt):void 0);var t,e,n};var $t,Nt,At=/^margin/,Pt=new RegExp("^("+B+")(?!px)[a-z%]+$","i"),It=/^(top|right|bottom|left)$/;function Ot(e,n){return{get:function(){var t=e();if(null!=t)return t?void delete this.get:(this.get=n).apply(this,arguments)}}}p.getComputedStyle?($t=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},Nt=function(t,e,n){var i,r,o,s,a=t.style;return s=(n=n||$t(t))?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==s||C.contains(t.ownerDocument,t)||(s=C.style(t,e)),Pt.test(s)&&At.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):k.documentElement.currentStyle&&($t=function(t){return t.currentStyle},Nt=function(t,e,n){var i,r,o,s,a=t.style;return null==(s=(n=n||$t(t))?n[e]:void 0)&&a&&a[e]&&(s=a[e]),Pt.test(s)&&!It.test(e)&&(i=a.left,(o=(r=t.runtimeStyle)&&r.left)&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"}),function(){var t,e,n,r,o,s,a;if((t=k.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=(n=t.getElementsByTagName("a")[0])&&n.style){function i(){var t,e,n,i;(e=k.getElementsByTagName("body")[0])&&e.style&&(t=k.createElement("div"),(n=k.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=o=!1,a=!0,p.getComputedStyle&&(r="1%"!==(p.getComputedStyle(t,null)||{}).top,o="4px"===(p.getComputedStyle(t,null)||{width:"4px"}).width,(i=t.appendChild(k.createElement("div"))).style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",a=!parseFloat((p.getComputedStyle(i,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(i=t.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(s=0===i[0].offsetHeight)&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),e.removeChild(n))}e.cssText="float:left;opacity:.5",v.opacity="0.5"===e.opacity,v.cssFloat=!!e.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===t.style.backgroundClip,v.boxSizing=""===e.boxSizing||""===e.MozBoxSizing||""===e.WebkitBoxSizing,C.extend(v,{reliableHiddenOffsets:function(){return null==s&&i(),s},boxSizingReliable:function(){return null==o&&i(),o},pixelPosition:function(){return null==r&&i(),r},reliableMarginRight:function(){return null==a&&i(),a}})}}(),C.swap=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};var Rt=/alpha\([^)]*\)/i,Lt=/opacity\s*=\s*([^)]*)/,Ht=/^(none|table(?!-c[ea]).+)/,Ft=new RegExp("^("+B+")(.*)$","i"),zt=new RegExp("^([+-])=("+B+")","i"),jt={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:"0",fontWeight:"400"},Bt=["Webkit","O","Moz","ms"];function Yt(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=Bt.length;r--;)if((e=Bt[r]+n)in t)return e;return i}function qt(t,e){for(var n,i,r,o=[],s=0,a=t.length;s<a;s++)(i=t[s]).style&&(o[s]=C._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&W(i)&&(o[s]=C._data(i,"olddisplay",Mt(i.nodeName)))):(r=W(i),(n&&"none"!==n||!r)&&C._data(i,"olddisplay",r?n:C.css(i,"display"))));for(s=0;s<a;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function Ut(t,e,n){var i=Ft.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function Vt(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=C.css(t,n+Y[o],!0,r)),i?("content"===n&&(s-=C.css(t,"padding"+Y[o],!0,r)),"margin"!==n&&(s-=C.css(t,"border"+Y[o]+"Width",!0,r))):(s+=C.css(t,"padding"+Y[o],!0,r),"padding"!==n&&(s+=C.css(t,"border"+Y[o]+"Width",!0,r)));return s}function Gt(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=$t(t),s=v.boxSizing&&"border-box"===C.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=Nt(t,e,o))<0||null==r)&&(r=t.style[e]),Pt.test(r))return r;i=s&&(v.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+Vt(t,e,n||(s?"border":"content"),i,o)+"px"}function Xt(t,e,n,i,r){return new Xt.prototype.init(t,e,n,i,r)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Nt(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:v.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=C.camelCase(e),l=t.style;if(e=C.cssProps[a]||(C.cssProps[a]=Yt(l,a)),s=C.cssHooks[e]||C.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];if("string"===(o=typeof n)&&(r=zt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(C.css(t,e)),o="number"),null!=n&&n==n&&("number"!==o||C.cssNumber[a]||(n+="px"),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,i)))))try{l[e]=n}catch(t){}}},css:function(t,e,n,i){var r,o,s,a=C.camelCase(e);return e=C.cssProps[a]||(C.cssProps[a]=Yt(t.style,a)),(s=C.cssHooks[e]||C.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=Nt(t,e,i)),"normal"===o&&e in Wt&&(o=Wt[e]),""===n||n?(r=parseFloat(o),!0===n||C.isNumeric(r)?r||0:o):o}}),C.each(["height","width"],function(t,r){C.cssHooks[r]={get:function(t,e,n){return e?Ht.test(C.css(t,"display"))&&0===t.offsetWidth?C.swap(t,jt,function(){return Gt(t,r,n)}):Gt(t,r,n):void 0},set:function(t,e,n){var i=n&&$t(t);return Ut(0,e,n?Vt(t,r,n,v.boxSizing&&"border-box"===C.css(t,"boxSizing",!1,i),i):0)}}}),v.opacity||(C.cssHooks.opacity={get:function(t,e){return Lt.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=C.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===C.trim(o.replace(Rt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=Rt.test(o)?o.replace(Rt,r):o+" "+r)}}),C.cssHooks.marginRight=Ot(v.reliableMarginRight,function(t,e){return e?C.swap(t,{display:"inline-block"},Nt,[t,"marginRight"]):void 0}),C.each({margin:"",padding:"",border:"Width"},function(r,o){C.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+Y[e]+o]=i[e]||i[e-2]||i[0];return n}},At.test(r)||(C.cssHooks[r+o].set=Ut)}),C.fn.extend({css:function(t,e){return q(this,function(t,e,n){var i,r,o={},s=0;if(C.isArray(e)){for(i=$t(t),r=e.length;s<r;s++)o[e[s]]=C.css(t,e[s],!1,i);return o}return void 0!==n?C.style(t,e,n):C.css(t,e)},t,e,1<arguments.length)},show:function(){return qt(this,!0)},hide:function(){return qt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){W(this)?C(this).show():C(this).hide()})}}),((C.Tween=Xt).prototype={constructor:Xt,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var t=Xt.propHooks[this.prop];return t&&t.get?t.get(this):Xt.propHooks._default.get(this)},run:function(t){var e,n=Xt.propHooks[this.prop];return this.pos=e=this.options.duration?C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Xt.propHooks._default.set(this),this}}).init.prototype=Xt.prototype,(Xt.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=C.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[C.cssProps[t.prop]]||C.cssHooks[t.prop])?C.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}}).scrollTop=Xt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},C.fx=Xt.prototype.init,C.fx.step={};var Kt,Qt,Zt,Jt,te,ee,ne,ie=/^(?:toggle|show|hide)$/,re=new RegExp("^(?:([+-])=|)("+B+")([a-z%]*)$","i"),oe=/queueHooks$/,se=[function(e,t,n){var i,r,o,s,a,l,c,u=this,h={},d=e.style,f=e.nodeType&&W(e),p=C._data(e,"fxshow");for(i in n.queue||(null==(a=C._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,C.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],c=C.css(e,"display"),"inline"===("none"===c?C._data(e,"olddisplay")||Mt(e.nodeName):c)&&"none"===C.css(e,"float")&&(v.inlineBlockNeedsLayout&&"inline"!==Mt(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",v.shrinkWrapBlocks()||u.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(r=t[i],ie.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;f=!0}h[i]=p&&p[i]||C.style(e,i)}else c=void 0;if(C.isEmptyObject(h))"inline"===("none"===c?Mt(e.nodeName):c)&&(d.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=C._data(e,"fxshow",{}),o&&(p.hidden=!f),f?C(e).show():u.done(function(){C(e).hide()}),u.done(function(){var t;for(t in C._removeData(e,"fxshow"),h)C.style(e,t,h[t])}),h)s=ue(f?p[i]:0,i,u),i in p||(p[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}],ae={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=re.exec(e),o=r&&r[3]||(C.cssNumber[t]?"":"px"),s=(C.cssNumber[t]||"px"!==o&&+i)&&re.exec(C.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==o)for(o=o||s[3],r=r||[],s=+i||1;s/=a=a||".5",C.style(n.elem,t,s+o),a!==(a=n.cur()/i)&&1!==a&&--l;);return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};function le(){return setTimeout(function(){Kt=void 0}),Kt=C.now()}function ce(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=Y[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function ue(t,e,n){for(var i,r=(ae[e]||[]).concat(ae["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function he(o,t,e){var n,s,i=0,r=se.length,a=C.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Kt||le(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return a.notifyWith(o,[c,n,e]),n<1&&r?e:(a.resolveWith(o,[c]),!1)},c=a.promise({elem:o,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{}},e),originalProperties:t,originalOptions:e,startTime:Kt||le(),duration:e.duration,tweens:[],createTween:function(t,e){var n=C.Tween(o,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;e<n;e++)c.tweens[e].run(1);return t?a.resolveWith(o,[c,t]):a.rejectWith(o,[c,t]),this}}),u=c.props;for(function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=C.camelCase(n)],o=t[n],C.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=C.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);i<r;i++)if(n=se[i].call(c,o,u,c.opts))return n;return C.map(u,ue,c),C.isFunction(c.opts.start)&&c.opts.start.call(o,c),C.fx.timer(C.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}C.Animation=C.extend(he,{tweener:function(t,e){for(var n,i=0,r=(t=C.isFunction(t)?(e=t,["*"]):t.split(" ")).length;i<r;i++)n=t[i],ae[n]=ae[n]||[],ae[n].unshift(e)},prefilter:function(t,e){e?se.unshift(t):se.push(t)}}),C.speed=function(t,e,n){var i=t&&"object"==typeof t?C.extend({},t):{complete:n||!n&&e||C.isFunction(t)&&t,duration:t,easing:n&&e||e&&!C.isFunction(e)&&e};return i.duration=C.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in C.fx.speeds?C.fx.speeds[i.duration]:C.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){C.isFunction(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(t,e,n,i){return this.filter(W).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){function r(){var t=he(this,C.extend({},e),s);(o||C._data(this,"finish"))&&t.stop(!0)}var o=C.isEmptyObject(e),s=C.speed(t,n,i);return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(r,t,o){function s(t){var e=t.stop;delete t.stop,e(o)}return"string"!=typeof r&&(o=t,t=r,r=void 0),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=C.timers,i=C._data(this);if(e)i[e]&&i[e].stop&&s(i[e]);else for(e in i)i[e]&&i[e].stop&&oe.test(e)&&s(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||C.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=C._data(this),n=e[s+"queue"],i=e[s+"queueHooks"],r=C.timers,o=n?n.length:0;for(e.finish=!0,C.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===s&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),C.each(["toggle","show","hide"],function(t,i){var r=C.fn[i];C.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(ce(i,!0),t,e,n)}}),C.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){C.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),C.timers=[],C.fx.tick=function(){var t,e=C.timers,n=0;for(Kt=C.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||C.fx.stop(),Kt=void 0},C.fx.timer=function(t){C.timers.push(t),t()?C.fx.start():C.timers.pop()},C.fx.interval=13,C.fx.start=function(){Qt=Qt||setInterval(C.fx.tick,C.fx.interval)},C.fx.stop=function(){clearInterval(Qt),Qt=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(i,t){return i=C.fx&&C.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=setTimeout(t,i);e.stop=function(){clearTimeout(n)}})},(Jt=k.createElement("div")).setAttribute("className","t"),Jt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ee=Jt.getElementsByTagName("a")[0],ne=(te=k.createElement("select")).appendChild(k.createElement("option")),Zt=Jt.getElementsByTagName("input")[0],ee.style.cssText="top:1px",v.getSetAttribute="t"!==Jt.className,v.style=/top/.test(ee.getAttribute("style")),v.hrefNormalized="/a"===ee.getAttribute("href"),v.checkOn=!!Zt.value,v.optSelected=ne.selected,v.enctype=!!k.createElement("form").enctype,te.disabled=!0,v.optDisabled=!ne.disabled,(Zt=k.createElement("input")).setAttribute("value",""),v.input=""===Zt.getAttribute("value"),Zt.value="t",Zt.setAttribute("type","radio"),v.radioValue="t"===Zt.value;var de=/\r/g;C.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=C.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,C(this).val()):n)?e="":"number"==typeof e?e+="":C.isArray(e)&&(e=C.map(e,function(t){return null==t?"":t+""})),(i=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):e?(i=C.valHooks[e.type]||C.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(de,""):null==t?"":t:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:C.trim(C.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++)if(!(!(n=i[l]).selected&&l!==r||(v.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&C.nodeName(n.parentNode,"optgroup"))){if(e=C(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=C.makeArray(e),s=r.length;s--;)if(i=r[s],0<=C.inArray(C.valHooks.option.get(i),o))try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(t,e){return C.isArray(e)?t.checked=0<=C.inArray(C(t).val(),e):void 0}},v.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var fe,pe,ge=C.expr.attrHandle,me=/^(?:checked|selected)$/i,ve=v.getSetAttribute,ye=v.input;C.fn.extend({attr:function(t,e){return q(this,C.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){C.removeAttr(this,t)})}}),C.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===O?C.prop(t,e,n):(1===o&&C.isXMLDoc(t)||(e=e.toLowerCase(),i=C.attrHooks[e]||(C.expr.match.bool.test(e)?pe:fe)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=C.find.attr(t,e))?void 0:r:null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void C.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match($);if(o&&1===t.nodeType)for(;n=o[r++];)i=C.propFix[n]||n,C.expr.match.bool.test(n)?ye&&ve||!me.test(n)?t[i]=!1:t[C.camelCase("default-"+n)]=t[i]=!1:C.attr(t,n,""),t.removeAttribute(ve?n:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&C.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),pe={set:function(t,e,n){return!1===e?C.removeAttr(t,n):ye&&ve||!me.test(n)?t.setAttribute(!ve&&C.propFix[n]||n,n):t[C.camelCase("default-"+n)]=t[n]=!0,n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(t,e){var o=ge[e]||C.find.attr;ge[e]=ye&&ve||!me.test(e)?function(t,e,n){var i,r;return n||(r=ge[e],ge[e]=i,i=null!=o(t,e,n)?e.toLowerCase():null,ge[e]=r),i}:function(t,e,n){return n?void 0:t[C.camelCase("default-"+e)]?e.toLowerCase():null}}),ye&&ve||(C.attrHooks.value={set:function(t,e,n){return C.nodeName(t,"input")?void(t.defaultValue=e):fe&&fe.set(t,e,n)}}),ve||(fe={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},ge.id=ge.name=ge.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},C.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:fe.set},C.attrHooks.contenteditable={set:function(t,e,n){fe.set(t,""!==e&&e,n)}},C.each(["width","height"],function(t,n){C.attrHooks[n]={set:function(t,e){return""===e?(t.setAttribute(n,"auto"),e):void 0}}})),v.style||(C.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var be=/^(?:input|select|textarea|button|object)$/i,we=/^(?:a|area)$/i;C.fn.extend({prop:function(t,e){return q(this,C.prop,t,e,1<arguments.length)},removeProp:function(t){return t=C.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),C.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return(1!==o||!C.isXMLDoc(t))&&(e=C.propFix[e]||e,r=C.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");return e?parseInt(e,10):be.test(t.nodeName)||we.test(t.nodeName)&&t.href?0:-1}}}}),v.hrefNormalized||C.each(["href","src"],function(t,e){C.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),v.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),v.enctype||(C.propFix.enctype="encoding");var xe=/[\t\r\n\f]/g;C.fn.extend({addClass:function(e){var t,n,i,r,o,s,a=0,l=this.length,c="string"==typeof e&&e;if(C.isFunction(e))return this.each(function(t){C(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match($)||[];a<l;a++)if(i=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(xe," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=C.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,o,s,a=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(C.isFunction(e))return this.each(function(t){C(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match($)||[];a<l;a++)if(i=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(xe," "):"")){for(o=0;r=t[o++];)for(;0<=i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");s=e?C.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(r,e){var o=typeof r;return"boolean"==typeof e&&"string"==o?e?this.addClass(r):this.removeClass(r):this.each(C.isFunction(r)?function(t){C(this).toggleClass(r.call(this,t,this.className,e),e)}:function(){if("string"==o)for(var t,e=0,n=C(this),i=r.match($)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else o!==O&&"boolean"!=o||(this.className&&C._data(this,"__className__",this.className),this.className=this.className||!1===r?"":C._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(xe," ").indexOf(e))return!0;return!1}}),C.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){C.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),C.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var _e=C.now(),Ce=/\?/,ke=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;C.parseJSON=function(t){if(p.JSON&&p.JSON.parse)return p.JSON.parse(t+"");var r,o=null,e=C.trim(t+"");return e&&!C.trim(e.replace(ke,function(t,e,n,i){return r&&e&&(o=0),0===o?t:(r=n||e,o+=!i-!n,"")}))?Function("return "+e)():C.error("Invalid JSON: "+t)},C.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{p.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(t){e=void 0}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+t),e};var Se,De,Ee=/#.*$/,Te=/([?&])_=[^&]*/,Me=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$e=/^(?:GET|HEAD)$/,Ne=/^\/\//,Ae=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Pe={},Ie={},Oe="*/".concat("*");try{De=location.href}catch(t){(De=k.createElement("a")).href="",De=De.href}function Re(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match($)||[];if(C.isFunction(e))for(;n=r[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function Le(e,r,o,s){var a={},l=e===Ie;function c(t){var i;return a[t]=!0,C.each(e[t]||[],function(t,e){var n=e(r,o,s);return"string"!=typeof n||l||a[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),c(n),!1)}),i}return c(r.dataTypes[0])||!a["*"]&&c("*")}function He(t,e){var n,i,r=C.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n=n||{})[i]=e[i]);return n&&C.extend(!0,t,n),t}Se=Ae.exec(De.toLowerCase())||[],C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:De,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Se[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Oe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":C.parseJSON,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,C.ajaxSettings),e):He(C.ajaxSettings,t)},ajaxPrefilter:Re(Pe),ajaxTransport:Re(Ie),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i,u,h,d,f,p,r,g=C.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?C(m):C.event,y=C.Deferred(),b=C.Callbacks("once memory"),w=g.statusCode||{},o={},s={},x=0,a="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!r)for(r={};e=Me.exec(h);)r[e[1].toLowerCase()]=e[2];e=r[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?h:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=s[n]=s[n]||t,o[t]=e),this},overrideMimeType:function(t){return x||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)w[e]=[w[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||a;return p&&p.abort(e),l(0,e),this}};if(y.promise(_).complete=b.add,_.success=_.done,_.error=_.fail,g.url=((t||g.url||De)+"").replace(Ee,"").replace(Ne,Se[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=C.trim(g.dataType||"*").toLowerCase().match($)||[""],null==g.crossDomain&&(n=Ae.exec(g.url.toLowerCase()),g.crossDomain=!(!n||n[1]===Se[1]&&n[2]===Se[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Se[3]||("http:"===Se[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=C.param(g.data,g.traditional)),Le(Pe,g,e,_),2===x)return _;for(i in(f=g.global)&&0==C.active++&&C.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!$e.test(g.type),u=g.url,g.hasContent||(g.data&&(u=g.url+=(Ce.test(u)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=Te.test(u)?u.replace(Te,"$1_="+_e++):u+(Ce.test(u)?"&":"?")+"_="+_e++)),g.ifModified&&(C.lastModified[u]&&_.setRequestHeader("If-Modified-Since",C.lastModified[u]),C.etag[u]&&_.setRequestHeader("If-None-Match",C.etag[u])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&_.setRequestHeader("Content-Type",g.contentType),_.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Oe+"; q=0.01":""):g.accepts["*"]),g.headers)_.setRequestHeader(i,g.headers[i]);if(g.beforeSend&&(!1===g.beforeSend.call(m,_,g)||2===x))return _.abort();for(i in a="abort",{success:1,error:1,complete:1})_[i](g[i]);if(p=Le(Ie,g,e,_)){_.readyState=1,f&&v.trigger("ajaxSend",[_,g]),g.async&&0<g.timeout&&(d=setTimeout(function(){_.abort("timeout")},g.timeout));try{x=1,p.send(o,l)}catch(t){if(!(x<2))throw t;l(-1,t)}}else l(-1,"No Transport");function l(t,e,n,i){var r,o,s,a,l,c=e;2!==x&&(x=2,d&&clearTimeout(d),p=void 0,h=i||"",_.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(a=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}i=i||s}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}(g,_,n)),a=function(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(g,a,_,r),r?(g.ifModified&&((l=_.getResponseHeader("Last-Modified"))&&(C.lastModified[u]=l),(l=_.getResponseHeader("etag"))&&(C.etag[u]=l)),204===t||"HEAD"===g.type?c="nocontent":304===t?c="notmodified":(c=a.state,o=a.data,r=!(s=a.error))):(s=c,!t&&c||(c="error",t<0&&(t=0))),_.status=t,_.statusText=(e||c)+"",r?y.resolveWith(m,[o,c,_]):y.rejectWith(m,[_,c,s]),_.statusCode(w),w=void 0,f&&v.trigger(r?"ajaxSuccess":"ajaxError",[_,g,r?o:s]),b.fireWith(m,[_,c]),f&&(v.trigger("ajaxComplete",[_,g]),--C.active||C.event.trigger("ajaxStop")))}return _},getJSON:function(t,e,n){return C.get(t,e,n,"json")},getScript:function(t,e){return C.get(t,void 0,e,"script")}}),C.each(["get","post"],function(t,r){C[r]=function(t,e,n,i){return C.isFunction(e)&&(i=i||n,n=e,e=void 0),C.ajax({url:t,type:r,dataType:i,data:e,success:n})}}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){C.fn[e]=function(t){return this.on(e,t)}}),C._evalUrl=function(t){return C.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(e){if(C.isFunction(e))return this.each(function(t){C(this).wrapAll(e.call(this,t))});if(this[0]){var t=C(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return this.each(C.isFunction(n)?function(t){C(this).wrapInner(n.call(this,t))}:function(){var t=C(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=C.isFunction(e);return this.each(function(t){C(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){C.nodeName(this,"body")||C(this).replaceWith(this.childNodes)}).end()}}),C.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!v.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||C.css(t,"display"))},C.expr.filters.visible=function(t){return!C.expr.filters.hidden(t)};var Fe=/%20/g,ze=/\[\]$/,je=/\r?\n/g,We=/^(?:submit|button|image|reset|file)$/i,Be=/^(?:input|select|textarea|keygen)/i;function Ye(n,t,i,r){var e;if(C.isArray(t))C.each(t,function(t,e){i||ze.test(n)?r(n,e):Ye(n+"["+("object"==typeof e?t:"")+"]",e,i,r)});else if(i||"object"!==C.type(t))r(n,t);else for(e in t)Ye(n+"["+e+"]",t[e],i,r)}C.param=function(t,e){function n(t,e){e=C.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)}var i,r=[];if(void 0===e&&(e=C.ajaxSettings&&C.ajaxSettings.traditional),C.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,function(){n(this.name,this.value)});else for(i in t)Ye(i,t[i],e,n);return r.join("&").replace(Fe,"+")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&Be.test(this.nodeName)&&!We.test(t)&&(this.checked||!U.test(t))}).map(function(t,e){var n=C(this).val();return null==n?null:C.isArray(n)?C.map(n,function(t){return{name:e.name,value:t.replace(je,"\r\n")}}):{name:e.name,value:n.replace(je,"\r\n")}}).get()}}),C.ajaxSettings.xhr=void 0!==p.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Ge()||function(){try{return new p.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:Ge;var qe=0,Ue={},Ve=C.ajaxSettings.xhr();function Ge(){try{return new p.XMLHttpRequest}catch(t){}}p.ActiveXObject&&C(p).on("unload",function(){for(var t in Ue)Ue[t](void 0,!0)}),v.cors=!!Ve&&"withCredentials"in Ve,(Ve=v.ajax=!!Ve)&&C.ajaxTransport(function(l){var c;if(!l.crossDomain||v.cors)return{send:function(t,o){var e,s=l.xhr(),a=++qe;if(s.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(e in l.xhrFields)s[e]=l.xhrFields[e];for(e in l.mimeType&&s.overrideMimeType&&s.overrideMimeType(l.mimeType),l.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)void 0!==t[e]&&s.setRequestHeader(e,t[e]+"");s.send(l.hasContent&&l.data||null),c=function(t,e){var n,i,r;if(c&&(e||4===s.readyState))if(delete Ue[a],c=void 0,s.onreadystatechange=C.noop,e)4!==s.readyState&&s.abort();else{r={},n=s.status,"string"==typeof s.responseText&&(r.text=s.responseText);try{i=s.statusText}catch(t){i=""}n||!l.isLocal||l.crossDomain?1223===n&&(n=204):n=r.text?200:404}r&&o(n,i,r,s.getAllResponseHeaders())},l.async?4===s.readyState?setTimeout(c):s.onreadystatechange=Ue[a]=c:c()},abort:function(){c&&c(void 0,!0)}}}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),C.ajaxTransport("script",function(e){if(e.crossDomain){var i,r=k.head||C("head")[0]||k.documentElement;return{send:function(t,n){(i=k.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){!e&&i.readyState&&!/loaded|complete/.test(i.readyState)||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},r.insertBefore(i,r.firstChild)},abort:function(){i&&i.onload(void 0,!0)}}}});var Xe=[],Ke=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||C.expando+"_"+_e++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,s=!1!==t.jsonp&&(Ke.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=C.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ke,"$1"+i):!1!==t.jsonp&&(t.url+=(Ce.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||C.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=p[i],p[i]=function(){o=arguments},n.always(function(){p[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,Xe.push(i)),o&&C.isFunction(r)&&r(o[0]),o=r=void 0}),"script"):void 0}),C.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||k;var i=b.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=C.buildFragment([t],e,r),r&&r.length&&C(r).remove(),C.merge([],i.childNodes))};var Qe=C.fn.load;C.fn.load=function(t,e,n){if("string"!=typeof t&&Qe)return Qe.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return 0<=a&&(i=C.trim(t.slice(a,t.length)),t=t.slice(0,a)),C.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),0<s.length&&C.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?C("<div>").append(C.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,r||[t.responseText,e,t])}),this},C.expr.filters.animated=function(e){return C.grep(C.timers,function(t){return e===t.elem}).length};var Ze=p.document.documentElement;function Je(t){return C.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}C.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,c=C.css(t,"position"),u=C(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=C.css(t,"top"),l=C.css(t,"left"),r=("absolute"===c||"fixed"===c)&&-1<C.inArray("auto",[o,l])?(s=(i=u.position()).top,i.left):(s=parseFloat(o)||0,parseFloat(l)||0),C.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):u.css(h)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){C.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(t=o.documentElement,C.contains(t,r)?(typeof r.getBoundingClientRect!==O&&(i=r.getBoundingClientRect()),n=Je(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===C.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),C.nodeName(t[0],"html")||(n=t.offset()),n.top+=C.css(t[0],"borderTopWidth",!0),n.left+=C.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-C.css(i,"marginTop",!0),left:e.left-n.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Ze;t&&!C.nodeName(t,"html")&&"static"===C.css(t,"position");)t=t.offsetParent;return t||Ze})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o=/Y/.test(r);C.fn[e]=function(t){return q(this,function(t,e,n){var i=Je(t);return void 0===n?i?r in i?i[r]:i.document.documentElement[e]:t[e]:void(i?i.scrollTo(o?C(i).scrollLeft():n,o?n:C(i).scrollTop()):t[e]=n)},e,t,arguments.length,null)}}),C.each(["top","left"],function(t,n){C.cssHooks[n]=Ot(v.pixelPosition,function(t,e){return e?(e=Nt(t,n),Pt.test(e)?C(t).position()[n]+"px":e):void 0})}),C.each({Height:"height",Width:"width"},function(o,s){C.each({padding:"inner"+o,content:s,"":"outer"+o},function(i,t){C.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return q(this,function(t,e,n){var i;return C.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+o],i["scroll"+o],t.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?C.css(t,e,r):C.style(t,e,n,r)},s,n?t:void 0,n,null)}})}),C.fn.size=function(){return this.length},C.fn.andSelf=C.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var tn=p.jQuery,en=p.$;return C.noConflict=function(t){return p.$===C&&(p.$=en),t&&p.jQuery===C&&(p.jQuery=tn),C},typeof t===O&&(p.jQuery=p.$=C),C}),function(m,J,tt){"use strict";function _(o){return function(){var t,e,n,i=arguments[0],r=arguments;for(t=(t="["+(o?o+":":"")+i+"] "+arguments[1].replace(/\{\d+\}/g,function(t){var e,n=+t.slice(1,-1);return 2+n<r.length?"function"==typeof(e=r[2+n])?e.toString().replace(/ ?\{[\s\S]*$/,""):void 0===e?"undefined":"string"!=typeof e?B(e):e:t}))+"\nhttp://errors.angularjs.org/1.2.21-build.337+sha.1111076/"+(o?o+"/":"")+i,e=2;e<arguments.length;e++)t=t+(2==e?"?":"&")+"p"+(e-2)+"="+encodeURIComponent("function"==typeof(n=arguments[e])?n.toString().replace(/ \{[\s\S]*$/,""):void 0===n?"undefined":"string"!=typeof n?JSON.stringify(n):n);return new Error(t)}}var x="validity",w=function(t){return ot(t)?t.toLowerCase():t},C=Object.prototype.hasOwnProperty,c=function(t){return ot(t)?t.toUpperCase():t};"i"!=="I".toLowerCase()&&(w=function(t){return ot(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},c=function(t){return ot(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t});var et,nt,p,f,$,i=[].slice,t=[].push,a=Object.prototype.toString,u=_("ng"),h=m.angular||(m.angular={}),n=["0","0","0"];function N(t){if(null==t||M(t))return!1;var e=t.length;return!(1!==t.nodeType||!e)||(ot(t)||st(t)||0===e||"number"==typeof e&&0<e&&e-1 in t)}function it(t,e,n){var i;if(t)if(at(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i);else if(st(t)||N(t))for(i=0;i<t.length;i++)e.call(n,t[i],i);else if(t.forEach&&t.forEach!==it)t.forEach(e,n);else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i);return t}function F(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e.sort()}function g(n){return function(t,e){n(e,t)}}function r(){for(var t,e=n.length;e;){if(57==(t=n[--e].charCodeAt(0)))return n[e]="A",n.join("");if(90!=t)return n[e]=String.fromCharCode(t+1),n.join("");n[e]="0"}return n.unshift("0"),n.join("")}function d(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function A(n){var t=n.$$hashKey;return it(arguments,function(t){t!==n&&it(t,function(t,e){n[e]=t})}),d(n,t),n}function k(t){return parseInt(t,10)}function v(t,e){return A(new(A(function(){},{prototype:t})),e)}function S(){}function y(t){return t}function b(t){return function(){return t}}function D(t){return void 0===t}function z(t){return void 0!==t}function rt(t){return null!=t&&"object"==typeof t}function ot(t){return"string"==typeof t}function l(t){return"number"==typeof t}function E(t){return"[object Date]"===a.call(t)}et=k((/msie (\d+)/.exec(w(navigator.userAgent))||[])[1]),isNaN(et)&&(et=k((/trident\/.*; rv:(\d+)/.exec(w(navigator.userAgent))||[])[1])),S.$inject=[],y.$inject=[];var st=at(Array.isArray)?Array.isArray:function(t){return"[object Array]"===a.call(t)};function at(t){return"function"==typeof t}function T(t){return"[object RegExp]"===a.call(t)}function M(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function P(t){return t&&t.$evalAsync&&t.$watch}function I(t){return t&&at(t.then)}var lt=String.prototype.trim?function(t){return ot(t)?t.trim():t}:function(t){return ot(t)?t.replace(/^\s\s*/,"").replace(/\s\s*$/,""):t};function e(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function O(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}function R(t,e){var n=O(t,e);return 0<=n&&t.splice(n,1),e}function L(t,n,e,i){if(M(t)||P(t))throw u("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(n){if(t===n)throw u("cpi","Can't copy! Source and destination are identical.");if(e=e||[],i=i||[],rt(t)){var r=O(e,t);if(-1!==r)return i[r];e.push(t),i.push(n)}var o;if(st(t))for(var s=n.length=0;s<t.length;s++)o=L(t[s],null,e,i),rt(t[s])&&(e.push(t[s]),i.push(o)),n.push(o);else{var a=n.$$hashKey;for(var l in it(n,function(t,e){delete n[e]}),t)o=L(t[l],null,e,i),rt(t[l])&&(e.push(t[l]),i.push(o)),n[l]=o;d(n,a)}}else(n=t)&&(st(t)?n=L(t,[],e,i):E(t)?n=new Date(t.getTime()):T(t)?n=new RegExp(t.source):rt(t)&&(n=L(t,{},e,i)));return n}function ct(t,e){if(st(t)){e=e||[];for(var n=0;n<t.length;n++)e[n]=t[n]}else if(rt(t))for(var i in e=e||{},t)!C.call(t,i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i]);return e||t}function ut(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i,r,o=typeof t;if(o==typeof e&&"object"==o){if(!st(t)){if(E(t))return E(e)&&t.getTime()==e.getTime();if(T(t)&&T(e))return t.toString()==e.toString();if(P(t)||P(e)||M(t)||M(e)||st(e))return!1;for(i in r={},t)if("$"!==i.charAt(0)&&!at(t[i])){if(!ut(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!r.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==tt&&!at(e[i]))return!1;return!0}if(!st(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!ut(t[i],e[i]))return!1;return!0}}return!1}$=et<9?function(t){return(t=t.nodeName?t:t[0]).scopeName&&"HTML"!=t.scopeName?c(t.scopeName+":"+t.nodeName):t.nodeName}:function(t){return t.nodeName?t.nodeName:t[0].nodeName};var H=function(){if(z(H.isActive_))return H.isActive_;var e=!(!J.querySelector("[ng-csp]")&&!J.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(t){e=!0}return H.isActive_=e};function j(t,e,n){return t.concat(i.call(e,n))}function ht(t,e){return i.call(t,e||0)}function W(t,e){var n=2<arguments.length?ht(arguments,2):[];return!at(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,n.concat(i.call(arguments,0))):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function o(t,e){var n=e;return"string"==typeof t&&"$"===t.charAt(0)?n=tt:M(e)?n="$WINDOW":e&&J===e?n="$DOCUMENT":P(e)&&(n="$SCOPE"),n}function B(t,e){return void 0===t?tt:JSON.stringify(t,o,e?"  ":null)}function s(t){return ot(t)?JSON.parse(t):t}function Y(t){if("function"==typeof t)t=!0;else if(t&&0!==t.length){var e=w(""+t);t=!("f"==e||"0"==e||"false"==e||"no"==e||"n"==e||"[]"==e)}else t=!1;return t}function dt(t){t=nt(t).clone();try{t.empty()}catch(t){}var e=nt("<div>").append(t).html();try{return 3===t[0].nodeType?w(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+w(e)})}catch(t){return w(e)}}function q(t){try{return decodeURIComponent(t)}catch(t){}}function U(t){var n,i,r={};return it((t||"").split("&"),function(t){if(t&&(n=t.replace(/\+/g,"%20").split("="),z(i=q(n[0])))){var e=!z(n[1])||q(n[1]);C.call(r,i)?st(r[i])?r[i].push(e):r[i]=[r[i],e]:r[i]=e}}),r}function V(t){var n=[];return it(t,function(t,e){st(t)?it(t,function(t){n.push(X(e,!0)+(!0===t?"":"="+X(t,!0)))}):n.push(X(e,!0)+(!0===t?"":"="+X(t,!0)))}),n.length?n.join("&"):""}function G(t){return X(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function X(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function K(n,i){function e(){if((n=nt(n)).injector()){var t=n[0]===J?"document":dt(n);throw u("btstrpd","App Already Bootstrapped with this Element '{0}'",t)}(i=i||[]).unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.unshift("ng");var e=ue(i);return e.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(t,e,n,i,r){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),e}var t=/^NG_DEFER_BOOTSTRAP!/;if(m&&!t.test(m.name))return e();m.name=m.name.replace(t,""),h.resumeBootstrap=function(t){it(t,function(t){i.push(t)}),e()}}var Q=/[A-Z]/g;function ft(t,n){return n=n||"_",t.replace(Q,function(t,e){return(e?n:"")+t.toLowerCase()})}function pt(t,e,n){if(!t)throw u("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function Z(t,e,n){return n&&st(t)&&(t=t[t.length-1]),pt(at(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function gt(t,e){if("hasOwnProperty"===t)throw u("badname","hasOwnProperty is not a valid {0} name",e)}function mt(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,s=r.length,a=0;a<s;a++)i=r[a],t=t&&(o=t)[i];return!n&&at(t)?W(o,t):t}function vt(t){var e=t[0],n=t[t.length-1];if(e===n)return nt(e);var i=e,r=[i];do{if(!(i=i.nextSibling))break;r.push(i)}while(i!==n);return nt(r)}var yt={full:"1.2.21-build.337+sha.1111076",major:1,minor:2,dot:21,codeName:"snapshot"};Ot.expando="ng339";var bt=Ot.cache={},wt=1,xt=m.document.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)},_t=m.document.removeEventListener?function(t,e,n){t.removeEventListener(e,n,!1)}:function(t,e,n){t.detachEvent("on"+e,n)};Ot._data=function(t){return this.cache[t[this.expando]]||{}};var Ct=/([\:\-\_]+(.))/g,kt=/^moz([A-Z])/,St=_("jqLite");function Dt(t){return t.replace(Ct,function(t,e,n,i){return i?n.toUpperCase():n}).replace(kt,"Moz$1")}function Et(t,u,h,d){var f=p.fn[t];function e(t){var e,n,i,r,o,s,a,l=h&&t?[this.filter(t)]:[this],c=u;if(!d||null!=t)for(;l.length;)for(n=0,i=(e=l.shift()).length;n<i;n++)for(r=nt(e[n]),c?r.triggerHandler("$destroy"):c=!c,o=0,s=(a=r.children()).length;o<s;o++)l.push(p(a[o]));return f.apply(this,arguments)}f=f.$original||f,e.$original=f,p.fn[t]=e}var Tt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Mt=/<|&#?\w+;/,$t=/<([\w:]+)/,Nt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,At={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Pt(t){return!Mt.test(t)}function It(t,e){var n;return e=e||J,(n=Tt.exec(t))?[e.createElement(n[1])]:function(t,e){var n,i,r,o,s,a,l=e.createDocumentFragment(),c=[];if(Pt(t))c.push(e.createTextNode(t));else{for(n=l.appendChild(e.createElement("div")),i=($t.exec(t)||["",""])[1].toLowerCase(),r=At[i]||At._default,n.innerHTML="<div>&#160;</div>"+r[1]+t.replace(Nt,"<$1></$2>")+r[2],n.removeChild(n.firstChild),o=r[0];o--;)n=n.lastChild;for(s=0,a=n.childNodes.length;s<a;++s)c.push(n.childNodes[s]);(n=l.firstChild).textContent=""}return l.textContent="",l.innerHTML="",c}(t,e)}function Ot(t){if(t instanceof Ot)return t;if(ot(t)&&(t=lt(t)),!(this instanceof Ot)){if(ot(t)&&"<"!=t.charAt(0))throw St("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ot(t)}ot(t)?(qt(this,It(t)),nt(J.createDocumentFragment()).append(this)):qt(this,t)}function Rt(t){return t.cloneNode(!0)}function Lt(t){Ft(t);for(var e=0,n=t.childNodes||[];e<n.length;e++)Lt(n[e])}function Ht(n,t,e,i){if(z(i))throw St("offargs","jqLite#off() does not support the `selector` argument");var r=zt(n,"events");zt(n,"handle")&&(D(t)?it(r,function(t,e){_t(n,e,t),delete r[e]}):it(t.split(" "),function(t){D(e)?(_t(n,t,r[t]),delete r[t]):R(r[t]||[],e)}))}function Ft(t,e){var n=t.ng339,i=bt[n];if(i){if(e)return void delete bt[n].data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Ht(t)),delete bt[n],t.ng339=tt}}function zt(t,e,n){var i=t.ng339,r=bt[i||-1];if(!z(n))return r&&r[e];r||(t.ng339=i=++wt,r=bt[i]={}),r[e]=n}function jt(t,e,n){var i=zt(t,"data"),r=z(n),o=!r&&z(e),s=o&&!rt(e);if(i||s||zt(t,"data",i={}),r)i[e]=n;else{if(!o)return i;if(s)return i&&i[e];A(i,e)}}function Wt(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function Bt(e,t){t&&e.setAttribute&&it(t.split(" "),function(t){e.setAttribute("class",lt((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+lt(t)+" "," ")))})}function Yt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");it(e.split(" "),function(t){t=lt(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",lt(n))}}function qt(t,e){if(e){e=e.nodeName||!z(e.length)||M(e)?[e]:e;for(var n=0;n<e.length;n++)t.push(e[n])}}function Ut(t,e){return Vt(t,"$"+(e||"ngController")+"Controller")}function Vt(t,e,n){9==t.nodeType&&(t=t.documentElement);for(var i=st(e)?e:[e];t;){for(var r=0,o=i.length;r<o;r++)if((n=nt.data(t,i[r]))!==tt)return n;t=t.parentNode||11===t.nodeType&&t.host}}function Gt(t){for(var e=0,n=t.childNodes;e<n.length;e++)Lt(n[e]);for(;t.firstChild;)t.removeChild(t.firstChild)}At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td;var Xt=Ot.prototype={ready:function(t){var e=!1;function n(){e||(e=!0,t())}"complete"===J.readyState?setTimeout(n):(this.on("DOMContentLoaded",n),Ot(m).on("load",n))},toString:function(){var e=[];return it(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(t){return nt(0<=t?this[t]:this[this.length+t])},length:0,push:t,sort:[].sort,splice:[].splice},Kt={};it("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Kt[w(t)]=t});var Qt,Zt={};function Jt(t,e){var n=Kt[e.toLowerCase()];return n&&Zt[t.nodeName]&&n}function te(t,e){var n=Qt[t.nodeType];if(D(e))return n?t[n]:"";t[n]=e}function ee(i,r){function t(e,t){if(e.preventDefault||(e.preventDefault=function(){e.returnValue=!1}),e.stopPropagation||(e.stopPropagation=function(){e.cancelBubble=!0}),e.target||(e.target=e.srcElement||J),D(e.defaultPrevented)){var n=e.preventDefault;e.preventDefault=function(){e.defaultPrevented=!0,n.call(e)},e.defaultPrevented=!1}e.isDefaultPrevented=function(){return e.defaultPrevented||!1===e.returnValue},it(ct(r[t||e.type]||[]),function(t){t.call(i,e)}),et<=8?(e.preventDefault=null,e.stopPropagation=null,e.isDefaultPrevented=null):(delete e.preventDefault,delete e.stopPropagation,delete e.isDefaultPrevented)}return t.elem=i,t}function ne(t,e){var n,i=typeof t;return"function"==i||"object"==i&&null!==t?"function"==typeof(n=t.$$hashKey)?n=t.$$hashKey():n===tt&&(n=t.$$hashKey=(e||r)()):n=t,i+":"+n}function ie(t,e){if(e){var n=0;this.nextUid=function(){return++n}}it(t,this.put,this)}it("input,select,option,textarea,button,form,details".split(","),function(t){Zt[c(t)]=!0}),it({data:jt,removeData:Ft},function(t,e){Ot[e]=t}),it({data:jt,inheritedData:Vt,scope:function(t){return nt.data(t,"$scope")||Vt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return nt.data(t,"$isolateScope")||nt.data(t,"$isolateScopeNoTemplate")},controller:Ut,injector:function(t){return Vt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Wt,css:function(t,e,n){var i;if(e=Dt(e),!z(n))return et<=8&&""===(i=t.currentStyle&&t.currentStyle[e])&&(i="auto"),i=i||t.style[e],et<=8&&(i=""===i?tt:i),i;t.style[e]=n},attr:function(t,e,n){var i=w(e);if(Kt[i]){if(!z(n))return t[e]||(t.attributes.getNamedItem(e)||S).specified?i:tt;n?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(z(n))t.setAttribute(e,n);else if(t.getAttribute){var r=t.getAttribute(e,2);return null===r?tt:r}},prop:function(t,e,n){if(!z(n))return t[e];t[e]=n},text:(Qt=[],et<9?(Qt[1]="innerText",Qt[3]="nodeValue"):Qt[1]=Qt[3]="textContent",te.$dv="",te),val:function(t,e){if(D(e)){if("SELECT"===$(t)&&t.multiple){var n=[];return it(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(D(e))return t.innerHTML;for(var n=0,i=t.childNodes;n<i.length;n++)Lt(i[n]);t.innerHTML=e},empty:Gt},function(c,t){Ot.prototype[t]=function(t,e){var n,i,r=this.length;if(c!==Gt&&(2==c.length&&c!==Wt&&c!==Ut?t:e)===tt){if(rt(t)){for(n=0;n<r;n++)if(c===jt)c(this[n],t);else for(i in t)c(this[n],i,t[i]);return this}for(var o=c.$dv,s=o===tt?Math.min(r,1):r,a=0;a<s;a++){var l=c(this[a],t,e);o=o?o+l:l}return o}for(n=0;n<r;n++)c(this[n],t,e);return this}}),it({removeData:Ft,dealoc:Lt,on:function e(r,t,o,n){if(z(n))throw St("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var s=zt(r,"events"),a=zt(r,"handle");s||zt(r,"events",s={}),a||zt(r,"handle",a=ee(r,s)),it(t.split(" "),function(n){var t=s[n];if(!t){if("mouseenter"==n||"mouseleave"==n){var i=J.body.contains||J.body.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1};s[n]=[];e(r,{mouseleave:"mouseout",mouseenter:"mouseover"}[n],function(t){var e=t.relatedTarget;e&&(e===this||i(this,e))||a(t,n)})}else xt(r,n,a),s[n]=[];t=s[n]}t.push(o)})},off:Ht,one:function(e,n,i){(e=nt(e)).on(n,function t(){e.off(n,i),e.off(n,t)}),e.on(n,i)},replaceWith:function(e,t){var n,i=e.parentNode;Lt(e),it(new Ot(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(t){var e=[];return it(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(e,t){it(new Ot(t),function(t){1!==e.nodeType&&11!==e.nodeType||e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;it(new Ot(t),function(t){e.insertBefore(t,n)})}},wrap:function(t,e){e=nt(e)[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:function(t){Lt(t);var e=t.parentNode;e&&e.removeChild(t)},after:function(t,e){var n=t,i=t.parentNode;it(new Ot(e),function(t){i.insertBefore(t,n.nextSibling),n=t})},addClass:Yt,removeClass:Bt,toggleClass:function(n,t,i){t&&it(t.split(" "),function(t){var e=i;D(e)&&(e=!Wt(n,t)),(e?Yt:Bt)(n,t)})},parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},next:function(t){if(t.nextElementSibling)return t.nextElementSibling;for(var e=t.nextSibling;null!=e&&1!==e.nodeType;)e=e.nextSibling;return e},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Rt,triggerHandler:function(e,t,n){var i=(zt(e,"events")||{})[t];n=n||[];var r=[{preventDefault:S,stopPropagation:S}];it(i,function(t){t.apply(e,r.concat(n))})}},function(o,t){Ot.prototype[t]=function(t,e,n){for(var i,r=0;r<this.length;r++)D(i)?z(i=o(this[r],t,e,n))&&(i=nt(i)):qt(i,o(this[r],t,e,n));return z(i)?i:this},Ot.prototype.bind=Ot.prototype.on,Ot.prototype.unbind=Ot.prototype.off}),ie.prototype={put:function(t,e){this[ne(t,this.nextUid)]=e},get:function(t){return this[ne(t,this.nextUid)]},remove:function(t){var e=this[t=ne(t,this.nextUid)];return delete this[t],e}};var re=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,oe=/,/,se=/^\s*(_?)(\S+?)\1\s*$/,ae=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,le=_("$injector");function ce(t){var i,e;return"function"==typeof t?(i=t.$inject)||(i=[],t.length&&it(t.toString().replace(ae,"").match(re)[1].split(oe),function(t){t.replace(se,function(t,e,n){i.push(n)})}),t.$inject=i):st(t)?(Z(t[e=t.length-1],"fn"),i=t.slice(0,e)):Z(t,"fn",!0),i}function ue(t){var i={},r="Provider",s=[],c=new ie([],!0),a={$provide:{provider:e(l),factory:e(h),service:e(function(t,e){return h(t,["$injector",function(t){return t.instantiate(e)}])}),value:e(function(t,e){return h(t,b(e))}),constant:e(function(t,e){gt(t,"constant"),a[t]=e,n[t]=e}),decorator:function(t,e){var n=u.get(t+r),i=n.$get;n.$get=function(){var t=o.invoke(i,n);return o.invoke(e,null,{$delegate:t})}}}},u=a.$injector=d(a,function(){throw le("unpr","Unknown provider: {0}",s.join(" <- "))}),n={},o=n.$injector=d(n,function(t){var e=u.get(t+r);return o.invoke(e.$get,e)});return it(function i(t){var r,o,s,a,l=[];it(t,function(e){if(!c.get(e)){c.put(e,!0);try{if(ot(e))for(r=f(e),l=l.concat(i(r.requires)).concat(r._runBlocks),o=r._invokeQueue,s=0,a=o.length;s<a;s++){var t=o[s],n=u.get(t[0]);n[t[1]].apply(n,t[2])}else at(e)?l.push(u.invoke(e)):st(e)?l.push(u.invoke(e)):Z(e,"module")}catch(t){throw st(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),le("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}});return l}(t),function(t){o.invoke(t||S)}),o;function e(n){return function(t,e){if(!rt(t))return n(t,e);it(t,g(n))}}function l(t,e){if(gt(t,"service"),(at(e)||st(e))&&(e=u.instantiate(e)),!e.$get)throw le("pget","Provider '{0}' must define $get factory method.",t);return a[t+r]=e}function h(t,e){return l(t,{$get:e})}function d(n,t){function l(e){if(n.hasOwnProperty(e)){if(n[e]===i)throw le("cdep","Circular dependency found: {0}",e+" <- "+s.join(" <- "));return n[e]}try{return s.unshift(e),n[e]=i,n[e]=t(e)}catch(t){throw n[e]===i&&delete n[e],t}finally{s.shift()}}function o(t,e,n){var i,r,o,s=[],a=ce(t);for(r=0,i=a.length;r<i;r++){if("string"!=typeof(o=a[r]))throw le("itkn","Incorrect injection token! Expected service name as string, got {0}",o);s.push(n&&n.hasOwnProperty(o)?n[o]:l(o))}return st(t)&&(t=t[i]),t.apply(e,s)}return{invoke:o,instantiate:function(t,e){function n(){}var i,r;return n.prototype=(st(t)?t[t.length-1]:t).prototype,rt(r=o(t,i=new n,e))||at(r)?r:i},get:l,annotate:ce,has:function(t){return a.hasOwnProperty(t+r)||n.hasOwnProperty(t)}}}}function he(){var o=!0;this.disableAutoScrolling=function(){o=!1},this.$get=["$window","$location","$rootScope",function(n,i,t){var r=n.document;function e(){var t,e=i.hash();e?(t=r.getElementById(e))?t.scrollIntoView():(t=function(t){var e=null;return it(t,function(t){e||"a"!==w(t.nodeName)||(e=t)}),e}(r.getElementsByName(e)))?t.scrollIntoView():"top"===e&&n.scrollTo(0,0):n.scrollTo(0,0)}return o&&t.$watch(function(){return i.hash()},function(){t.$evalAsync(e)}),e}]}var de=_("$animate"),fe=["$provide",function(i){this.$$selectors={},this.register=function(t,e){var n=t+"-animation";if(t&&"."!=t.charAt(0))throw de("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=n,i.factory(n,e)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(t,e){function r(t){t&&e(t)}return{enter:function(t,e,n,i){n?n.after(t):(e&&e[0]||(e=n.parent()),e.append(t)),r(i)},leave:function(t,e){t.remove(),r(e)},move:function(t,e,n,i){this.enter(t,e,n,i)},addClass:function(t,e,n){e=ot(e)?e:st(e)?e.join(" "):"",it(t,function(t){Yt(t,e)}),r(n)},removeClass:function(t,e,n){e=ot(e)?e:st(e)?e.join(" "):"",it(t,function(t){Bt(t,e)}),r(n)},setClass:function(t,e,n,i){it(t,function(t){Yt(t,e),Bt(t,n)}),r(i)},enabled:S}}]}];function pe(){this.$get=["$$rAF","$timeout",function(e,n){return e.supported?function(t){return e(t)}:function(t){return n(t,0,!1)}}]}function ge(n,t,a,i){var r=this,l=t[0],o=n.location,s=n.history,c=n.setTimeout,e=n.clearTimeout,u={};r.isMock=!1;var h=0,d=[];function f(t){try{t.apply(null,ht(arguments,1))}finally{if(0===--h)for(;d.length;)try{d.pop()()}catch(t){a.error(t)}}}r.$$completeOutstandingRequest=f,r.$$incOutstandingRequestCount=function(){h++},r.notifyWhenNoOutstandingRequests=function(t){it(g,function(t){t()}),0===h?t():d.push(t)};var p,g=[];r.addPollFn=function(t){return D(p)&&function(e,n){!function t(){it(g,function(t){t()}),p=n(t,e)}()}(100,c),g.push(t),t};var m=o.href,v=t.find("base"),y=null;r.url=function(t,e){if(o!==n.location&&(o=n.location),s!==n.history&&(s=n.history),t){if(m==t)return;return m=t,i.history?e?s.replaceState(null,"",t):(s.pushState(null,"",t),v.attr("href",v.attr("href"))):(y=t,e?o.replace(t):o.href=t),r}return y||o.href.replace(/%27/g,"'")};var b=[],w=!1;function x(){y=null,m!=r.url()&&(m=r.url(),it(b,function(t){t(r.url())}))}r.onUrlChange=function(t){return w||(i.history&&nt(n).on("popstate",x),i.hashchange?nt(n).on("hashchange",x):r.addPollFn(x),w=!0),b.push(t),t},r.baseHref=function(){var t=v.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var _={},C="",k=r.baseHref();r.cookies=function(t,e){var n,i,r,o,s;if(!t){if(l.cookie!==C)for(i=(C=l.cookie).split("; "),_={},o=0;o<i.length;o++)0<(s=(r=i[o]).indexOf("="))&&(t=unescape(r.substring(0,s)),_[t]===tt&&(_[t]=unescape(r.substring(s+1))));return _}e===tt?l.cookie=escape(t)+"=;path="+k+";expires=Thu, 01 Jan 1970 00:00:00 GMT":ot(e)&&4096<(n=(l.cookie=escape(t)+"="+escape(e)+";path="+k).length+1)&&a.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+n+" > 4096 bytes)!")},r.defer=function(t,e){var n;return h++,n=c(function(){delete u[n],f(t)},e||0),u[n]=!0,n},r.defer.cancel=function(t){return!!u[t]&&(delete u[t],e(t),f(S),!0)}}function me(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new ge(t,i,e,n)}]}function ve(){this.$get=function(){var h={};function t(t,e){if(t in h)throw _("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var n=0,i=A({},e,{id:t}),r={},o=e&&e.capacity||Number.MAX_VALUE,s={},a=null,l=null;return h[t]={put:function(t,e){o<Number.MAX_VALUE&&c(s[t]||(s[t]={key:t}));if(!D(e))return t in r||n++,r[t]=e,o<n&&this.remove(l.key),e},get:function(t){if(o<Number.MAX_VALUE){var e=s[t];if(!e)return;c(e)}return r[t]},remove:function(t){if(o<Number.MAX_VALUE){var e=s[t];if(!e)return;e==a&&(a=e.p),e==l&&(l=e.n),u(e.n,e.p),delete s[t]}delete r[t],n--},removeAll:function(){r={},n=0,s={},a=l=null},destroy:function(){s=i=r=null,delete h[t]},info:function(){return A({},i,{size:n})}};function c(t){t!=a&&(l?l==t&&(l=t.n):l=t,u(t.n,t.p),u(t,a),(a=t).n=null)}function u(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}}return t.info=function(){var n={};return it(h,function(t,e){n[e]=t.info()}),n},t.get=function(t){return h[t]},t}}function ye(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var be=_("$compile");function we(n,e){var f={},p="Directive",S=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,D=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,c=/^(on[a-z]+|formaction)$/;this.directive=function t(s,e){return gt(s,"directive"),ot(s)?(pt(e,"directiveFactory"),f.hasOwnProperty(s)||(f[s]=[],n.factory(s+p,["$injector","$exceptionHandler",function(i,r){var o=[];return it(f[s],function(t,e){try{var n=i.invoke(t);at(n)?n={compile:b(n)}:!n.compile&&n.link&&(n.compile=b(n.link)),n.priority=n.priority||0,n.index=e,n.name=n.name||s,n.require=n.require||n.controller&&n.name,n.restrict=n.restrict||"A",o.push(n)}catch(t){r(t)}}),o}])),f[s].push(e)):it(s,g(t)),this},this.aHrefSanitizationWhitelist=function(t){return z(t)?(e.aHrefSanitizationWhitelist(t),this):e.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return z(t)?(e.imgSrcSanitizationWhitelist(t),this):e.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(d,R,L,t,e,H,F,o,n,a,r,l){var z=function(t,e){this.$$element=t,this.$attr=e||{}};z.prototype={$normalize:_e,$addClass:function(t){t&&0<t.length&&r.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&r.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Ce(t,e),i=Ce(e,t);0===n.length?r.removeClass(this.$$element,i):0===i.length?r.addClass(this.$$element,n):r.setClass(this.$$element,n,i)},$set:function(t,e,n,i){var r,o=Jt(this.$$element[0],t);o&&(this.$$element.prop(t,e),i=o),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=ft(t,"-")),("A"===(r=$(this.$$element))&&"href"===t||"IMG"===r&&"src"===t)&&(this[t]=e=l(e,"src"===t)),!1!==n&&(null===e||e===tt?this.$$element.removeAttr(i):this.$$element.attr(i,e));var s=this.$$observers;s&&it(s[t],function(t){try{t(e)}catch(t){L(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers={}),r=i[t]||(i[t]=[]);return r.push(e),o.$evalAsync(function(){r.$$inter||e(n[t])}),e}};var i=R.startSymbol(),s=R.endSymbol(),j="{{"==i||"}}"==s?y:function(t){return t.replace(/\{\{/g,i).replace(/}}/g,s)},x=/^ngAttr[A-Z]/;return W;function W(l,t,e,n,i){l instanceof nt||(l=nt(l)),it(l,function(t,e){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(l[e]=t=nt(t).wrap("<span></span>").parent()[0])});var c=E(l,t,l,e,n,i);return B(l,"ng-scope"),function(t,e,n,i){pt(t,"scope");var r=e?Xt.clone.call(l):l;it(n,function(t,e){r.data("$"+e+"Controller",t)});for(var o=0,s=r.length;o<s;o++){var a=r[o].nodeType;1!==a&&9!==a||r.eq(o).data("$scope",t)}return e&&e(r,t),c&&c(t,r,r,i),r}}function B(t,e){try{t.addClass(e)}catch(t){}}function E(t,p,e,n,i,r){for(var o,s,a,l,c,u,g=[],h=0;h<t.length;h++)o=new z,(a=(s=Y(t[h],[],o,0===h?n:tt,i)).length?M(s,t[h],o,p,e,null,[],[],r):null)&&a.scope&&B(o.$$element,"ng-scope"),c=a&&a.terminal||!(l=t[h].childNodes)||!l.length?null:E(l,a?(a.transcludeOnThisElement||!a.templateOnThisElement)&&a.transclude:p),g.push(a,c),u=u||a||c,r=null;return u?function(t,e,n,i){var r,o,s,a,l,c,u,h,d=e.length,f=new Array(d);for(l=0;l<d;l++)f[l]=e[l];for(u=l=0,c=g.length;l<c;u++)s=f[u],r=g[l++],o=g[l++],r?(r.scope?(a=t.$new(),nt.data(s,"$scope",a)):a=t,h=r.transcludeOnThisElement?T(t,r.transclude,i):!r.templateOnThisElement&&i?i:!i&&p?T(t,p):null,r(o,a,s,n,h)):o&&o(t,s.childNodes,tt,i)}:null}function T(o,s,a){return function(t,e,n){var i=!1;t||(i=(t=o.$new()).$$transcluded=!0);var r=s(t,e,n,a);return i&&r.on("$destroy",function(){t.$destroy()}),r}}function Y(t,e,n,i,r){var o,s,a=t.nodeType,l=n.$attr;switch(a){case 1:_(e,_e($(t).toLowerCase()),"E",i,r);for(var c,u,h,d,f,p,g=t.attributes,m=0,v=g&&g.length;m<v;m++){var y=!1,b=!1;if(c=g[m],!et||8<=et||c.specified){u=c.name,f=lt(c.value),d=_e(u),(p=x.test(d))&&(u=ft(d.substr(6),"-"));var w=d.replace(/(Start|End)$/,"");d===w+"Start"&&(b=(y=u).substr(0,u.length-5)+"end",u=u.substr(0,u.length-6)),l[h=_e(u.toLowerCase())]=u,!p&&n.hasOwnProperty(h)||(n[h]=f,Jt(t,h)&&(n[h]=!0)),k(t,e,f,h),_(e,h,"A",i,r,y,b)}}if(ot(s=t.className)&&""!==s)for(;o=D.exec(s);)_(e,h=_e(o[2]),"C",i,r)&&(n[h]=lt(o[3])),s=s.substr(o.index+o[0].length);break;case 3:!function(t,e){var o=R(e,!0);o&&t.push({priority:0,compile:function(t){var r=t.parent().length;return r&&B(t.parent(),"ng-binding"),function(t,e){var n=e.parent(),i=n.data("$binding")||[];i.push(o),n.data("$binding",i),r||B(n,"ng-binding"),t.$watch(o,function(t){e[0].nodeValue=t})}}})}(e,t.nodeValue);break;case 8:try{(o=S.exec(t.nodeValue))&&_(e,h=_e(o[1]),"M",i,r)&&(n[h]=lt(o[2]))}catch(t){}}return e.sort(C),e}function q(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw be("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);1==t.nodeType&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(0<r)}else i.push(t);return nt(i)}function U(o,s,a){return function(t,e,n,i,r){return e=q(e[0],s,a),o(t,e,n,i,r)}}function M(t,m,v,e,n,i,y,b,r){r=r||{};for(var o,s,a,l,c,u,h=-Number.MAX_VALUE,w=r.controllerDirectives,x=r.newIsolateScopeDirective,_=r.templateDirective,d=r.nonTlbTranscludeDirective,f=!1,p=!1,C=r.hasElementTranscludeDirective,g=v.$$element=nt(m),k=i,S=e,D=0,E=t.length;D<E;D++){var T=(s=t[D]).$$start,M=s.$$end;if(T&&(g=q(m,T,M)),l=tt,h>s.priority)break;if((u=s.scope)&&(o=o||s,s.templateUrl||(K("new/isolated scope",x,s,g),rt(u)&&(x=s))),a=s.name,!s.templateUrl&&s.controller&&(u=s.controller,K("'"+a+"' controller",(w=w||{})[a],s,g),w[a]=s),(u=s.transclude)&&(f=!0,s.$$tlb||(K("transclusion",d,s,g),d=s),S="element"==u?(C=!0,h=s.priority,l=g,g=v.$$element=nt(J.createComment(" "+a+": "+v[a]+" ")),m=g[0],Q(n,ht(l),m),W(l,e,h,k&&k.name,{nonTlbTranscludeDirective:d})):(l=nt(Rt(m)).contents(),g.empty(),W(l,e))),s.template)if(p=!0,K("template",_,s,g),u=at((_=s).template)?s.template(g,v):s.template,u=j(u),s.replace){if(k=s,l=Pt(u)?[]:nt(lt(u)),m=l[0],1!=l.length||1!==m.nodeType)throw be("tplrt","Template for directive '{0}' must have exactly one root element. {1}",a,"");Q(n,g,m);var $={$attr:{}},N=Y(m,[],$),A=t.splice(D+1,t.length-(D+1));x&&V(N),t=t.concat(N).concat(A),G(v,$),E=t.length}else g.html(u);if(s.templateUrl)p=!0,K("template",_,s,g),(_=s).replace&&(k=s),O=X(t.splice(D,t.length-D),g,v,n,f&&S,y,b,{controllerDirectives:w,newIsolateScopeDirective:x,templateDirective:_,nonTlbTranscludeDirective:d}),E=t.length;else if(s.compile)try{at(c=s.compile(g,v,S))?P(null,c,T,M):c&&P(c.pre,c.post,T,M)}catch(t){L(t,dt(g))}s.terminal&&(O.terminal=!0,h=Math.max(h,s.priority))}return O.scope=o&&!0===o.scope,O.transcludeOnThisElement=f,O.templateOnThisElement=p,O.transclude=S,r.hasElementTranscludeDirective=C,O;function P(t,e,n,i){t&&(n&&(t=U(t,n,i)),t.require=s.require,t.directiveName=a,x!==s&&!s.$$isolateScope||(t=Z(t,{isolateScope:!0})),y.push(t)),e&&(n&&(e=U(e,n,i)),e.require=s.require,e.directiveName=a,x!==s&&!s.$$isolateScope||(e=Z(e,{isolateScope:!0})),b.push(e))}function I(e,t,n,i){var r,o="data",s=!1;if(ot(t)){for(;"^"==(r=t.charAt(0))||"?"==r;)t=t.substr(1),"^"==r&&(o="inheritedData"),s=s||"?"==r;if(r=null,i&&"data"===o&&(r=i[t]),!(r=r||n[o]("$"+t+"Controller"))&&!s)throw be("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return r}return st(t)&&(r=[],it(t,function(t){r.push(I(e,t,n,i))})),r}function O(t,u,e,n,i){var h,r,o,s,a,l,d,c,f={};if(h=m===e?v:ct(v,new z(nt(e),v.$attr)),r=h.$$element,x){var p=/^\s*([@=&])(\??)\s*(\w*)\s*$/;d=u.$new(!0),!_||_!==x&&_!==x.$$originalDirective?r.data("$isolateScopeNoTemplate",d):r.data("$isolateScope",d),B(r,"ng-isolate-scope"),it(x.scope,function(t,e){var n,i,r,o,s=t.match(p)||[],a=s[3]||e,l="?"==s[2],c=s[1];switch(d.$$isolateBindings[e]=c+a,c){case"@":h.$observe(a,function(t){d[e]=t}),h.$$observers[a].$$scope=u,h[a]&&(d[e]=R(h[a])(u));break;case"=":if(l&&!h[a])return;i=H(h[a]),o=i.literal?ut:function(t,e){return t===e},r=i.assign||function(){throw n=d[e]=i(u),be("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",h[a],x.name)},n=d[e]=i(u),d.$watch(function(){var t=i(u);return o(t,d[e])||(o(t,n)?r(u,t=d[e]):d[e]=t),n=t},null,i.literal);break;case"&":i=H(h[a]),d[e]=function(t){return i(u,t)};break;default:throw be("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",x.name,e,t)}})}for(c=i&&function(t,e){var n;arguments.length<2&&(e=t,t=tt);C&&(n=f);return i(t,e,n)},w&&it(w,function(t){var e,n={$scope:t===x||t.$$isolateScope?d:u,$element:r,$attrs:h,$transclude:c};"@"==(l=t.controller)&&(l=h[t.name]),e=F(l,n),f[t.name]=e,C||r.data("$"+t.name+"Controller",e),t.controllerAs&&(n.$scope[t.controllerAs]=e)}),o=0,s=y.length;o<s;o++)try{(a=y[o])(a.isolateScope?d:u,r,h,a.require&&I(a.directiveName,a.require,r,f),c)}catch(t){L(t,dt(r))}var g=u;for(x&&(x.template||null===x.templateUrl)&&(g=d),t&&t(g,e.childNodes,tt,i),o=b.length-1;0<=o;o--)try{(a=b[o])(a.isolateScope?d:u,r,h,a.require&&I(a.directiveName,a.require,r,f),c)}catch(t){L(t,dt(r))}}}function V(t){for(var e=0,n=t.length;e<n;e++)t[e]=v(t[e],{$$isolateScope:!0})}function _(t,e,n,i,r,o,s){if(e===r)return null;var a=null;if(f.hasOwnProperty(e))for(var l,c=d.get(e+p),u=0,h=c.length;u<h;u++)try{l=c[u],(i===tt||i>l.priority)&&-1!=l.restrict.indexOf(n)&&(o&&(l=v(l,{$$start:o,$$end:s})),t.push(l),a=l)}catch(t){L(t)}return a}function G(n,i){var r=i.$attr,o=n.$attr,s=n.$$element;it(n,function(t,e){"$"!=e.charAt(0)&&(i[e]&&i[e]!==t&&(t+=("style"===e?";":" ")+i[e]),n.$set(e,t,!0,r[e]))}),it(i,function(t,e){"class"==e?(B(s,t),n.class=(n.class?n.class+" ":"")+t):"style"==e?(s.attr("style",s.attr("style")+";"+t),n.style=(n.style?n.style+";":"")+t):"$"==e.charAt(0)||n.hasOwnProperty(e)||(n[e]=t,o[e]=r[e])})}function X(d,f,p,g,m,v,y,b){var w,x,_=[],C=f[0],k=d.shift(),S=A({},k,{templateUrl:null,transclude:null,replace:null,$$originalDirective:k}),D=at(k.templateUrl)?k.templateUrl(f,p):k.templateUrl;return f.empty(),t.get(a.getTrustedResourceUrl(D),{cache:e}).success(function(t){var n,e,i,r;if(t=j(t),k.replace){if(i=Pt(t)?[]:nt(lt(t)),n=i[0],1!=i.length||1!==n.nodeType)throw be("tplrt","Template for directive '{0}' must have exactly one root element. {1}",k.name,D);e={$attr:{}},Q(g,f,n);var o=Y(n,[],e);rt(k.scope)&&V(o),d=o.concat(d),G(p,e)}else n=C,f.html(t);for(d.unshift(S),w=M(d,n,p,m,f,k,v,y,b),it(g,function(t,e){t==n&&(g[e]=f[0])}),x=E(f[0].childNodes,m);_.length;){var s=_.shift(),a=_.shift(),l=_.shift(),c=_.shift(),u=f[0];if(a!==C){var h=a.className;b.hasElementTranscludeDirective&&k.replace||(u=Rt(n)),Q(l,nt(a),u),B(nt(u),h)}r=w.transcludeOnThisElement?T(s,w.transclude,c):c,w(x,s,u,g,r)}_=null}).error(function(t,e,n,i){throw be("tpload","Failed to load template: {0}",i.url)}),function(t,e,n,i,r){var o=r;_?(_.push(e),_.push(n),_.push(i),_.push(o)):(w.transcludeOnThisElement&&(o=T(e,w.transclude,r)),w(x,e,n,i,o))}}function C(t,e){var n=e.priority-t.priority;return 0!=n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function K(t,e,n,i){if(e)throw be("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,dt(i))}function k(r,t,e,o){var s=R(e,!0);if(s){if("multiple"===o&&"SELECT"===$(r))throw be("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",dt(r));t.push({priority:100,compile:function(){return{pre:function(t,e,n){var i=n.$$observers||(n.$$observers={});if(c.test(o))throw be("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");(s=R(n[o],!0,function(t,e){if("srcdoc"==e)return a.HTML;var n=$(t);return"xlinkHref"==e||"FORM"==n&&"action"==e||"IMG"!=n&&("src"==e||"ngSrc"==e)?a.RESOURCE_URL:void 0}(r,o)))&&(n[o]=s(t),(i[o]||(i[o]=[])).$$inter=!0,(n.$$observers&&n.$$observers[o].$$scope||t).$watch(s,function(t,e){"class"===o&&t!=e?n.$updateClass(t,e):n.$set(o,t)}))}}}})}}function Q(t,e,n){var i,r,o=e[0],s=e.length,a=o.parentNode;if(t)for(i=0,r=t.length;i<r;i++)if(t[i]==o){t[i++]=n;for(var l=i,c=l+s-1,u=t.length;l<u;l++,c++)c<u?t[l]=t[c]:delete t[l];t.length-=s-1;break}a&&a.replaceChild(n,o);var h=J.createDocumentFragment();h.appendChild(o),n[nt.expando]=o[nt.expando];for(var d=1,f=e.length;d<f;d++){var p=e[d];nt(p).remove(),h.appendChild(p),delete e[d]}e[0]=n,e.length=1}function Z(t,e){return A(function(){return t.apply(null,arguments)},t,e)}}]}we.$inject=["$provide","$$sanitizeUriProvider"];var xe=/^(x[\:\-_]|data[\:\-_])/i;function _e(t){return Dt(t.replace(xe,""))}function Ce(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s==r[a])continue t;n+=(0<n.length?" ":"")+s}return n}function ke(){var l={},c=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,e){gt(t,"controller"),rt(t)?A(l,t):l[t]=e},this.$get=["$injector","$window",function(s,a){return function(t,e){var n,i,r,o;if(ot(t)&&(r=(i=t.match(c))[1],o=i[3],Z(t=l.hasOwnProperty(r)?l[r]:mt(e.$scope,r,!0)||mt(a,r,!0),r,!0)),n=s.instantiate(t,e),o){if(!e||"object"!=typeof e.$scope)throw _("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r||t.name,o);e.$scope[o]=n}return n}}]}function Se(){this.$get=["$window",function(t){return nt(t.document)}]}function De(){this.$get=["$log",function(n){return function(t,e){n.error.apply(n,arguments)}}]}function Ee(t){var e,n,i,r={};return t&&it(t.split("\n"),function(t){i=t.indexOf(":"),e=w(lt(t.substr(0,i))),n=lt(t.substr(i+1)),e&&(r[e]=r[e]?r[e]+", "+n:n)}),r}function Te(e){var n=rt(e)?e:tt;return function(t){return n=n||Ee(e),t?n[w(t)]||null:n}}function Me(e,n,t){return at(t)?t(e,n):(it(t,function(t){e=t(e,n)}),e)}function $e(t){return 200<=t&&t<300}function Ne(){var e=/^\s*(\[|\{[^\{])/,n=/[\}\]]\s*$/,i=/^\)\]\}',?\n/,t={"Content-Type":"application/json;charset=utf-8"},v=this.defaults={transformResponse:[function(t){return ot(t)&&(t=t.replace(i,""),e.test(t)&&n.test(t)&&(t=s(t))),t}],transformRequest:[function(t){return!rt(t)||function(t){return"[object File]"===a.call(t)}(t)||function(t){return"[object Blob]"===a.call(t)}(t)?t:B(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ct(t),put:ct(t),patch:ct(t)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},r=this.interceptors=[],o=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(h,d,t,f,p,i){var g=t("$http"),l=[];function m(t){var n={method:"get",transformRequest:v.transformRequest,transformResponse:v.transformResponse},i=function(t){var e,n,i,r=v.headers,o=A({},t.headers);r=A({},r.common,r[w(t.method)]);t:for(e in r){for(i in n=w(e),o)if(w(i)===n)continue t;o[e]=r[e]}return function(n){var i;it(n,function(t,e){at(t)&&(null!=(i=t())?n[e]=i:delete n[e])})}(o),o}(t);A(n,t),n.headers=i,n.method=c(n.method);var e=[function(t){i=t.headers;var e=Me(t.data,Te(i),t.transformRequest);return D(e)&&it(i,function(t,e){"content-type"===w(e)&&delete i[e]}),D(t.withCredentials)&&!D(v.withCredentials)&&(t.withCredentials=v.withCredentials),function(r,t,e){var o,n,s=p.defer(),i=s.promise,a=function(t,e){if(!e)return t;var n=[];(function(t,e,n){for(var i=F(t),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r])})(e,function(t,e){null===t||D(t)||(st(t)||(t=[t]),it(t,function(t){rt(t)&&(E(t)?t=t.toISOString():rt(t)&&(t=B(t))),n.push(X(e)+"="+X(t))}))}),0<n.length&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&"));return t}(r.url,r.params);m.pendingRequests.push(r),i.then(u,u),(r.cache||v.cache)&&!1!==r.cache&&"GET"==r.method&&(o=rt(r.cache)?r.cache:rt(v.cache)?v.cache:g);if(o)if(z(n=o.get(a))){if(I(n))return n.then(u,u),n;st(n)?c(n[1],n[0],ct(n[2]),n[3]):c(n,200,{},"OK")}else o.put(a,i);if(D(n)){var l=Pn(r.url)?d.cookies()[r.xsrfCookieName||v.xsrfCookieName]:tt;l&&(e[r.xsrfHeaderName||v.xsrfHeaderName]=l),h(r.method,a,t,function(t,e,n,i){o&&($e(t)?o.put(a,[t,e,Ee(n),i]):o.remove(a));c(e,t,n,i),f.$$phase||f.$apply()},e,r.timeout,r.withCredentials,r.responseType)}return i;function c(t,e,n,i){($e(e=Math.max(e,0))?s.resolve:s.reject)({data:t,status:e,headers:Te(n),config:r,statusText:i})}function u(){var t=O(m.pendingRequests,r);-1!==t&&m.pendingRequests.splice(t,1)}}(t,e,i).then(a,a)},tt],r=p.when(n);for(it(l,function(t){(t.request||t.requestError)&&e.unshift(t.request,t.requestError),(t.response||t.responseError)&&e.push(t.response,t.responseError)});e.length;){var o=e.shift(),s=e.shift();r=r.then(o,s)}return r.success=function(e){return r.then(function(t){e(t.data,t.status,t.headers,n)}),r},r.error=function(e){return r.then(null,function(t){e(t.data,t.status,t.headers,n)}),r},r;function a(t){var e=A({},t,{data:Me(t.data,t.headers,n.transformResponse)});return $e(t.status)?e:p.reject(e)}}return it(r,function(t){l.unshift(ot(t)?i.get(t):i.invoke(t))}),it(o,function(t,e){var n=ot(t)?i.get(t):i.invoke(t);l.splice(e,0,{response:function(t){return n(p.when(t))},responseError:function(t){return n(p.reject(t))}})}),m.pendingRequests=[],function(t){it(arguments,function(n){m[n]=function(t,e){return m(A(e||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(t){it(arguments,function(i){m[i]=function(t,e,n){return m(A(n||{},{method:i,url:t,data:e}))}})}("post","put"),m.defaults=v,m}]}function Ae(t){if(et<=8&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!m.XMLHttpRequest))return new m.ActiveXObject("Microsoft.XMLHTTP");if(m.XMLHttpRequest)return new m.XMLHttpRequest;throw _("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Pe(){this.$get=["$browser","$window","$document",function(t,e,n){return function(g,m,v,y,b){return function(t,o,e,i,n,r,s,a){var l;if(g.$$incOutstandingRequestCount(),o=o||g.url(),"jsonp"==w(t)){var c="_"+(y.counter++).toString(36);y[c]=function(t){y[c].data=t,y[c].called=!0};var u=function(t,i,r){var o=b.createElement("script"),s=null;o.type="text/javascript",o.src=t,o.async=!0,s=function(t){_t(o,"load",s),_t(o,"error",s),b.body.removeChild(o),o=null;var e=-1,n="unknown";t&&("load"!==t.type||y[i].called||(t={type:"error"}),n=t.type,e="error"===t.type?404:200),r&&r(e,n)},xt(o,"load",s),xt(o,"error",s),et<=8&&(o.onreadystatechange=function(){ot(o.readyState)&&/loaded|complete/.test(o.readyState)&&(o.onreadystatechange=null,s({type:"load"}))});return b.body.appendChild(o),s}(o.replace("JSON_CALLBACK","angular.callbacks."+c),c,function(t,e){p(i,t,y[c].data,"",e),y[c]=S})}else{var h=m(t);if(h.open(t,o,!0),it(n,function(t,e){z(t)&&h.setRequestHeader(e,t)}),h.onreadystatechange=function(){if(h&&4==h.readyState){var t=null,e=null,n="";-1!==l&&(t=h.getAllResponseHeaders(),e="response"in h?h.response:h.responseText),-1===l&&et<10||(n=h.statusText),p(i,l||h.status,e,t,n)}},s&&(h.withCredentials=!0),a)try{h.responseType=a}catch(t){if("json"!==a)throw t}h.send(e||null)}if(0<r)var d=v(f,r);else I(r)&&r.then(f);function f(){l=-1,u&&u(),h&&h.abort()}function p(t,e,n,i,r){d&&v.cancel(d),u=h=null,0===e&&(e=n?200:"file"==An(o).protocol?404:0),t(e=1223===e?204:e,n,i,r=r||""),g.$$completeOutstandingRequest(S)}}}(t,Ae,t.defer,e.angular.callbacks,n[0])}]}var Ie=_("$interpolate");function Oe(){var v="{{",y="}}";this.startSymbol=function(t){return t?(v=t,this):v},this.endSymbol=function(t){return t?(y=t,this):y},this.$get=["$parse","$exceptionHandler","$sce",function(d,f,p){var g=v.length,m=y.length;function t(o,t,s){for(var e,n,i,r,a=0,l=[],c=o.length,u=!1,h=[];a<c;)-1!=(e=o.indexOf(v,a))&&-1!=(n=o.indexOf(y,e+g))?(a!=e&&l.push(o.substring(a,e)),l.push(i=d(r=o.substring(e+g,n))),i.exp=r,a=n+m,u=!0):(a!=c&&l.push(o.substring(a)),a=c);if((c=l.length)||(l.push(""),c=1),s&&1<l.length)throw Ie("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!t||u)return h.length=c,(i=function(t){try{for(var e,n=0,i=c;n<i;n++){if("function"==typeof(e=l[n]))if(e=e(t),null==(e=s?p.getTrusted(s,e):p.valueOf(e)))e="";else switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=B(e)}h[n]=e}return h.join("")}catch(t){var r=Ie("interr","Can't interpolate: {0}\n{1}",o,t.toString());f(r)}}).exp=o,i.parts=l,i}return t.startSymbol=function(){return v},t.endSymbol=function(){return y},t}]}function Re(){this.$get=["$rootScope","$window","$q",function(u,h,d){var f={};function t(t,e,n,i){var r=h.setInterval,o=h.clearInterval,s=d.defer(),a=s.promise,l=0,c=z(i)&&!i;return n=z(n)?n:0,a.then(null,null,t),a.$$intervalId=r(function(){s.notify(l++),0<n&&n<=l&&(s.resolve(l),o(a.$$intervalId),delete f[a.$$intervalId]),c||u.$apply()},e),f[a.$$intervalId]=s,a}return t.cancel=function(t){return!!(t&&t.$$intervalId in f)&&(f[t.$$intervalId].reject("canceled"),h.clearInterval(t.$$intervalId),delete f[t.$$intervalId],!0)},t}]}function Le(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}var He=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Fe={http:80,https:443,ftp:21},ze=_("$location");function je(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=G(e[n]);return e.join("/")}function We(t,e,n){var i=An(t,n);e.$$protocol=i.protocol,e.$$host=i.hostname,e.$$port=k(i.port)||Fe[i.protocol]||null}function Be(t,e,n){var i="/"!==t.charAt(0);i&&(t="/"+t);var r=An(t,n);e.$$path=decodeURIComponent(i&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=U(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ye(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function qe(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Ue(t){return t.substr(0,qe(t).lastIndexOf("/")+1)}function Ve(i,r){this.$$html5=!0,r=r||"";var o=Ue(i);We(i,this,i),this.$$parse=function(t){var e=Ye(o,t);if(!ot(e))throw ze("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,o);Be(e,this,i),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=V(this.$$search),e=this.$$hash?"#"+G(this.$$hash):"";this.$$url=je(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=o+this.$$url.substr(1)},this.$$rewrite=function(t){var e,n;return(e=Ye(i,t))!==tt?(e=Ye(r,n=e))!==tt?o+(Ye("/",e)||e):i+n:(e=Ye(o,t))!==tt?o+e:o==t+"/"?o:void 0}}function Ge(i,r){var o=Ue(i);We(i,this,i),this.$$parse=function(t){var e=Ye(i,t)||Ye(o,t),n="#"==e.charAt(0)?Ye(r,e):this.$$html5?e:"";if(!ot(n))throw ze("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',t,r);Be(n,this,i),this.$$path=function(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;0===e.indexOf(n)&&(e=e.replace(n,""));if(r.exec(e))return t;return(i=r.exec(t))?i[1]:t}(this.$$path,n,i),this.$$compose()},this.$$compose=function(){var t=V(this.$$search),e=this.$$hash?"#"+G(this.$$hash):"";this.$$url=je(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+(this.$$url?r+this.$$url:"")},this.$$rewrite=function(t){if(qe(i)==qe(t))return t}}function Xe(n,i){this.$$html5=!0,Ge.apply(this,arguments);var r=Ue(n);this.$$rewrite=function(t){var e;return n==qe(t)?t:(e=Ye(r,t))?n+i+e:r===t+"/"?r:void 0},this.$$compose=function(){var t=V(this.$$search),e=this.$$hash?"#"+G(this.$$hash):"";this.$$url=je(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=n+i+this.$$url}}function Ke(t){return function(){return this[t]}}function Qe(e,n){return function(t){return D(t)?this[e]:(this[e]=n(t),this.$$compose(),this)}}function Ze(){var g="",o=!1;this.hashPrefix=function(t){return z(t)?(g=t,this):g},this.html5Mode=function(t){return z(t)?(o=t,this):o},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(c,u,t,h){var d,f,p,e=u.baseHref(),n=u.url();f=o?(p=function(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}(n)+(e||"/"),t.history?Ve:Xe):(p=qe(n),Ge),(d=new f(p,"#"+g)).$$parse(d.$$rewrite(n)),h.on("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var e=nt(t.target);"a"!==w(e[0].nodeName);)if(e[0]===h[0]||!(e=e.parent())[0])return;var n=e.prop("href");if(rt(n)&&"[object SVGAnimatedString]"===n.toString()&&(n=An(n.animVal).href),f===Xe){var i=e.attr("href")||e.attr("xlink:href");if(i.indexOf("://")<0){var r="#"+g;if("/"==i[0])n=p+r+i;else if("#"==i[0])n=p+r+(d.path()||"/")+i;else{for(var o=d.path().split("/"),s=i.split("/"),a=0;a<s.length;a++)"."!=s[a]&&(".."==s[a]?o.pop():s[a].length&&o.push(s[a]));n=p+r+o.join("/")}}}var l=d.$$rewrite(n);n&&!e.attr("target")&&l&&!t.isDefaultPrevented()&&(t.preventDefault(),l!=u.url()&&(d.$$parse(l),c.$apply(),m.angular["ff-684208-preventDefault"]=!0))}}),d.absUrl()!=n&&u.url(d.absUrl(),!0),u.onUrlChange(function(e){d.absUrl()!=e&&(c.$evalAsync(function(){var t=d.absUrl();d.$$parse(e),c.$broadcast("$locationChangeStart",e,t).defaultPrevented?(d.$$parse(t),u.url(t)):r(t)}),c.$$phase||c.$digest())});var i=0;return c.$watch(function(){var t=u.url(),e=d.$$replace;return i&&t==d.absUrl()||(i++,c.$evalAsync(function(){c.$broadcast("$locationChangeStart",d.absUrl(),t).defaultPrevented?d.$$parse(t):(u.url(d.absUrl(),e),r(t))})),d.$$replace=!1,i}),d;function r(t){c.$broadcast("$locationChangeSuccess",d.absUrl(),t)}}]}function Je(){var n=!0,i=this;this.debugEnabled=function(t){return z(t)?(n=t,this):n},this.$get=["$window",function(r){return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:(t=e("debug"),function(){n&&t.apply(i,arguments)})};var t;function e(t){var n=r.console||{},i=n[t]||n.log||S,e=!1;try{e=!!i.apply}catch(t){}return e?function(){var e=[];return it(arguments,function(t){e.push(function(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}(t))}),i.apply(n,e)}:function(t,e){i(t,null==e?"":e)}}}]}Xe.prototype=Ge.prototype=Ve.prototype={$$html5:!1,$$replace:!1,absUrl:Ke("$$absUrl"),url:function(t,e){if(D(t))return this.$$url;var n=He.exec(t);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",e),this},protocol:Ke("$$protocol"),host:Ke("$$host"),port:Ke("$$port"),path:Qe("$$path",function(t){return"/"==t.charAt(0)?t:"/"+t}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(ot(n))this.$$search=U(n);else{if(!rt(n))throw ze("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");it(n,function(t,e){null==t&&delete n[e]}),this.$$search=n}break;default:D(t)||null===t?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:Qe("$$hash",y),replace:function(){return this.$$replace=!0,this}};var tn,en=_("$parse"),nn={};function rn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw en("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function on(t,e){if(t){if(t.constructor===t)throw en("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.document&&t.location&&t.alert&&t.setInterval)throw en("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw en("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw en("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}var sn=Function.prototype.call,an=Function.prototype.apply,ln=Function.prototype.bind;var cn={null:function(){return null},true:function(){return!0},false:function(){return!1},undefined:S,"+":function(t,e,n,i){return n=n(t,e),i=i(t,e),z(n)?z(i)?n+i:n:z(i)?i:tt},"-":function(t,e,n,i){return n=n(t,e),i=i(t,e),(z(n)?n:0)-(z(i)?i:0)},"*":function(t,e,n,i){return n(t,e)*i(t,e)},"/":function(t,e,n,i){return n(t,e)/i(t,e)},"%":function(t,e,n,i){return n(t,e)%i(t,e)},"^":function(t,e,n,i){return n(t,e)^i(t,e)},"=":S,"===":function(t,e,n,i){return n(t,e)===i(t,e)},"!==":function(t,e,n,i){return n(t,e)!==i(t,e)},"==":function(t,e,n,i){return n(t,e)==i(t,e)},"!=":function(t,e,n,i){return n(t,e)!=i(t,e)},"<":function(t,e,n,i){return n(t,e)<i(t,e)},">":function(t,e,n,i){return n(t,e)>i(t,e)},"<=":function(t,e,n,i){return n(t,e)<=i(t,e)},">=":function(t,e,n,i){return n(t,e)>=i(t,e)},"&&":function(t,e,n,i){return n(t,e)&&i(t,e)},"||":function(t,e,n,i){return n(t,e)||i(t,e)},"&":function(t,e,n,i){return n(t,e)&i(t,e)},"|":function(t,e,n,i){return i(t,e)(t,e,n(t,e))},"!":function(t,e,n){return!n(t,e)}},un={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},hn=function(t){this.options=t};hn.prototype={constructor:hn,lex:function(t){for(this.text=t,this.index=0,this.ch=tt,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var e=this.ch+this.peek(),n=e+this.peek(2),i=cn[this.ch],r=cn[e],o=cn[n];o?(this.tokens.push({index:this.index,text:n,fn:o}),this.index+=3):r?(this.tokens.push({index:this.index,text:e,fn:r}),this.index+=2):i?(this.tokens.push({index:this.index,text:this.ch,fn:i}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(t){return-1!==t.indexOf(this.ch)},was:function(t){return-1!==t.indexOf(this.lastCh)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdent:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=z(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw en("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=w(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}t*=1,this.tokens.push({index:e,text:t,literal:!0,constant:!0,fn:function(){return t}})},readIdent:function(){for(var t,e,n,i,r=this,o="",s=this.index;this.index<this.text.length&&("."===(i=this.text.charAt(this.index))||this.isIdent(i)||this.isNumber(i));)"."===i&&(t=this.index),o+=i,this.index++;if(t)for(e=this.index;e<this.text.length;){if("("===(i=this.text.charAt(e))){n=o.substr(t-s+1),o=o.substr(0,t-s),this.index=e;break}if(!this.isWhitespace(i))break;e++}var a={index:s,text:o};if(cn.hasOwnProperty(o))a.fn=cn[o],a.literal=!0,a.constant=!0;else{var l=mn(o,this.options,this.text);a.fn=A(function(t,e){return l(t,e)},{assign:function(t,e){return fn(t,o,e,r.text,r.options)}})}this.tokens.push(a),n&&(this.tokens.push({index:t,text:"."}),this.tokens.push({index:t+1,text:n}))},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{n+=un[o]||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,string:n,literal:!0,constant:!0,fn:function(){return n}});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var dn=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};function fn(t,e,n,i,r){r=r||{};for(var o,s=e.split(".");1<s.length;0){var a=t[o=rn(s.shift(),i)];a||(a={},t[o]=a),(t=a).then&&r.unwrapPromises&&(tn(i),"$$v"in t||function(e){e.then(function(t){e.$$v=t})}(t),t.$$v===tt&&(t.$$v={}),t=t.$$v)}return o=rn(s.shift(),i),on(t,i),on(t[o],i),t[o]=n}dn.ZERO=A(function(){return 0},{constant:!0}),dn.prototype={constructor:dn,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var t,e,n;if(this.expect("("))t=this.filterChain(),this.consume(")");else if(this.expect("["))t=this.arrayDeclaration();else if(this.expect("{"))t=this.object();else{var i=this.expect();(t=i.fn)||this.throwError("not a primary expression",i),t.literal=!!i.literal,t.constant=!!i.constant}for(;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw en("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw en("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){if(0<this.tokens.length){var r=this.tokens[0],o=r.text;if(o===t||o===e||o===n||o===i||!t&&!e&&!n&&!i)return r}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return!!r&&(this.tokens.shift(),r)},consume:function(t){this.expect(t)||this.throwError("is unexpected, expecting ["+t+"]",this.peek())},unaryFn:function(n,i){return A(function(t,e){return n(t,e,i)},{constant:i.constant})},ternaryFn:function(n,i,r){return A(function(t,e){return n(t,e)?i(t,e):r(t,e)},{constant:n.constant&&i.constant&&r.constant})},binaryFn:function(n,i,r){return A(function(t,e){return i(t,e,n,r)},{constant:n.constant&&r.constant})},statements:function(){for(var o=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&o.push(this.filterChain()),!this.expect(";"))return 1===o.length?o[0]:function(t,e){for(var n,i=0;i<o.length;i++){var r=o[i];r&&(n=r(t,e))}return n}},filterChain:function(){for(var t,e=this.expression();;){if(!(t=this.expect("|")))return e;e=this.binaryFn(e,t.fn,this.filter())}},filter:function(){for(var t=this.expect(),o=this.$filter(t.text),s=[];;){if(!(t=this.expect(":"))){var e=function(t,e,n){for(var i=[n],r=0;r<s.length;r++)i.push(s[r](t,e));return o.apply(t,i)};return function(){return e}}s.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var n,t,i=this.ternary();return(t=this.expect("="))?(i.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),n=this.ternary(),function(t,e){return i.assign(t,n(t,e),e)}):i},ternary:function(){var t,e,n=this.logicalOR();return(e=this.expect("?"))?(t=this.ternary(),(e=this.expect(":"))?this.ternaryFn(n,t,this.ternary()):void this.throwError("expected :",e)):n},logicalOR:function(){for(var t,e=this.logicalAND();;){if(!(t=this.expect("||")))return e;e=this.binaryFn(e,t.fn,this.logicalAND())}},logicalAND:function(){var t,e=this.equality();return(t=this.expect("&&"))&&(e=this.binaryFn(e,t.fn,this.logicalAND())),e},equality:function(){var t,e=this.relational();return(t=this.expect("==","!=","===","!=="))&&(e=this.binaryFn(e,t.fn,this.equality())),e},relational:function(){var t,e=this.additive();return(t=this.expect("<",">","<=",">="))&&(e=this.binaryFn(e,t.fn,this.relational())),e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.fn,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.fn,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(dn.ZERO,t.fn,this.unary()):(t=this.expect("!"))?this.unaryFn(t.fn,this.unary()):this.primary()},fieldAccess:function(i){var r=this,o=this.expect().text,s=mn(o,this.options,this.text);return A(function(t,e,n){return s(n||i(t,e))},{assign:function(t,e,n){return fn(i(t,n),o,e,r.text,r.options)}})},objectIndex:function(s){var a=this,l=this.expression();return this.consume("]"),A(function(t,e){var n,i,r=s(t,e),o=l(t,e);return rn(o,a.text),r?((n=on(r[o],a.text))&&n.then&&a.options.unwrapPromises&&("$$v"in(i=n)||(i.$$v=tt,i.then(function(t){i.$$v=t})),n=n.$$v),n):tt},{assign:function(t,e,n){var i=l(t,n);return on(s(t,n),a.text)[i]=e}})},functionCall:function(s,a){var l=[];if(")"!==this.peekToken().text)for(;l.push(this.expression()),this.expect(","););this.consume(")");var c=this;return function(t,e){for(var n=[],i=a?a(t,e):t,r=0;r<l.length;r++)n.push(l[r](t,e));var o=s(t,e,i)||S;return on(i,c.text),function(t,e){if(t){if(t.constructor===t)throw en("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===sn||t===an||ln&&t===ln)throw en("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}(o,c.text),on(o.apply?o.apply(i,n):o(n[0],n[1],n[2],n[3],n[4]),c.text)}},arrayDeclaration:function(){var r=[],t=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var e=this.expression();r.push(e),e.constant||(t=!1)}while(this.expect(","));return this.consume("]"),A(function(t,e){for(var n=[],i=0;i<r.length;i++)n.push(r[i](t,e));return n},{literal:!0,constant:t})},object:function(){var o=[],t=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var e=this.expect(),n=e.string||e.text;this.consume(":");var i=this.expression();o.push({key:n,value:i}),i.constant||(t=!1)}while(this.expect(","));return this.consume("}"),A(function(t,e){for(var n={},i=0;i<o.length;i++){var r=o[i];n[r.key]=r.value(t,e)}return n},{literal:!0,constant:t})}};var pn={};function gn(r,o,s,a,l,c,t){return rn(r,c),rn(o,c),rn(s,c),rn(a,c),rn(l,c),t.unwrapPromises?function(t,e){var n,i=e&&e.hasOwnProperty(r)?e:t;return null==i?i:((i=i[r])&&i.then&&(tn(c),"$$v"in i||((n=i).$$v=tt,n.then(function(t){n.$$v=t})),i=i.$$v),o?null==i?tt:((i=i[o])&&i.then&&(tn(c),"$$v"in i||((n=i).$$v=tt,n.then(function(t){n.$$v=t})),i=i.$$v),s?null==i?tt:((i=i[s])&&i.then&&(tn(c),"$$v"in i||((n=i).$$v=tt,n.then(function(t){n.$$v=t})),i=i.$$v),a?null==i?tt:((i=i[a])&&i.then&&(tn(c),"$$v"in i||((n=i).$$v=tt,n.then(function(t){n.$$v=t})),i=i.$$v),l?null==i?tt:((i=i[l])&&i.then&&(tn(c),"$$v"in i||((n=i).$$v=tt,n.then(function(t){n.$$v=t})),i=i.$$v),i):i):i):i):i)}:function(t,e){var n=e&&e.hasOwnProperty(r)?e:t;return null==n?n:(n=n[r],o?null==n?tt:(n=n[o],s?null==n?tt:(n=n[s],a?null==n?tt:(n=n[a],l?null==n?tt:n=n[l]:n):n):n):n)}}function mn(t,r,o){if(pn.hasOwnProperty(t))return pn[t];var e,s=t.split("."),a=s.length;if(r.csp)e=a<6?gn(s[0],s[1],s[2],s[3],s[4],o,r):function(t,e){for(var n,i=0;n=gn(s[i++],s[i++],s[i++],s[i++],s[i++],o,r)(t,e),e=tt,t=n,i<a;);return n};else{var n="var p;\n";it(s,function(t,e){rn(t,o),n+="if(s == null) return undefined;\ns="+(e?"s":'((k&&k.hasOwnProperty("'+t+'"))?k:s)')+'["'+t+'"];\n'+(r.unwrapPromises?'if (s && s.then) {\n pw("'+o.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")}),n+="return s;";var i=new Function("s","k","pw",n);i.toString=b(n),e=r.unwrapPromises?function(t,e){return i(t,e,tn)}:i}return"hasOwnProperty"!==t&&(pn[t]=e),e}function vn(){var r={},o={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(t){return z(t)?(o.unwrapPromises=!!t,this):o.unwrapPromises},this.logPromiseWarnings=function(t){return z(t)?(o.logPromiseWarnings=t,this):o.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(i,t,e){return o.csp=t.csp,tn=function(t){o.logPromiseWarnings&&!nn.hasOwnProperty(t)&&(nn[t]=!0,e.warn("[$parse] Promise found in the expression `"+t+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(t){var e;switch(typeof t){case"string":if(r.hasOwnProperty(t))return r[t];var n=new hn(o);return e=new dn(n,i,o).parse(t),"hasOwnProperty"!==t&&(r[t]=e),e;case"function":return t;default:return S}}}]}function yn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return function(c,u){var h=function(){var a,e,l=[];return e={resolve:function(t){if(l){var i=l;l=tt,a=d(t),i.length&&c(function(){for(var t,e=0,n=i.length;e<n;e++)t=i[e],a.then(t[0],t[1],t[2])})}},reject:function(t){e.resolve(n(t))},notify:function(n){if(l){var i=l;l.length&&c(function(){for(var t=0,e=i.length;t<e;t++)i[t][2](n)})}},promise:{then:function(e,n,i){function t(t){try{s.resolve((at(e)?e:p)(t))}catch(t){s.reject(t),u(t)}}function r(t){try{s.resolve((at(n)?n:g)(t))}catch(t){s.reject(t),u(t)}}function o(t){try{s.notify((at(i)?i:p)(t))}catch(t){u(t)}}var s=h();return l?l.push([t,r,o]):a.then(t,r,o),s.promise},catch:function(t){return this.then(null,t)},finally:function(i){function r(t,e){var n=h();return e?n.resolve(t):n.reject(t),n.promise}function e(t,e){var n=null;try{n=(i||p)()}catch(t){return r(t,!1)}return I(n)?n.then(function(){return r(t,e)},function(t){return r(t,!1)}):r(t,e)}return this.then(function(t){return e(t,!0)},function(t){return e(t,!1)})}}}},d=function(n){return I(n)?n:{then:function(t){var e=h();return c(function(){e.resolve(t(n))}),e.promise}}},f=function(t){var e=h();return e.reject(t),e.promise},n=function(i){return{then:function(t,e){var n=h();return c(function(){try{n.resolve((at(e)?e:g)(i))}catch(t){n.reject(t),u(t)}}),n.promise}}};function p(t){return t}function g(t){return f(t)}return{defer:h,reject:f,when:function(t,e,n,i){function r(t){try{return(at(e)?e:p)(t)}catch(t){return u(t),f(t)}}function o(t){try{return(at(n)?n:g)(t)}catch(t){return u(t),f(t)}}function s(t){try{return(at(i)?i:p)(t)}catch(t){u(t)}}var a,l=h();return c(function(){d(t).then(function(t){a||(a=!0,l.resolve(d(t).then(r,o,s)))},function(t){a||(a=!0,l.resolve(o(t)))},function(t){a||l.notify(s(t))})}),l.promise},all:function(t){var n=h(),i=0,r=st(t)?[]:{};return it(t,function(t,e){i++,d(t).then(function(t){r.hasOwnProperty(e)||(r[e]=t,--i||n.resolve(r))},function(t){r.hasOwnProperty(e)||n.reject(t)})}),0===i&&n.resolve(r),n.promise}}}(function(t){e.$evalAsync(t)},t)}]}function bn(){this.$get=["$window","$timeout",function(t,n){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,e=!!i,o=e?function(t){var e=i(t);return function(){r(e)}}:function(t){var e=n(t,16.66,!1);return function(){n.cancel(e)}};return o.supported=e,o}]}function wn(){var b=10,w=_("$rootScope"),x=null;this.digestTtl=function(t){return arguments.length&&(b=t),b},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(t,g,p,e){function n(){this.$id=r(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.this=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}n.prototype={constructor:n,$new:function(t){var e;return t?((e=new n).$root=this.$root,e.$$asyncQueue=this.$$asyncQueue,e.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=r(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),e=new this.$$childScopeClass),(e.this=e).$parent=this,e.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=e,this.$$childTail=e):this.$$childHead=this.$$childTail=e,e},$watch:function(t,e,n){var i=l(t,"watch"),r=this.$$watchers,o={fn:e,last:y,get:i,exp:t,eq:!!n};if(x=null,!at(e)){var s=l(e||S,"listener");o.fn=function(t,e,n){s(n)}}if("string"==typeof t&&i.constant){var a=o.fn;o.fn=function(t,e,n){a.call(this,t,e,n),R(r,o)}}return(r=r||(this.$$watchers=[])).unshift(o),function(){R(r,o),x=null}},$watchCollection:function(t,n){var i,r,o,s=this,a=1<n.length,l=0,c=p(t),u=[],h={},d=!0,f=0;return this.$watch(function(){var t,e;if(rt(i=c(s)))if(N(i)){r!==u&&(f=(r=u).length=0,l++),t=i.length,f!==t&&(l++,r.length=f=t);for(var n=0;n<t;n++)r[n]!=r[n]&&i[n]!=i[n]||r[n]===i[n]||(l++,r[n]=i[n])}else{for(e in r!==h&&(r=h={},f=0,l++),t=0,i)i.hasOwnProperty(e)&&(t++,r.hasOwnProperty(e)?r[e]!=r[e]&&i[e]!=i[e]||r[e]===i[e]||(l++,r[e]=i[e]):(f++,r[e]=i[e],l++));if(t<f)for(e in l++,r)r.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(f--,delete r[e])}else r!==i&&(r=i,l++);return l},function(){if(d?(d=!1,n(i,i,s)):n(i,o,s),a)if(rt(i))if(N(i)){o=new Array(i.length);for(var t=0;t<i.length;t++)o[t]=i[t]}else for(var e in o={},i)C.call(i,e)&&(o[e]=i[e]);else o=i})},$digest:function(){var t,e,n,i,r,o,s,a,l,c,u,h=this.$$asyncQueue,d=this.$$postDigestQueue,f=b,p=[];m("$digest"),x=null;do{for(o=!1,a=this;h.length;){try{(u=h.shift()).scope.$eval(u.expression)}catch(t){v(),g(t)}x=null}t:do{if(i=a.$$watchers)for(r=i.length;r--;)try{if(t=i[r])if((e=t.get(a))===(n=t.last)||(t.eq?ut(e,n):"number"==typeof e&&"number"==typeof n&&isNaN(e)&&isNaN(n))){if(t===x){o=!1;break t}}else o=!0,(x=t).last=t.eq?L(e,null):e,t.fn(e,n===y?e:n,a),f<5&&(p[l=4-f]||(p[l]=[]),c=at(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,c+="; newVal: "+B(e)+"; oldVal: "+B(n),p[l].push(c))}catch(t){v(),g(t)}if(!(s=a.$$childHead||a!==this&&a.$$nextSibling))for(;a!==this&&!(s=a.$$nextSibling);)a=a.$parent}while(a=s);if((o||h.length)&&!f--)throw v(),w("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",b,B(p))}while(o||h.length);for(v();d.length;)try{d.shift()()}catch(t){g(t)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==i&&(it(this.$$listenerCount,W(null,o,this)),t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=S,this.$on=this.$watch=function(){return S})}},$eval:function(t,e){return p(t)(this,e)},$evalAsync:function(t){i.$$phase||i.$$asyncQueue.length||e.defer(function(){i.$$asyncQueue.length&&i.$digest()}),this.$$asyncQueue.push({scope:this,expression:t})},$$postDigest:function(t){this.$$postDigestQueue.push(t)},$apply:function(t){try{return m("$apply"),this.$eval(t)}catch(t){g(t)}finally{v();try{i.$digest()}catch(t){throw g(t),t}}},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);for(var i=this;i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++,i=i.$parent;);var r=this;return function(){n[O(n,e)]=null,o(r,1,t)}},$emit:function(t,e){var n,i,r,o=[],s=this,a=!1,l={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=j([l],arguments,1);do{for(n=s.$$listeners[t]||o,l.currentScope=s,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,c)}catch(t){g(t)}else n.splice(i,1),i--,r--;if(a)return l;s=s.$parent}while(s);return l},$broadcast:function(t,e){for(var n,i,r,o=this,s=this,a={name:t,targetScope:this,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1},l=j([a],arguments,1);o=s;){for(i=0,r=(n=(a.currentScope=o).$$listeners[t]||[]).length;i<r;i++)if(n[i])try{n[i].apply(null,l)}catch(t){g(t)}else n.splice(i,1),i--,r--;if(!(s=o.$$listenerCount[t]&&o.$$childHead||o!==this&&o.$$nextSibling))for(;o!==this&&!(s=o.$$nextSibling);)o=o.$parent}return a}};var i=new n;return i;function m(t){i.$$phase,i.$$phase=t}function v(){i.$$phase=null}function l(t,e){var n=p(t);return Z(n,e),n}function o(t,e,n){for(;t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n],t=t.$parent;);}function y(){}}]}function xn(){var r=/^\s*(https?|ftp|mailto|tel|file):/,o=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(t){return z(t)?(r=t,this):r},this.imgSrcSanitizationWhitelist=function(t){return z(t)?(o=t,this):o},this.$get=function(){return function(t,e){var n,i=e?o:r;return et&&!(8<=et)||""===(n=An(t).href)||n.match(i)?t:"unsafe:"+n}}}var _n=_("$sce"),Cn={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function kn(t){if("self"===t)return t;if(ot(t)){if(-1<t.indexOf("***"))throw _n("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(T(t))return new RegExp("^"+t.source+"$");throw _n("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Sn(t){var e=[];return z(t)&&it(t,function(t){e.push(kn(t))}),e}function Dn(){this.SCE_CONTEXTS=Cn;var s=["self"],a=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(s=Sn(t)),s},this.resourceUrlBlacklist=function(t){return arguments.length&&(a=Sn(t)),a},this.$get=["$injector",function(t){var i=function(){throw _n("unsafe","Attempting to use an unsafe value in a safe context.")};function o(t,e){return"self"===t?Pn(e):!!t.exec(e.href)}function e(t){function e(t){this.$$unwrapTrustedValue=function(){return t}}return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}t.has("$sanitize")&&(i=t.get("$sanitize"));var n=e(),r={};return r[Cn.HTML]=e(n),r[Cn.CSS]=e(n),r[Cn.URL]=e(n),r[Cn.JS]=e(n),r[Cn.RESOURCE_URL]=e(r[Cn.URL]),{trustAs:function(t,e){var n=r.hasOwnProperty(t)?r[t]:null;if(!n)throw _n("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===tt||""===e)return e;if("string"!=typeof e)throw _n("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)},getTrusted:function(t,e){if(null===e||e===tt||""===e)return e;var n=r.hasOwnProperty(t)?r[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Cn.RESOURCE_URL){if(function(t){var e,n,i=An(t.toString()),r=!1;for(e=0,n=s.length;e<n;e++)if(o(s[e],i)){r=!0;break}if(r)for(e=0,n=a.length;e<n;e++)if(o(a[e],i)){r=!1;break}return r}(e))return e;throw _n("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Cn.HTML)return i(e);throw _n("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof n?t.$$unwrapTrustedValue():t}}}]}function En(){var a=!0;this.enabled=function(t){return arguments.length&&(a=!!t),a},this.$get=["$parse","$sniffer","$sceDelegate",function(e,t,n){if(a&&t.msie&&t.msieDocumentMode<8)throw _n("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=ct(Cn);r.isEnabled=function(){return a},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,a||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=y),r.parseAs=function(n,t){var i=e(t);return i.literal&&i.constant?i:function(t,e){return r.getTrusted(n,i(t,e))}};var i=r.parseAs,o=r.getTrusted,s=r.trustAs;return it(Cn,function(e,t){var n=w(t);r[Dt("parse_as_"+n)]=function(t){return i(e,t)},r[Dt("get_trusted_"+n)]=function(t){return o(e,t)},r[Dt("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Tn(){this.$get=["$window","$document",function(t,e){var n,i,r={},o=k((/android (\d+)/.exec(w((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},l=a.documentMode,c=/^(Moz|webkit|O|ms)(?=[A-Z])/,u=a.body&&a.body.style,h=!1,d=!1;if(u){for(var f in u)if(i=c.exec(f)){n=(n=i[0]).substr(0,1).toUpperCase()+n.substr(1);break}n=n||"WebkitOpacity"in u&&"webkit",h=!!("transition"in u||n+"Transition"in u),d=!!("animation"in u||n+"Animation"in u),!o||h&&d||(h=ot(a.body.style.webkitTransition),d=ot(a.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||o<4||s),hashchange:"onhashchange"in t&&(!l||7<l),hasEvent:function(t){if("input"==t&&9==et)return!1;if(D(r[t])){var e=a.createElement("div");r[t]="on"+t in e}return r[t]},csp:H(),vendorPrefix:n,transitions:h,animations:d,android:o,msie:et,msieDocumentMode:l}}]}function Mn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(a,l,c,u){var h={};function t(t,e,n){var i,r=c.defer(),o=r.promise,s=z(n)&&!n;return i=l.defer(function(){try{r.resolve(t())}catch(t){r.reject(t),u(t)}finally{delete h[o.$$timeoutId]}s||a.$apply()},e),o.$$timeoutId=i,h[i]=r,o}return t.cancel=function(t){return!!(t&&t.$$timeoutId in h)&&(h[t.$$timeoutId].reject("canceled"),delete h[t.$$timeoutId],l.defer.cancel(t.$$timeoutId))},t}]}var $n=J.createElement("a"),Nn=An(m.location.href,!0);function An(t){var e=t;return et&&($n.setAttribute("href",e),e=$n.href),$n.setAttribute("href",e),{href:$n.href,protocol:$n.protocol?$n.protocol.replace(/:$/,""):"",host:$n.host,search:$n.search?$n.search.replace(/^\?/,""):"",hash:$n.hash?$n.hash.replace(/^#/,""):"",hostname:$n.hostname,port:$n.port,pathname:"/"===$n.pathname.charAt(0)?$n.pathname:"/"+$n.pathname}}function Pn(t){var e=ot(t)?An(t):t;return e.protocol===Nn.protocol&&e.host===Nn.host}function In(){this.$get=b(m)}function On(i){var r="Filter";function o(t,e){if(rt(t)){var n={};return it(t,function(t,e){n[e]=o(e,t)}),n}return i.factory(t+r,e)}this.register=o,this.$get=["$injector",function(e){return function(t){return e.get(t+r)}}],o("currency",Ln),o("date",Vn),o("filter",Rn),o("json",Gn),o("limitTo",Qn),o("lowercase",Xn),o("number",Hn),o("orderBy",Zn),o("uppercase",Kn)}function Rn(){return function(t,n,r){if(!st(t))return t;var e=typeof r,i=[];i.check=function(t){for(var e=0;e<i.length;e++)if(!i[e](t))return!1;return!0},"function"!=e&&(r="boolean"==e&&r?function(t,e){return h.equals(t,e)}:function(t,e){if(t&&e&&"object"==typeof t&&"object"==typeof e){for(var n in t)if("$"!==n.charAt(0)&&C.call(t,n)&&r(t[n],e[n]))return!0;return!1}return e=(""+e).toLowerCase(),-1<(""+t).toLowerCase().indexOf(e)});var o=function(t,e){if("string"==typeof e&&"!"===e.charAt(0))return!o(t,e.substr(1));switch(typeof t){case"boolean":case"number":case"string":return r(t,e);case"object":switch(typeof e){case"object":return r(t,e);default:for(var n in t)if("$"!==n.charAt(0)&&o(t[n],e))return!0}return!1;case"array":for(var i=0;i<t.length;i++)if(o(t[i],e))return!0;return!1;default:return!1}};switch(typeof n){case"boolean":case"number":case"string":n={$:n};case"object":for(var s in n)!function(e){void 0!==n[e]&&i.push(function(t){return o("$"==e?t:t&&t[e],n[e])})}(s);break;case"function":i.push(n);break;default:return t}for(var a=[],l=0;l<t.length;l++){var c=t[l];i.check(c)&&a.push(c)}return a}}function Ln(t){var n=t.NUMBER_FORMATS;return function(t,e){return D(e)&&(e=n.CURRENCY_SYM),zn(t,n.PATTERNS[1],n.GROUP_SEP,n.DECIMAL_SEP,2).replace(/\u00A4/g,e)}}function Hn(t){var n=t.NUMBER_FORMATS;return function(t,e){return zn(t,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,e)}}On.$inject=["$provide"],Ln.$inject=["$locale"],Hn.$inject=["$locale"];var Fn=".";function zn(t,e,n,i,r){if(null==t||!isFinite(t)||rt(t))return"";var o=t<0,s=(t=Math.abs(t))+"",a="",l=[],c=!1;if(-1!==s.indexOf("e")){var u=s.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>r+1?(s="0",t=0):(a=s,c=!0)}if(c)0<r&&-1<t&&t<1&&(a=t.toFixed(r));else{var h=(s.split(Fn)[1]||"").length;D(r)&&(r=Math.min(Math.max(e.minFrac,h),e.maxFrac));var d=(""+(t=+(Math.round(+(t.toString()+"e"+r)).toString()+"e"+-r))).split(Fn),f=d[0];d=d[1]||"";var p,g=0,m=e.lgSize,v=e.gSize;if(f.length>=m+v)for(g=f.length-m,p=0;p<g;p++)(g-p)%v==0&&0!==p&&(a+=n),a+=f.charAt(p);for(p=g;p<f.length;p++)(f.length-p)%m==0&&0!==p&&(a+=n),a+=f.charAt(p);for(;d.length<r;)d+="0";r&&"0"!==r&&(a+=i+d.substr(0,r))}return l.push(o?e.negPre:e.posPre),l.push(a),l.push(o?e.negSuf:e.posSuf),l.join("")}function jn(t,e,n){var i="";for(t<0&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function Wn(n,i,r,o){return r=r||0,function(t){var e=t["get"+n]();return(0<r||-r<e)&&(e+=r),0===e&&-12==r&&(e=12),jn(e,i,o)}}function Bn(i,r){return function(t,e){var n=t["get"+i]();return e[c(r?"SHORT"+i:i)][n]}}var Yn={yyyy:Wn("FullYear",4),yy:Wn("FullYear",2,0,!0),y:Wn("FullYear",1),MMMM:Bn("Month"),MMM:Bn("Month",!0),MM:Wn("Month",2,1),M:Wn("Month",1,1),dd:Wn("Date",2),d:Wn("Date",1),HH:Wn("Hours",2),H:Wn("Hours",1),hh:Wn("Hours",2,-12),h:Wn("Hours",1,-12),mm:Wn("Minutes",2),m:Wn("Minutes",1),ss:Wn("Seconds",2),s:Wn("Seconds",1),sss:Wn("Milliseconds",3),EEEE:Bn("Day"),EEE:Bn("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t){var e=-1*t.getTimezoneOffset(),n=0<=e?"+":"";return n+=jn(Math[0<e?"floor":"ceil"](e/60),2)+jn(Math.abs(e%60),2)}},qn=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Un=/^\-?\d+$/;function Vn(s){var h=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(e,t){var n,i,r="",o=[];if(t=t||"mediumDate",t=s.DATETIME_FORMATS[t]||t,ot(e)&&(e=Un.test(e)?k(e):function(t){var e;if(e=t.match(h)){var n=new Date(0),i=0,r=0,o=e[8]?n.setUTCFullYear:n.setFullYear,s=e[8]?n.setUTCHours:n.setHours;e[9]&&(i=k(e[9]+e[10]),r=k(e[9]+e[11])),o.call(n,k(e[1]),k(e[2])-1,k(e[3]));var a=k(e[4]||0)-i,l=k(e[5]||0)-r,c=k(e[6]||0),u=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(n,a,l,c,u),n}return t}(e)),l(e)&&(e=new Date(e)),!E(e))return e;for(;t;)t=(i=qn.exec(t))?(o=j(o,i,1)).pop():(o.push(t),null);return it(o,function(t){n=Yn[t],r+=n?n(e,s.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),r}}function Gn(){return function(t){return B(t,!0)}}Vn.$inject=["$locale"];var Xn=b(w),Kn=b(c);function Qn(){return function(t,e){if(!st(t)&&!ot(t))return t;if(e=Math.abs(Number(e))===1/0?Number(e):k(e),ot(t))return e?0<=e?t.slice(0,e):t.slice(e,t.length):"";var n,i,r=[];for(e>t.length?e=t.length:e<-t.length&&(e=-t.length),i=0<e?(n=0,e):(n=t.length+e,t.length);n<i;n++)r.push(t[n]);return r}}function Zn(a){return function(t,r,e){if(!st(t))return t;if(!r)return t;r=function(t,i,r){var o=[];return it(t,function(t,e,n){o.push(i.call(r,t,e,n))}),o}(r=st(r)?r:[r],function(t){var e=!1,n=t||y;if(ot(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(e="-"==t.charAt(0),t=t.substring(1)),(n=a(t)).constant)){var i=n();return o(function(t,e){return s(t[i],e[i])},e)}return o(function(t,e){return s(n(t),n(e))},e)});for(var n=[],i=0;i<t.length;i++)n.push(t[i]);return n.sort(o(function(t,e){for(var n=0;n<r.length;n++){var i=r[n](t,e);if(0!==i)return i}return 0},e));function o(n,t){return Y(t)?function(t,e){return n(e,t)}:n}function s(t,e){var n=typeof t,i=typeof e;return n==i?(E(t)&&E(e)&&(t=t.valueOf(),e=e.valueOf()),"string"==n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:t<e?-1:1):n<i?-1:1}}}function Jn(t){return at(t)&&(t={link:t}),t.restrict=t.restrict||"AC",b(t)}Zn.$inject=["$parse"];var ti=b({restrict:"E",compile:function(t,e){if(et<=8&&(e.href||e.name||e.$set("href",""),t.append(J.createComment("IE fix"))),!e.href&&!e.xlinkHref&&!e.name)return function(t,e){var n="[object SVGAnimatedString]"===a.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}),ei={};it(Kt,function(t,i){if("multiple"!=t){var r=_e("ng-"+i);ei[r]=function(){return{priority:100,link:function(t,e,n){t.$watch(n[r],function(t){n.$set(i,!!t)})}}}}}),it(["src","srcset","href"],function(o){var s=_e("ng-"+o);ei[s]=function(){return{priority:99,link:function(t,e,n){var i=o,r=o;"href"===o&&"[object SVGAnimatedString]"===a.call(e.prop("href"))&&(r="xlinkHref",n.$attr[r]="xlink:href",i=null),n.$observe(s,function(t){t?(n.$set(r,t),et&&i&&e.prop(i,n[r])):"href"===o&&n.$set(r,null)})}}}});var ni={$addControl:S,$removeControl:S,$setValidity:S,$setDirty:S,$setPristine:S};function ii(n,t,e,i){var r=this,o=n.parent().controller("form")||ni,s=0,a=r.$error={},l=[];function c(t,e){e=e?"-"+ft(e,"-"):"",i.removeClass(n,(t?xi:wi)+e),i.addClass(n,(t?wi:xi)+e)}r.$name=t.name||t.ngForm,r.$dirty=!1,r.$pristine=!0,r.$valid=!0,r.$invalid=!1,o.$addControl(r),n.addClass(_i),c(!0),r.$addControl=function(t){gt(t.$name,"input"),l.push(t),t.$name&&(r[t.$name]=t)},r.$removeControl=function(n){n.$name&&r[n.$name]===n&&delete r[n.$name],it(a,function(t,e){r.$setValidity(e,!0,n)}),R(l,n)},r.$setValidity=function(t,e,n){var i=a[t];if(e)i&&(R(i,n),i.length||(--s||(c(e),r.$valid=!0,r.$invalid=!1),c(!(a[t]=!1),t),o.$setValidity(t,!0,r)));else{if(s||c(e),i){if(function(t,e){return-1!=O(t,e)}(i,n))return}else a[t]=i=[],s++,c(!1,t),o.$setValidity(t,!1,r);i.push(n),r.$valid=!1,r.$invalid=!0}},r.$setDirty=function(){i.removeClass(n,_i),i.addClass(n,Ci),r.$dirty=!0,r.$pristine=!1,o.$setDirty()},r.$setPristine=function(){i.removeClass(n,Ci),i.addClass(n,_i),r.$dirty=!1,r.$pristine=!0,it(l,function(t){t.$setPristine()})}}ii.$inject=["$element","$attrs","$scope","$animate"];function ri(t){return["$timeout",function(a){return{name:"form",restrict:t?"EAC":"E",controller:ii,compile:function(){return{pre:function(t,e,n,i){if(!n.action){var r=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1};xt(e[0],"submit",r),e.on("$destroy",function(){a(function(){_t(e[0],"submit",r)},0,!1)})}var o=e.parent().controller("form"),s=n.name||n.ngForm;s&&fn(t,s,i,s),o&&e.on("$destroy",function(){o.$removeControl(i),s&&fn(t,s,tt,s),A(i,ni)})}}}}}]}var oi=ri(),si=ri(!0),ai=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,li=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,ci=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,ui={text:fi,number:function(t,e,n,i,r,o){if(fi(t,e,n,i,r,o),i.$parsers.push(function(t){var e=i.$isEmpty(t);return e||ci.test(t)?(i.$setValidity("number",!0),""===t?null:e?t:parseFloat(t)):(i.$setValidity("number",!1),tt)}),function(e,n,i,r,o){if(rt(o)){e.$$hasNativeValidators=!0;e.$parsers.push(function(t){if(e.$error[n]||di(o,r)||!di(o,i))return t;e.$setValidity(n,!1)})}}(i,"number",pi,null,i.$$validityState),i.$formatters.push(function(t){return i.$isEmpty(t)?"":""+t}),n.min){var s=function(t){var e=parseFloat(n.min);return hi(i,"min",i.$isEmpty(t)||e<=t,t)};i.$parsers.push(s),i.$formatters.push(s)}if(n.max){var a=function(t){var e=parseFloat(n.max);return hi(i,"max",i.$isEmpty(t)||t<=e,t)};i.$parsers.push(a),i.$formatters.push(a)}i.$formatters.push(function(t){return hi(i,"number",i.$isEmpty(t)||l(t),t)})},url:function(t,e,n,i,r,o){fi(t,e,n,i,r,o);function s(t){return hi(i,"url",i.$isEmpty(t)||ai.test(t),t)}i.$formatters.push(s),i.$parsers.push(s)},email:function(t,e,n,i,r,o){fi(t,e,n,i,r,o);function s(t){return hi(i,"email",i.$isEmpty(t)||li.test(t),t)}i.$formatters.push(s),i.$parsers.push(s)},radio:function(t,e,n,i){D(n.name)&&e.attr("name",r());e.on("click",function(){e[0].checked&&t.$apply(function(){i.$setViewValue(n.value)})}),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(t,e,n,i){var r=n.ngTrueValue,o=n.ngFalseValue;ot(r)||(r=!0);ot(o)||(o=!1);e.on("click",function(){t.$apply(function(){i.$setViewValue(e[0].checked)})}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t!==r},i.$formatters.push(function(t){return t===r}),i.$parsers.push(function(t){return t?r:o})},hidden:S,button:S,submit:S,reset:S,file:S};function hi(t,e,n,i){return t.$setValidity(e,n),n?i:tt}function di(t,e){var n;if(e)for(n=0;n<e.length;++n)if(t[e[n]])return!0;return!1}function fi(i,r,o,s,t,e){var a=r.prop(x),l=r[0].placeholder,c={};if(s.$$validityState=a,!t.android){var u=!1;r.on("compositionstart",function(t){u=!0}),r.on("compositionend",function(){u=!1,n()})}var n=function(t){if(!u){var e=r.val();if(et&&"input"===(t||c).type&&r[0].placeholder!==l)l=r[0].placeholder;else{Y(o.ngTrim||"T")&&(e=lt(e));var n=a&&s.$$hasNativeValidators;(s.$viewValue!==e||""===e&&n)&&(i.$$phase?s.$setViewValue(e):i.$apply(function(){s.$setViewValue(e)}))}}};if(t.hasEvent("input"))r.on("input",n);else{var h,d=function(){h=h||e.defer(function(){n(),h=null})};r.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||d()}),t.hasEvent("paste")&&r.on("paste cut",d)}r.on("change",n),s.$render=function(){r.val(s.$isEmpty(s.$viewValue)?"":s.$viewValue)};var f,p,g=o.ngPattern;if(g){var m=function(t,e){return hi(s,"pattern",s.$isEmpty(e)||t.test(e),e)};f=(p=g.match(/^\/(.*)\/([gim]*)$/))?(g=new RegExp(p[1],p[2]),function(t){return m(g,t)}):function(t){var e=i.$eval(g);if(!e||!e.test)throw _("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",g,e,dt(r));return m(e,t)},s.$formatters.push(f),s.$parsers.push(f)}if(o.ngMinlength){var v=k(o.ngMinlength),y=function(t){return hi(s,"minlength",s.$isEmpty(t)||t.length>=v,t)};s.$parsers.push(y),s.$formatters.push(y)}if(o.ngMaxlength){var b=k(o.ngMaxlength),w=function(t){return hi(s,"maxlength",s.$isEmpty(t)||t.length<=b,t)};s.$parsers.push(w),s.$formatters.push(w)}}var pi=["badInput"];function gi(){return{require:["ngModel","^?form"],controller:ki,link:function(t,e,n,i){var r=i[0],o=i[1]||ni;o.$addControl(r),t.$on("$destroy",function(){o.$removeControl(r)})}}}function mi(){return{require:"?ngModel",link:function(t,e,n,i){if(i){n.required=!0;var r=function(t){return n.required&&i.$isEmpty(t)?void i.$setValidity("required",!1):(i.$setValidity("required",!0),t)};i.$formatters.push(r),i.$parsers.unshift(r),n.$observe("required",function(){r(i.$viewValue)})}}}}function vi(){return{require:"ngModel",link:function(t,e,n,i){var r=/\/(.*)\//.exec(n.ngList),o=r&&new RegExp(r[1])||n.ngList||",";i.$parsers.push(function(t){if(!D(t)){var e=[];return t&&it(t.split(o),function(t){t&&e.push(lt(t))}),e}}),i.$formatters.push(function(t){return st(t)?t.join(", "):tt}),i.$isEmpty=function(t){return!t||!t.length}}}}function yi(){return{priority:100,compile:function(t,e){return Di.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}}var bi=["$browser","$sniffer",function(r,o){return{restrict:"E",require:"?ngModel",link:function(t,e,n,i){i&&(ui[w(n.type)]||ui.text)(t,e,n,i,o,r)}}}],wi="ng-valid",xi="ng-invalid",_i="ng-pristine",Ci="ng-dirty",ki=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(i,n,t,r,e,o){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=t.name;var s=e(t.ngModel),a=s.assign;if(!a)throw _("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",t.ngModel,dt(r));this.$render=S,this.$isEmpty=function(t){return D(t)||""===t||null===t||t!=t};var l=r.inheritedData("$formController")||ni,c=0,u=this.$error={};function h(t,e){e=e?"-"+ft(e,"-"):"",o.removeClass(r,(t?xi:wi)+e),o.addClass(r,(t?wi:xi)+e)}r.addClass(_i),h(!0),this.$setValidity=function(t,e){u[t]!==!e&&(e?(u[t]&&c--,c||(h(!0),this.$valid=!0,this.$invalid=!1)):(h(!1),this.$invalid=!0,this.$valid=!1,c++),u[t]=!e,h(e,t),l.$setValidity(t,e,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,o.removeClass(r,Ci),o.addClass(r,_i)},this.$setViewValue=function(e){this.$viewValue=e,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,o.removeClass(r,_i),o.addClass(r,Ci),l.$setDirty()),it(this.$parsers,function(t){e=t(e)}),this.$modelValue!==e&&(this.$modelValue=e,a(i,e),it(this.$viewChangeListeners,function(t){try{t()}catch(t){n(t)}}))};var d=this;i.$watch(function(){var t=s(i);if(d.$modelValue!==t){var e=d.$formatters,n=e.length;for(d.$modelValue=t;n--;)t=e[n](t);d.$viewValue!==t&&(d.$viewValue=t,d.$render())}return t})}],Si=b({require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Di=/^(true|false|\d+)$/,Ei=Jn({compile:function(t){return t.addClass("ng-binding"),function(t,e,n){e.data("$binding",n.ngBind),t.$watch(n.ngBind,function(t){e.text(t==tt?"":t)})}}}),Ti=["$interpolate",function(r){return function(t,e,n){var i=r(e.attr(n.$attr.ngBindTemplate));e.addClass("ng-binding").data("$binding",i),n.$observe("ngBindTemplate",function(t){e.text(t)})}}],Mi=["$sce","$parse",function(r,o){return{compile:function(t){return t.addClass("ng-binding"),function(t,e,n){e.data("$binding",n.ngBindHtml);var i=o(n.ngBindHtml);t.$watch(function(){return(i(t)||"").toString()},function(){e.html(r.getTrustedHtml(i(t))||"")})}}}}];function $i(d,f){return d="ngClass"+d,["$animate",function(c){return{restrict:"AC",link:function(r,o,s){var n;function a(t){var e=l(t,1);s.$addClass(e)}function l(t,e){var n=o.data("$classCounts")||{},i=[];return it(t,function(t){(0<e||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(0<e)&&i.push(t))}),o.data("$classCounts",n),i.join(" ")}function e(t){if(!0===f||r.$index%2===f){var e=h(t||[]);if(n){if(!ut(t,n)){!function(t,e){var n=u(e,t),i=u(t,e);i=l(i,-1),0===(n=l(n,1)).length?c.removeClass(o,i):0===i.length?c.addClass(o,n):c.setClass(o,n,i)}(h(n),e)}}else a(e)}n=ct(t)}r.$watch(s[d],e,!0),s.$observe("class",function(t){e(r.$eval(s[d]))}),"ngClass"!==d&&r.$watch("$index",function(t,e){var n=1&t;if(n!=(1&e)){var i=h(r.$eval(s[d]));n===f?a(i):function(t){var e=l(t,-1);s.$removeClass(e)}(i)}})}};function u(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function h(t){if(st(t))return t;if(ot(t))return t.split(" ");if(rt(t)){var n=[];return it(t,function(t,e){t&&(n=n.concat(e.split(" ")))}),n}return t}}]}var Ni=$i("",!0),Ai=$i("Odd",0),Pi=$i("Even",1),Ii=Jn({compile:function(t,e){e.$set("ngCloak",tt),t.removeClass("ng-cloak")}}),Oi=[function(){return{scope:!0,controller:"@",priority:500}}],Ri={};it("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(r){var o=_e("ng-"+r);Ri[o]=["$parse",function(i){return{compile:function(t,e){var n=i(e[o]);return function(e,t){t.on(w(r),function(t){e.$apply(function(){n(e,{$event:t})})})}}}}]});var Li=["$animate",function(l){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(e,n,i,t,r){var o,s,a;e.$watch(i.ngIf,function(t){Y(t)?s||(s=e.$new(),r(s,function(t){t[t.length++]=J.createComment(" end ngIf: "+i.ngIf+" "),o={clone:t},l.enter(t,n.parent(),n)})):(a&&(a.remove(),a=null),s&&(s.$destroy(),s=null),o&&(a=vt(o.clone),l.leave(a,function(){a=null}),o=null))})}}}],Hi=["$http","$templateCache","$anchorScroll","$animate","$sce",function(g,m,v,y,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:h.noop,compile:function(t,e){var n=e.ngInclude||e.src,f=e.onload||"",p=e.autoscroll;return function(o,s,t,a,l){function c(){e&&(e.remove(),e=null),u&&(u.$destroy(),u=null),h&&(y.leave(h,function(){e=null}),e=h,h=null)}var u,e,h,d=0;o.$watch(i.parseAsResourceUrl(n),function(t){function i(){!z(p)||p&&!o.$eval(p)||v()}var r=++d;t?(g.get(t,{cache:m}).success(function(t){if(r===d){var e=o.$new();a.template=t;var n=l(e,function(t){c(),y.enter(t,null,s,i)});h=n,(u=e).$emit("$includeContentLoaded"),o.$eval(f)}}).error(function(){r===d&&c()}),o.$emit("$includeContentRequested")):(c(),a.template=null)})}}}}],Fi=["$compile",function(r){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,e,n,i){e.html(i.template),r(e.contents())(t)}}}],zi=Jn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),ji=Jn({terminal:!0,priority:1e3}),Wi=["$locale","$interpolate",function(h,d){var f=/{}/g;return{restrict:"EA",link:function(e,n,i){var r=i.count,t=i.$attr.when&&n.attr(i.$attr.when),o=i.offset||0,s=e.$eval(t)||{},a={},l=d.startSymbol(),c=d.endSymbol(),u=/^when(Minus)?(.+)$/;it(i,function(t,e){u.test(e)&&(s[w(e.replace("when","").replace("Minus","-"))]=n.attr(i.$attr[e]))}),it(s,function(t,e){a[e]=d(t.replace(f,l+r+"-"+o+c))}),e.$watch(function(){var t=parseFloat(e.$eval(r));return isNaN(t)?"":(t in s||(t=h.pluralCat(t-o)),a[t](e,n,!0))},function(t){n.text(t)})}}}],Bi=["$parse","$animate",function(l,D){var E="$$NG_REMOVED",T=_("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(m,v,t,e,y){var n,i,b,w,x,r,o,_,C,k=t.ngRepeat,s=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),a={$id:ne};if(!s)throw T("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",k);if(r=s[1],o=s[2],(n=s[3])?(i=l(n),b=function(t,e,n){return C&&(a[C]=t),a[_]=e,a.$index=n,i(m,a)}):(w=function(t,e){return ne(e)},x=function(t){return t}),!(s=r.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/)))throw T("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",r);_=s[3]||s[1],C=s[2];var S={};m.$watchCollection(o,function(t){var e,n,i,r,o,s,a,l,c,u,h,d,f=v[0],p={},g=[];if(N(t))u=t,c=b||w;else{for(s in c=b||x,u=[],t)t.hasOwnProperty(s)&&"$"!=s.charAt(0)&&u.push(s);u.sort()}for(r=u.length,n=g.length=u.length,e=0;e<n;e++)if(gt(l=c(s=t===u?e:u[e],a=t[s],e),"`track by` id"),S.hasOwnProperty(l))h=S[l],delete S[l],p[l]=h,g[e]=h;else{if(p.hasOwnProperty(l))throw it(g,function(t){t&&t.scope&&(S[t.id]=t)}),T("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",k,l);g[e]={id:l},p[l]=!1}for(s in S)S.hasOwnProperty(s)&&(d=vt((h=S[s]).clone),D.leave(d),it(d,function(t){t[E]=!0}),h.scope.$destroy());for(e=0,n=u.length;e<n;e++){if(a=t[s=t===u?e:u[e]],h=g[e],g[e-1]&&(f=M(g[e-1])),h.scope){for(o=h.scope,i=f;(i=i.nextSibling)&&i[E];);h.clone[0]!=i&&D.move(vt(h.clone),null,nt(f)),f=M(h)}else o=m.$new();o[_]=a,C&&(o[C]=s),o.$index=e,o.$first=0===e,o.$last=e===r-1,o.$middle=!(o.$first||o.$last),o.$odd=!(o.$even=0==(1&e)),h.scope||y(o,function(t){t[t.length++]=J.createComment(" end ngRepeat: "+k+" "),D.enter(t,null,nt(f)),f=t,h.scope=o,h.clone=t,p[h.id]=h})}S=p})}};function M(t){return t.clone[t.clone.length-1]}}],Yi=["$animate",function(i){return function(t,e,n){t.$watch(n.ngShow,function(t){i[Y(t)?"removeClass":"addClass"](e,"ng-hide")})}}],qi=["$animate",function(i){return function(t,e,n){t.$watch(n.ngHide,function(t){i[Y(t)?"addClass":"removeClass"](e,"ng-hide")})}}],Ui=Jn(function(t,n,e){t.$watch(e.ngStyle,function(t,e){e&&t!==e&&it(e,function(t,e){n.css(e,"")}),t&&n.css(t)},!0)}),Vi=["$animate",function(h){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(r,t,o,s){var e=o.ngSwitch||o.on,a=[],l=[],c=[],u=[];r.$watch(e,function(t){var e,n;for(e=0,n=c.length;e<n;++e)c[e].remove();for(c.length=0,e=0,n=u.length;e<n;++e){var i=l[e];u[e].$destroy(),c[e]=i,h.leave(i,function(){c.splice(e,1)})}l.length=0,u.length=0,(a=s.cases["!"+t]||s.cases["?"])&&(r.$eval(o.change),it(a,function(n){var t=r.$new();u.push(t),n.transclude(t,function(t){var e=n.element;l.push(t),h.enter(t,e.parent(),e)})}))})}}}],Gi=Jn({transclude:"element",priority:800,require:"^ngSwitch",link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),Xi=Jn({transclude:"element",priority:800,require:"^ngSwitch",link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),Ki=Jn({link:function(t,e,n,i,r){if(!r)throw _("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",dt(e));r(function(t){e.empty(),e.append(t)})}}),Qi=["$templateCache",function(r){return{restrict:"E",terminal:!0,compile:function(t,e){if("text/ng-template"==e.type){var n=e.id,i=t[0].text;r.put(n,i)}}}}],Zi=_("ngOptions"),Ji=b({terminal:!0}),tr=["$compile","$parse",function(w,x){var _=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,a={$setViewValue:S};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(n,t,e){var i,r=this,o={},s=a;r.databound=e.ngModel,r.init=function(t,e,n){s=t,e,i=n},r.addOption=function(t){gt(t,'"option value"'),o[t]=!0,s.$viewValue==t&&(n.val(t),i.parent()&&i.remove())},r.removeOption=function(t){this.hasOption(t)&&(delete o[t],s.$viewValue==t&&this.renderUnknownOption(t))},r.renderUnknownOption=function(t){var e="? "+ne(t)+" ?";i.val(e),n.prepend(i),n.val(e),i.prop("selected",!0)},r.hasOption=function(t){return o.hasOwnProperty(t)},t.$on("$destroy",function(){r.renderUnknownOption=S})}],link:function(t,e,n,i){if(i[1]){for(var r,o,s,a,l,c,u,h,d,f=i[0],p=i[1],O=n.multiple,g=n.ngOptions,R=!1,L=nt(J.createElement("option")),H=nt(J.createElement("optgroup")),m=L.clone(),v=0,y=e.children(),b=y.length;v<b;v++)if(""===y[v].value){r=R=y.eq(v);break}f.init(p,R,m),O&&(p.$isEmpty=function(t){return!t||0===t.length}),g?function(k,S,D){var t;if(!(t=g.match(_)))throw Zi("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",g,dt(S));var E=x(t[2]||t[1]),T=t[4]||t[6],M=t[5],$=x(t[3]||""),N=x(t[2]?t[1]:T),A=x(t[7]),P=t[8]?x(t[8]):null,I=[[{element:S,label:""}]];R&&(w(R)(k),R.removeClass("ng-scope"),R.remove());function e(){var t,e,n,i,r,o,s,a,l,c,u,h,d,f,p,g={"":[]},m=[""],v=D.$modelValue,y=A(k)||[],b=M?F(y):y,w={},x=!1;if(O)if(P&&st(v)){x=new ie([]);for(var _=0;_<v.length;_++)w[T]=v[_],x.put(P(k,w),v[_])}else x=new ie(v);for(u=0;u<(l=b.length);u++){if(s=u,M){if("$"===(s=b[u]).charAt(0))continue;w[M]=s}if(w[T]=y[s],(e=g[t=$(k,w)||""])||(e=g[t]=[],m.push(t)),O)h=z(x.remove(P?P(k,w):N(k,w)));else{if(P){var C={};C[T]=v,h=P(k,C)===P(k,w)}else h=v===N(k,w);x=x||h}p=z(p=E(k,w))?p:"",e.push({id:P?P(k,w):M?b[u]:u,label:p,selected:h})}for(O||(R||null===v?g[""].unshift({id:"",label:"",selected:!x}):x||g[""].unshift({id:"?",label:"",selected:!0})),c=0,a=m.length;c<a;c++){for(e=g[t=m[c]],I.length<=c?(r=[i={element:H.clone().attr("label",t),label:e.label}],I.push(r),S.append(i.element)):(i=(r=I[c])[0]).label!=t&&i.element.attr("label",i.label=t),d=null,u=0,l=e.length;u<l;u++)n=e[u],(o=r[u+1])?(d=o.element,o.label!==n.label&&d.text(o.label=n.label),o.id!==n.id&&d.val(o.id=n.id),o.selected!==n.selected&&(d.prop("selected",o.selected=n.selected),et&&d.prop("selected",o.selected))):(""===n.id&&R?f=R:(f=L.clone()).val(n.id).prop("selected",n.selected).text(n.label),r.push(o={element:f,label:n.label,id:n.id,selected:n.selected}),d?d.after(f):i.element.append(f),d=f);for(u++;r.length>u;)r.pop().element.remove()}for(;I.length>c;)I.pop()[0].element.remove()}S.empty(),S.on("change",function(){k.$apply(function(){var t,e,n,i,r,o,s,a,l,c=A(k)||[],u={};if(O){for(n=[],o=0,a=I.length;o<a;o++)for(r=1,s=(t=I[o]).length;r<s;r++)if((i=t[r].element)[0].selected){if(e=i.val(),M&&(u[M]=e),P)for(l=0;l<c.length&&(u[T]=c[l],P(k,u)!=e);l++);else u[T]=c[e];n.push(N(k,u))}}else{if("?"==(e=S.val()))n=tt;else if(""===e)n=null;else if(P){for(l=0;l<c.length;l++)if(u[T]=c[l],P(k,u)==e){n=N(k,u);break}}else u[T]=c[e],M&&(u[M]=e),n=N(k,u);1<I[0].length&&I[0][1].id!==e&&(I[0][1].selected=!1)}D.$setViewValue(n)})}),D.$render=e,k.$watch(e)}(t,e,p):O?(c=t,u=e,(h=p).$render=function(){var e=new ie(h.$viewValue);it(u.find("option"),function(t){t.selected=z(e.get(t.value))})},c.$watch(function(){ut(d,h.$viewValue)||(d=ct(h.$viewValue),h.$render())}),u.on("change",function(){c.$apply(function(){var e=[];it(u.find("option"),function(t){t.selected&&e.push(t.value)}),h.$setViewValue(e)})})):(o=t,s=e,l=f,(a=p).$render=function(){var t=a.$viewValue;l.hasOption(t)?(m.parent()&&m.remove(),s.val(t),""===t&&r.prop("selected",!0)):D(t)&&r?s.val(""):l.renderUnknownOption(t)},s.on("change",function(){o.$apply(function(){m.parent()&&m.remove(),a.$setViewValue(s.val())})}))}}}}],er=["$interpolate",function(n){var a={addOption:S,removeOption:S};return{restrict:"E",priority:100,compile:function(t,e){if(D(e.value)){var s=n(t.text(),!0);s||e.$set("value",t.text())}return function(t,e,n){var i="$selectController",r=e.parent(),o=r.data(i)||r.parent().data(i);o&&o.databound?e.prop("selected",!1):o=a,s?t.$watch(s,function(t,e){n.$set("value",t),t!==e&&o.removeOption(e),o.addOption(t)}):o.addOption(n.value),e.on("$destroy",function(){o.removeOption(n.value)})}}}}],nr=b({restrict:"E",terminal:!0});m.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):((p=m.jQuery)&&p.fn.on?(A((nt=p).fn,{scope:Xt.scope,isolateScope:Xt.isolateScope,controller:Xt.controller,injector:Xt.injector,inheritedData:Xt.inheritedData}),Et("remove",!0,!0,!1),Et("empty",!1,!1,!1),Et("html",!1,!1,!0)):nt=Ot,h.element=nt,function(t){A(t,{bootstrap:K,copy:L,extend:A,equals:ut,element:nt,forEach:it,injector:ue,noop:S,bind:W,toJson:B,fromJson:s,identity:y,isUndefined:D,isDefined:z,isString:ot,isFunction:at,isObject:rt,isNumber:l,isElement:e,isArray:st,version:yt,isDate:E,lowercase:w,uppercase:c,callbacks:{counter:0},$$minErr:_,$$csp:H}),f=function(t){var l=_("$injector"),n=_("ng");function e(t,e,n){return t[e]||(t[e]=n())}var i=e(t,"angular",Object);return i.$$minErr=i.$$minErr||_,e(i,"module",function(){var t={};return function(o,s,a){return function(t,e){if("hasOwnProperty"===t)throw n("badname","hasOwnProperty is not a valid {0} name",e)}(o,"module"),s&&t.hasOwnProperty(o)&&(t[o]=null),e(t,o,function(){if(!s)throw l("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",o);var i=[],e=[],t=n("$injector","invoke"),r={_invokeQueue:i,_runBlocks:e,requires:s,name:o,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:n("$provide","value"),constant:n("$provide","constant","unshift"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),config:t,run:function(t){return e.push(t),this}};return a&&t(a),r;function n(t,e,n){return function(){return i[n||"push"]([t,e,arguments]),r}}})}})}(m);try{f("ngLocale")}catch(t){f("ngLocale",[]).provider("$locale",Le)}f("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:xn}),t.provider("$compile",we).directive({a:ti,input:bi,textarea:bi,form:oi,script:Qi,select:tr,style:nr,option:er,ngBind:Ei,ngBindHtml:Mi,ngBindTemplate:Ti,ngClass:Ni,ngClassEven:Pi,ngClassOdd:Ai,ngCloak:Ii,ngController:Oi,ngForm:si,ngHide:qi,ngIf:Li,ngInclude:Hi,ngInit:zi,ngNonBindable:ji,ngPluralize:Wi,ngRepeat:Bi,ngShow:Yi,ngStyle:Ui,ngSwitch:Vi,ngSwitchWhen:Gi,ngSwitchDefault:Xi,ngOptions:Ji,ngTransclude:Ki,ngModel:gi,ngList:vi,ngChange:Si,required:mi,ngRequired:mi,ngValue:yi}).directive({ngInclude:Fi}).directive(ei).directive(Ri),t.provider({$anchorScroll:he,$animate:fe,$browser:me,$cacheFactory:ve,$controller:ke,$document:Se,$exceptionHandler:De,$filter:On,$interpolate:Oe,$interval:Re,$http:Ne,$httpBackend:Pe,$location:Ze,$log:Je,$parse:vn,$rootScope:wn,$q:yn,$sce:En,$sceDelegate:Dn,$sniffer:Tn,$templateCache:ye,$timeout:Mn,$window:In,$$rAF:bn,$$asyncCallback:pe})}])}(h),nt(J).ready(function(){!function(e,t){var i,r,n=[e],o=["ng:app","ng-app","x-ng-app","data-ng-app"],s=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;function a(t){t&&n.push(t)}it(o,function(t){o[t]=!0,a(J.getElementById(t)),t=t.replace(":","\\:"),e.querySelectorAll&&(it(e.querySelectorAll("."+t),a),it(e.querySelectorAll("."+t+"\\:"),a),it(e.querySelectorAll("["+t+"]"),a))}),it(n,function(e){if(!i){var t=" "+e.className+" ",n=s.exec(t);n?(i=e,r=(n[2]||"").replace(/\s+/g,",")):it(e.attributes,function(t){!i&&o[t.name]&&(i=e,r=t.value)})}}),i&&t(i,r?[r]:[])}(J,K)}))}(window,document),window.angular.$$csp()||window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'),angular.module("gettext",[]),angular.module("gettext").constant("gettext",function(t){return t}),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","$http","$cacheFactory","$interpolate","$rootScope",function(o,e,t,s,n){function a(t){return i.debug&&i.currentLanguage!==i.baseLanguage?"[MISSING]: "+t:t}var i;return i={debug:!1,strings:{},baseLanguage:"en",currentLanguage:"en",cache:t("strings"),setCurrentLanguage:function(t){this.currentLanguage=t,n.$broadcast("gettextLanguageChanged")},setStrings:function(t,e){for(var n in this.strings[t]||(this.strings[t]={}),e){var i=e[n];this.strings[t][n]="string"==typeof i?[i]:i}},getStringForm:function(t,e){return((this.strings[this.currentLanguage]||{})[t]||[])[e]},getString:function(t,e){return t=this.getStringForm(t,0)||a(t),e?s(t)(e):t},getPlural:function(t,e,n,i){var r=o(this.currentLanguage,t);return e=this.getStringForm(e,r)||a(1===t?e:n),i?s(e)(i):e},loadRemote:function(t){return e({method:"GET",url:t,cache:i.cache}).success(function(t){for(var e in t)i.setStrings(e,t[e])})}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate",function(c,u,h){var d=String.prototype.trim?function(t){return"string"==typeof t?t.trim():t}:function(t){return"string"==typeof t?t.replace(/^\s*/,"").replace(/\s*$/,""):t};function f(t,e,n){if(!t)throw new Error("You should add a "+e+" attribute whenever you add a "+n+" attribute.")}return{restrict:"A",terminal:!0,priority:350,transclude:"element",link:function(r,o,s,t,e){f(!s.translatePlural||s.translateN,"translate-n","translate-plural"),f(!s.translateN||s.translatePlural,"translate-plural","translate-n");var n=null,a=u(s.translateN),l=null;function i(){var i=n;n=e(r,function(t){var e,n=d(t.html());e=s.translatePlural?((r=l=l||r.$new()).$count=a(r),c.getPlural(r.$count,n,s.translatePlural)):c.getString(n),t.prop("__msgstr",e),h.enter(t,null,o),null!==i&&h.leave(i,function(){i=null})})}s.translateN&&r.$watch(s.translateN,i),r.$on("gettextLanguageChanged",i),i()}}}]).directive("translate",["$compile",function(i){return{restrict:"A",priority:-350,link:function(t,e){var n=e.prop("__msgstr");e.empty().append(n),i(e.contents())(t)}}}]),angular.module("gettext").filter("translate",["gettextCatalog",function(e){return function(t){return e.getString(t)}}]),angular.module("gettext").factory("gettextPlurals",function(){return function(t,e){switch(t){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return e%10!=1||e%100==11?1:0;case"jv":return 0!=e?1:0;case"mk":return 1==e||e%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return 1<e?1:0;case"lv":return e%10==1&&e%100!=11?0:0!=e?1:2;case"lt":return e%10==1&&e%100!=11?0:2<=e%10&&(e%100<10||20<=e%100)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return e%10==1&&e%100!=11?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2;case"mnk":return 0==e?0:1==e?1:2;case"ro":return 1==e?0:0==e||0<e%100&&e%100<20?1:2;case"pl":return 1==e?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2;case"cs":case"sk":return 1==e?0:2<=e&&e<=4?1:2;case"sl":return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0;case"mt":return 1==e?0:0==e||1<e%100&&e%100<11?1:10<e%100&&e%100<20?2:3;case"gd":return 1==e||11==e?0:2==e||12==e?1:2<e&&e<20?2:3;case"cy":return 1==e?0:2==e?1:8!=e&&11!=e?2:3;case"kw":return 1==e?0:2==e?1:3==e?2:3;case"ga":return 1==e?0:2==e?1:e<7?2:e<11?3:4;case"ar":return 0==e?0:1==e?1:2==e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5;default:return 1!=e?1:0}}}),function(t,d){"use strict";var u=d.$$minErr("$sanitize");var h=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,f=/^<\s*\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,g=/^</,m=/^<\s*\//,v=/<!--(.*?)-->/g,y=/<!DOCTYPE([^>]*?)>/i,b=/<!\[CDATA\[(.*?)]]>/g,e=/([^\#-~| |!])/g,w=r("area,br,col,hr,img,wbr"),n=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),i=r("rp,rt"),x=d.extend({},i,n),_=d.extend({},n,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),C=d.extend({},i,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),k=r("script,style"),a=d.extend({},w,_,C,x),l=r("background,cite,href,longdesc,src,usemap"),c=d.extend({},l,r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"));function r(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}var o=document.createElement("pre"),s=/^(\s*)([\s\S]*?)(\s*)$/;function S(t){if(!t)return"";var e=s.exec(t),n=e[1],i=e[3],r=e[2];return r&&(o.innerHTML=r.replace(/</g,"&lt;"),r="textContent"in o?o.textContent:o.innerText),n+r+i}function D(t){return t.replace(/&/g,"&amp;").replace(e,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function E(t,o){var n=!1,s=d.bind(t,t.push);return{start:function(r,t,e){r=d.lowercase(r),!n&&k[r]&&(n=r),n||!0!==a[r]||(s("<"),s(r),d.forEach(t,function(t,e){var n=d.lowercase(e),i="img"===r&&"src"===n||"background"===n;!0!==c[n]||!0===l[n]&&!o(t,i)||(s(" "),s(e),s('="'),s(D(t)),s('"'))}),s(e?"/>":">"))},end:function(t){t=d.lowercase(t),n||!0!==a[t]||(s("</"),s(t),s(">")),t==n&&(n=!1)},chars:function(t){n||s(D(t))}}}d.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(n){return function(t){var e=[];return function(t,r){var e,n,i,o=[],s=t;o.last=function(){return o[o.length-1]};for(;t;){if(n=!0,o.last()&&k[o.last()])t=t.replace(new RegExp("(.*)<\\s*\\/\\s*"+o.last()+"[^>]*>","i"),function(t,e){return e=e.replace(v,"$1").replace(b,"$1"),r.chars&&r.chars(S(e)),""}),c("",o.last());else if(0===t.indexOf("\x3c!--")?0<=(e=t.indexOf("--",4))&&t.lastIndexOf("--\x3e",e)===e&&(r.comment&&r.comment(t.substring(4,e)),t=t.substring(e+3),n=!1):y.test(t)?(i=t.match(y))&&(t=t.replace(i[0],""),n=!1):m.test(t)?(i=t.match(f))&&(t=t.substring(i[0].length),i[0].replace(f,c),n=!1):g.test(t)&&(i=t.match(h))&&(t=t.substring(i[0].length),i[0].replace(h,l),n=!1),n){var a=(e=t.indexOf("<"))<0?t:t.substring(0,e);t=e<0?"":t.substring(e),r.chars&&r.chars(S(a))}if(t==s)throw u("badparse","The sanitizer was unable to parse the following block of html: {0}",t);s=t}function l(t,e,n,i){if(e=d.lowercase(e),_[e])for(;o.last()&&C[o.last()];)c("",o.last());x[e]&&o.last()==e&&c("",e),(i=w[e]||!!i)||o.push(e);var s={};n.replace(p,function(t,e,n,i,r){var o=n||i||r||"";s[e]=S(o)}),r.start&&r.start(e,s,i)}function c(t,e){var n,i=0;if(e=d.lowercase(e))for(i=o.length-1;0<=i&&o[i]!=e;i--);if(0<=i){for(n=o.length-1;i<=n;n--)r.end&&r.end(o[n]);o.length=i}}c()}(t,E(e,function(t,e){return!/^unsafe/.test(n(t,e))})),e.join("")}}]}),d.module("ngSanitize").filter("linky",["$sanitize",function(c){var u=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,h=/^mailto:/;return function(t,n){if(!t)return t;for(var e,i,r,o=t,s=[];e=o.match(u);)i=e[0],e[2]==e[3]&&(i="mailto:"+i),r=e.index,a(o.substr(0,r)),l(i,e[0].replace(h,"")),o=o.substring(r+e[0].length);return a(o),c(s.join(""));function a(t){t&&s.push(function(t){var e=[];return E(e,d.noop).chars(t),e.join("")}(t))}function l(t,e){s.push("<a "),d.isDefined(n)&&(s.push('target="'),s.push(n),s.push('" ')),s.push('href="'),s.push(t),s.push('">'),a(e),s.push("</a>")}}}])}(window,window.angular),function(t,u){angular.module("growlNotifications.config",[]).value("growlNotifications.config",{debug:!0}),angular.module("growlNotifications.directives",[]),angular.module("growlNotifications.filters",[]),angular.module("growlNotifications.services",[]),angular.module("growlNotifications",["growlNotifications.config","growlNotifications.directives","growlNotifications.filters","growlNotifications.services"]),angular.module("growlNotifications.directives").directive("growlNotification",["growlNotifications","$sce","$interpolate",function(s,a,l){var c={message:"",type:"info",ttl:5e3};return{restrict:"AE",replace:!0,template:"",transclude:!0,link:function(t,e,n,i,r){var o=angular.extend({},c,t.$eval(n.growlNotification));r(function(t,e){var n,i,r;(n=angular.element(u.createElement("div"))).append(t),i=n.html(),i=l(i)(e),r=a.trustAsHtml(i),s.add(r,o.type,o.ttl)})}}}]),angular.module("growlNotifications.directives").directive("growlNotifications",["growlNotifications",function(e){return{restrict:"AE",replace:!1,scope:{},template:['<ul class="list-unstyled">','   <li ng-repeat="(id, notification) in notifications">','       <div class="{{cssPrefix}} {{cssPrefix}}-{{notification.type}}">','           <div ng-bind-html="notification.message">',"           </div>","       </div>","   </li>","</ul>"].join("\n"),link:function(t){t.cssPrefix=e.options.cssPrefix,t.notifications=e.notifications}}}]),angular.module("growlNotifications.services").provider("growlNotifications",[function(){var a={ttl:5e3,type:"info",cssPrefix:"alert"};this.setOptions=function(t){return angular.extend(a,t),this},this.ttl=function(t){return angular.isDefined(t)?(a.ttl=t,this):a.ttl},this.type=function(t){return angular.isDefined(t)?(a.type=t,this):a.type},this.cssPrefix=function(t){return angular.isDefined(t)?(a.cssPrefix=t,this):a.cssPrefix},this.$get=function(s,t){function e(){this._notifications={},this._index=0,this.options=a,Object.defineProperty(this,"notifications",{get:function(){return this._notifications}})}return e.prototype._broadcastUpdate=function(){t.$broadcast("growlNotifications::update",this.notifications)},e.prototype.add=function(t,e,n){var i,r=this._index++,o=this;return i={message:t?t.toString():"",type:e?e.toString():a.type,ttl:n?parseInt(n,10):a.ttl},this._notifications[r]=i,s(function(){o.remove(r)},i.ttl),this._broadcastUpdate(),r},e.prototype.remove=function(t){return this._notifications.hasOwnProperty(t)&&(delete this._notifications[t],this._broadcastUpdate()),this},new e},this.$get.$inject=["$timeout","$rootScope"]}])}(window,document),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(s,a,l){function t(t){for(var e in t)if(void 0!==n.style[e])return t[e]}var c=function(t,e,n){n=n||{};var i=s.defer(),r=c[n.animation?"animationEndEventName":"transitionEndEventName"],o=function(){l.$apply(function(){t.unbind(r,o),i.resolve(t)})};return r&&t.bind(r,o),a(function(){angular.isString(e)?t.addClass(e):angular.isFunction(e)?e(t):angular.isObject(e)&&t.css(e),r||i.resolve(t)}),i.promise.cancel=function(){r&&t.unbind(r,o),i.reject("Transition cancelled")},i.promise},n=document.createElement("trans");return c.transitionEndEventName=t({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),c.animationEndEventName=t({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),c}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(l){return{link:function(t,i,e){function n(t){function e(){s===n&&(s=void 0)}var n=l(i,t);return s&&s.cancel(),(s=n).then(e,e),n}function r(){i.removeClass("collapsing"),i.addClass("collapse in"),i.css({height:"auto"})}function o(){i.removeClass("collapsing"),i.addClass("collapse")}var s,a=!0;t.$watch(e.collapse,function(t){t?a?(a=!1,o(),i.css({height:0})):(i.css({height:i[0].scrollHeight+"px"}),i[0].offsetWidth,i.removeClass("collapse in").addClass("collapsing"),n({height:0}).then(o)):a?(a=!1,r()):(i.removeClass("collapse").addClass("collapsing"),n({height:i[0].scrollHeight+"px"}).then(r))})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,n,i){this.groups=[],this.closeOthers=function(e){(angular.isDefined(n.closeOthers)?t.$eval(n.closeOthers):i.closeOthers)&&angular.forEach(this.groups,function(t){t!==e&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(e,t,n,i){i.addGroup(e),e.$watch("isOpen",function(t){t&&i.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,i,r){i.setHeading(r(t,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,i){t.$watch(function(){return i[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,n,i,t){var r=t[0],o=t[1];o.$render=function(){n.toggleClass(r.activeClass,angular.equals(o.$modelValue,e.$eval(i.btnRadio)))},n.bind(r.toggleEvent,function(){var t=n.hasClass(r.activeClass);t&&!angular.isDefined(i.uncheckable)||e.$apply(function(){o.$setViewValue(t?null:e.$eval(i.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(i,t,e,n){function r(){return o(e.btnCheckboxTrue,!0)}function o(t,e){var n=i.$eval(t);return angular.isDefined(n)?n:e}var s=n[0],a=n[1];a.$render=function(){t.toggleClass(s.activeClass,angular.equals(a.$modelValue,r()))},t.bind(s.toggleEvent,function(){i.$apply(function(){a.$setViewValue(t.hasClass(s.activeClass)?o(e.btnCheckboxFalse,!1):r()),a.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(s,e,a){function l(){n();var t=+s.interval;!isNaN(t)&&0<=t&&(r=e(i,t))}function n(){r&&(e.cancel(r),r=null)}function i(){t?(s.next(),l()):s.pause()}var r,t,c=this,u=c.slides=s.slides=[],h=-1;c.currentSlide=null;var d=!1;c.select=s.select=function(n,i){function t(){var t,e;d||(c.currentSlide&&angular.isString(i)&&!s.noTransition&&n.$element?(n.$element.addClass(i),n.$element[0].offsetWidth,angular.forEach(u,function(t){angular.extend(t,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:i,active:!0,entering:!0}),angular.extend(c.currentSlide||{},{direction:i,leaving:!0}),s.$currentTransition=a(n.$element,{}),t=n,e=c.currentSlide,s.$currentTransition.then(function(){r(t,e)},function(){r(t,e)})):r(n,c.currentSlide),c.currentSlide=n,h=o,l())}function r(t,e){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(e||{},{direction:"",active:!1,leaving:!1,entering:!1}),s.$currentTransition=null}var o=u.indexOf(n);void 0===i&&(i=h<o?"next":"prev"),n&&n!==c.currentSlide&&(s.$currentTransition?(s.$currentTransition.cancel(),e(t)):t())},s.$on("$destroy",function(){d=!0}),c.indexOfSlide=function(t){return u.indexOf(t)},s.next=function(){var t=(h+1)%u.length;return s.$currentTransition?void 0:c.select(u[t],"next")},s.prev=function(){var t=h-1<0?u.length-1:h-1;return s.$currentTransition?void 0:c.select(u[t],"prev")},s.isActive=function(t){return c.currentSlide===t},s.$watch("interval",l),s.$on("$destroy",n),s.play=function(){t||(t=!0,l())},s.pause=function(){s.noPause||(t=!1,n())},c.addSlide=function(t,e){t.$element=e,u.push(t),1===u.length||t.active?(c.select(u[u.length-1]),1==u.length&&s.play()):t.active=!1},c.removeSlide=function(t){var e=u.indexOf(t);u.splice(e,1),0<u.length&&t.active?c.select(e>=u.length?u[e-1]:u[e]):e<h&&h--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(h,t){this.parsers={};var e={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:h.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=h.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:h.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=h.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:h.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:h.DATETIME_FORMATS.SHORTDAY.join("|")}};this.createParser=function(o){var s=[],a=o.split("");return angular.forEach(e,function(t,e){var n=o.indexOf(e);if(-1<n){o=o.split(""),a[n]="("+t.regex+")",o[n]="$";for(var i=n+1,r=n+e.length;i<r;i++)a[i]="",o[i]="$";o=o.join(""),s.push({index:n,apply:t.apply})}}),{regex:new RegExp("^"+a.join("")+"$"),map:t(s,"index")}},this.parse=function(t,e){if(!angular.isString(t))return t;e=h.DATETIME_FORMATS[e]||e,this.parsers[e]||(this.parsers[e]=this.createParser(e));var n=this.parsers[e],i=n.regex,r=n.map,o=t.match(i);if(o&&o.length){for(var s,a={year:1900,month:0,date:1,hours:0},l=1,c=o.length;l<c;l++){var u=r[l-1];u.apply&&u.apply.call(a,o[l])}return function(t,e,n){return 1===e&&28<n?29===n&&(t%4==0&&t%100!=0||t%400==0):3!==e&&5!==e&&8!==e&&10!==e||n<31}(a.year,a.month,a.date)&&(s=new Date(a.year,a.month,a.date,a.hours)),s}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(o,n){function s(t){return"static"===(function(t,e){return t.currentStyle?t.currentStyle[e]:n.getComputedStyle?n.getComputedStyle(t)[e]:t.style[e]}(t,"position")||"static")}return{position:function(t){var e=this.offset(t),n={top:0,left:0},i=function(t){for(var e=o[0],n=t.offsetParent||e;n&&n!==e&&s(n);)n=n.offsetParent;return n||e}(t[0]);i!=o[0]&&((n=this.offset(angular.element(i))).top+=i.clientTop-i.scrollTop,n.left+=i.clientLeft-i.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:e.top-n.top,left:e.left-n.left}},offset:function(t){var e=t[0].getBoundingClientRect();return{width:e.width||t.prop("offsetWidth"),height:e.height||t.prop("offsetHeight"),top:e.top+(n.pageYOffset||o[0].documentElement.scrollTop),left:e.left+(n.pageXOffset||o[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,i){var r,o,s,a,l=n.split("-"),c=l[0],u=l[1]||"center";r=i?this.offset(t):this.position(t),o=e.prop("offsetWidth"),s=e.prop("offsetHeight");var h={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},d={center:function(){return r.top+r.height/2-s/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(c){case"right":a={top:d[u](),left:h[c]()};break;case"left":a={top:d[u](),left:r.left-o};break;case"bottom":a={top:d[c](),left:h[u]()};break;default:a={top:r.top-s,left:h[u]()}}return a}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(n,i,t,r,e,o,s,a){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(t,e){l[t]=angular.isDefined(i[t])?e<8?r(i[t])(n.$parent):n.$parent.$eval(i[t]):a[t]}),angular.forEach(["minDate","maxDate"],function(e){i[e]?n.$parent.$watch(t(i[e]),function(t){l[e]=t?new Date(t):null,l.refreshView()}):l[e]=a[e]?new Date(a[e]):null}),n.datepickerMode=n.datepickerMode||a.datepickerMode,n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(i.initDate)?n.$parent.$eval(i.initDate):new Date,n.isActive=function(t){return 0===l.compare(t.date,l.activeDate)&&(n.activeDateId=t.uid,!0)},this.init=function(t){(c=t).$render=function(){l.render()}},this.render=function(){if(c.$modelValue){var t=new Date(c.$modelValue),e=!isNaN(t);e?this.activeDate=t:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),c.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=c.$modelValue?new Date(c.$modelValue):null;c.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=c.$modelValue?new Date(c.$modelValue):null;return{date:t,label:s(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date)}},this.isDisabled=function(t){return this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&0<this.compare(t,this.maxDate)||i.dateDisabled&&n.dateDisabled({date:t,mode:n.datepickerMode})},this.split=function(t,e){for(var n=[];0<t.length;)n.push(t.splice(0,e));return n},n.select=function(t){if(n.datepickerMode===l.minMode){var e=c.$modelValue?new Date(c.$modelValue):new Date(0,0,0,0,0,0,0);e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(e),c.$render()}else l.activeDate=t,n.datepickerMode=l.modes[l.modes.indexOf(n.datepickerMode)-1]},n.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),n=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,n,1),l.refreshView()},n.toggleMode=function(t){t=t||1,n.datepickerMode===l.maxMode&&1===t||n.datepickerMode===l.minMode&&-1===t||(n.datepickerMode=l.modes[l.modes.indexOf(n.datepickerMode)+t])},n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};function u(){e(function(){l.element[0].focus()},0,!1)}n.$on("datepicker.focus",u),n.keydown=function(t){var e=n.keys[t.which];if(e&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===e||"space"===e){if(l.isDisabled(l.activeDate))return;n.select(l.activeDate),u()}else!t.ctrlKey||"up"!==e&&"down"!==e?(l.handleKeyDown(e,t),l.refreshView()):(n.toggleMode("up"===e?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o)}}}).directive("daypicker",["dateFilter",function(f){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(h,t,e,d){function i(t,e){return 1!==e||t%4!=0||t%100==0&&t%400!=0?n[e]:29}h.showWeeks=d.showWeeks,d.step={months:1},d.element=t;var n=[31,28,31,30,31,30,31,31,30,31,30,31];d._refreshView=function(){var t=d.activeDate.getFullYear(),e=d.activeDate.getMonth(),n=new Date(t,e,1),i=d.startingDay-n.getDay(),r=0<i?7-i:-i,o=new Date(n);0<r&&o.setDate(1-r);for(var s=function(t,e){var n=new Array(e),i=new Date(t),r=0;for(i.setHours(12);r<e;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}(o,42),a=0;a<42;a++)s[a]=angular.extend(d.createDateObject(s[a],d.formatDay),{secondary:s[a].getMonth()!==e,uid:h.uniqueId+"-"+a});h.labels=new Array(7);for(var l=0;l<7;l++)h.labels[l]={abbr:f(s[l].date,d.formatDayHeader),full:f(s[l].date,"EEEE")};if(h.title=f(d.activeDate,d.formatDayTitle),h.rows=d.split(s,7),h.showWeeks){h.weekNumbers=[];for(var c=function(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}(h.rows[0][0].date),u=h.rows.length;h.weekNumbers.push(c++)<u;);}},d.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},d.handleKeyDown=function(t){var e=d.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=d.activeDate.getMonth()+("pageup"===t?-1:1);d.activeDate.setMonth(n,1),e=Math.min(i(d.activeDate.getFullYear(),d.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=i(d.activeDate.getFullYear(),d.activeDate.getMonth()));d.activeDate.setDate(e)},d.refreshView()}}}]).directive("monthpicker",["dateFilter",function(o){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(i,t,e,r){r.step={years:1},r.element=t,r._refreshView=function(){for(var t=new Array(12),e=r.activeDate.getFullYear(),n=0;n<12;n++)t[n]=angular.extend(r.createDateObject(new Date(e,n,1),r.formatMonth),{uid:i.uniqueId+"-"+n});i.title=o(r.activeDate,r.formatMonthTitle),i.rows=r.split(t,3)},r.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},r.handleKeyDown=function(t){var e=r.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=r.activeDate.getFullYear()+("pageup"===t?-1:1);r.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);r.activeDate.setMonth(e)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(i,t,e,r){function o(t){return parseInt((t-1)/s,10)*s+1}var s=r.yearRange;r.step={years:s},r.element=t,r._refreshView=function(){for(var t=new Array(s),e=0,n=o(r.activeDate.getFullYear());e<s;e++)t[e]=angular.extend(r.createDateObject(new Date(n+e,0,1),r.formatYear),{uid:i.uniqueId+"-"+e});i.title=[t[0].label,t[s-1].label].join(" - "),i.rows=r.split(t,5)},r.compare=function(t,e){return t.getFullYear()-e.getFullYear()},r.handleKeyDown=function(t){var e=r.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=5:"right"===t?e+=1:"down"===t?e+=5:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*r.step.years:"home"===t?e=o(r.activeDate.getFullYear()):"end"===t&&(e=o(r.activeDate.getFullYear())+s-1),r.activeDate.setFullYear(e)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(p,g,m,v,y,b,w){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(n,e,t,i){function r(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function o(t){if(!t)return i.$setValidity("date",!0),null;if(angular.isDate(t)&&!isNaN(t))return i.$setValidity("date",!0),t;if(angular.isString(t)){var e=b.parse(t,s)||new Date(t);return isNaN(e)?void i.$setValidity("date",!1):(i.$setValidity("date",!0),e)}i.$setValidity("date",!1)}var s,a=angular.isDefined(t.closeOnDateSelection)?n.$parent.$eval(t.closeOnDateSelection):w.closeOnDateSelection,l=angular.isDefined(t.datepickerAppendToBody)?n.$parent.$eval(t.datepickerAppendToBody):w.appendToBody;n.showButtonBar=angular.isDefined(t.showButtonBar)?n.$parent.$eval(t.showButtonBar):w.showButtonBar,n.getText=function(t){return n[t+"Text"]||w[t+"Text"]},t.$observe("datepickerPopup",function(t){s=t||w.datepickerPopup,i.$render()});var c=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");c.attr({"ng-model":"date","ng-change":"dateSelection()"});var u=angular.element(c.children()[0]);t.datepickerOptions&&angular.forEach(n.$parent.$eval(t.datepickerOptions),function(t,e){u.attr(r(e),t)}),angular.forEach(["minDate","maxDate"],function(e){t[e]&&(n.$parent.$watch(g(t[e]),function(t){n[e]=t}),u.attr(r(e),e))}),t.dateDisabled&&u.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),i.$parsers.unshift(o),n.dateSelection=function(t){angular.isDefined(t)&&(n.date=t),i.$setViewValue(n.date),i.$render(),a&&(n.isOpen=!1,e[0].focus())},e.bind("input change keyup",function(){n.$apply(function(){n.date=i.$modelValue})}),i.$render=function(){var t=i.$viewValue?y(i.$viewValue,s):"";e.val(t),n.date=o(i.$modelValue)};function h(t){n.isOpen&&t.target!==e[0]&&n.$apply(function(){n.isOpen=!1})}function d(t){n.keydown(t)}e.bind("keydown",d),n.keydown=function(t){27===t.which?(t.preventDefault(),t.stopPropagation(),n.close()):40!==t.which||n.isOpen||(n.isOpen=!0)},n.$watch("isOpen",function(t){t?(n.$broadcast("datepicker.focus"),n.position=l?v.offset(e):v.position(e),n.position.top=n.position.top+e.prop("offsetHeight"),m.bind("click",h)):m.unbind("click",h)}),n.select=function(t){if("today"===t){var e=new Date;angular.isDate(i.$modelValue)?(t=new Date(i.$modelValue)).setFullYear(e.getFullYear(),e.getMonth(),e.getDate()):t=new Date(e.setHours(0,0,0,0))}n.dateSelection(t)},n.close=function(){n.isOpen=!1,e[0].focus()};var f=p(c)(n);l?m.find("body").append(f):e.after(f),n.$on("$destroy",function(){f.remove(),e.unbind("keydown",d),m.unbind("click",h)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var n=null;this.open=function(t){n||(e.bind("click",i),e.bind("keydown",r)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",i),e.unbind("keydown",r))};var i=function(t){t&&t.isDefaultPrevented()||n.$apply(function(){n.isOpen=!1})},r=function(t){27===t.which&&(n.focusToggleElement(),i())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(n,e,i,t,r,o){var s,a=this,l=n.$new(),c=t.openClass,u=angular.noop,h=e.onToggle?i(e.onToggle):angular.noop;this.init=function(t){a.$element=t,e.isOpen&&(s=i(e.isOpen),u=s.assign,n.$watch(s,function(t){l.isOpen=!!t}))},this.toggle=function(t){return l.isOpen=arguments.length?!!t:!l.isOpen},this.isOpen=function(){return l.isOpen},l.focusToggleElement=function(){a.toggleElement&&a.toggleElement[0].focus()},l.$watch("isOpen",function(t,e){o[t?"addClass":"removeClass"](a.$element,c),t?(l.focusToggleElement(),r.open(l)):r.close(l),u(n,t),angular.isDefined(t)&&t!==e&&h(n,{open:!!t})}),n.$on("$locationChangeSuccess",function(){l.isOpen=!1}),n.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(t,e,n,i){i.init(e)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(e,n,i,r){if(r){r.toggleElement=n;function t(t){t.preventDefault(),n.hasClass("disabled")||i.disabled||e.$apply(function(){r.toggle()})}n.bind("click",t),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(t){n.attr("aria-expanded",!!t)}),e.$on("$destroy",function(){n.unbind("click",t)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var i=[];return{add:function(t,e){i.push({key:t,value:e})},get:function(t){for(var e=0;e<i.length;e++)if(t==i[e].key)return i[e]},keys:function(){for(var t=[],e=0;e<i.length;e++)t.push(i[e].key);return t},top:function(){return i[i.length-1]},remove:function(t){for(var e=-1,n=0;n<i.length;n++)if(t==i[n].key){e=n;break}return i.splice(e,1)[0]},removeTop:function(){return i.splice(i.length-1,1)[0]},length:function(){return i.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t){t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(i,r){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(t,e,n){e.addClass(n.windowClass||""),t.size=n.size,r(function(){t.animate=!0,e[0].focus()}),t.close=function(t){var e=i.getTop();e&&e.value.backdrop&&"static"!=e.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),i.dismiss(e.key,"backdrop click"))}}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,l,s,c,u,t){function h(){for(var t=-1,e=g.keys(),n=0;n<e.length;n++)g.get(e[n]).value.backdrop&&(t=n);return t}function i(t){var e=s.find("body").eq(0),n=g.get(t).value;g.remove(t),r(n.modalDomEl,n.modalScope,300,function(){n.modalScope.$destroy(),e.toggleClass(p,0<g.length()),function(){if(d&&-1==h()){var t=f;r(d,f,150,function(){t.$destroy(),t=null}),f=d=void 0}}()})}function r(t,e,n,i){function r(){r.done||(r.done=!0,t.remove(),i&&i())}e.animate=!1;var o=a.transitionEndEventName;if(o){var s=l(r,n);t.bind(o,function(){l.cancel(s),r(),e.$apply()})}else l(r,0)}var d,f,p="modal-open",g=t.createNew(),n={};return u.$watch(h,function(t){f&&(f.index=t)}),s.bind("keydown",function(t){var e;27!==t.which||(e=g.top())&&e.value.keyboard&&(t.preventDefault(),u.$apply(function(){n.dismiss(e.key,"escape key press")}))}),n.open=function(t,e){g.add(t,{deferred:e.deferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var n=s.find("body").eq(0),i=h();0<=i&&!d&&((f=u.$new(!0)).index=i,d=c("<div modal-backdrop></div>")(f),n.append(d));var r=angular.element("<div modal-window></div>");r.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:g.length()-1,animate:"animate"}).html(e.content);var o=c(r)(e.scope);g.top().value.modalDomEl=o,n.append(o),n.addClass(p)},n.close=function(t,e){var n=g.get(t).value;n&&(n.deferred.resolve(e),i(t))},n.dismiss=function(t,e){var n=g.get(t).value;n&&(n.deferred.reject(e),i(t))},n.dismissAll=function(t){for(var e=this.getTop();e;)this.dismiss(e.key,t),e=this.getTop()},n.getTop=function(){return g.top()},n}]).provider("$modal",function(){var d={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(i,a,r,l,c,u,h){var t={};return t.open=function(e){var o=r.defer(),t=r.defer(),s={result:o.promise,opened:t.promise,close:function(t){h.close(s,t)},dismiss:function(t){h.dismiss(s,t)}};if((e=angular.extend({},d.options,e)).resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var n=r.all([function(t){return t.template?r.when(t.template):l.get(t.templateUrl,{cache:c}).then(function(t){return t.data})}(e)].concat(function(t){var e=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&e.push(r.when(i.invoke(t)))}),e}(e.resolve)));return n.then(function(n){var t=(e.scope||a).$new();t.$close=s.close,t.$dismiss=s.dismiss;var i={},r=1;e.controller&&(i.$scope=t,i.$modalInstance=s,angular.forEach(e.resolve,function(t,e){i[e]=n[r++]}),u(e.controller,i)),h.open(s,{scope:t,deferred:o,content:n[0],backdrop:e.backdrop,keyboard:e.keyboard,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){o.reject(t)}),n.then(function(){t.resolve(!0)},function(){t.reject(!1)}),s},t}]};return d}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(n,i,r){var o=this,s={$setViewValue:angular.noop},e=i.numPages?r(i.numPages).assign:angular.noop;this.init=function(t,e){s=t,this.config=e,s.$render=function(){o.render()},i.itemsPerPage?n.$parent.$watch(r(i.itemsPerPage),function(t){o.itemsPerPage=parseInt(t,10),n.totalPages=o.calculateTotalPages()}):this.itemsPerPage=e.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){n.page=parseInt(s.$viewValue,10)||1},n.selectPage=function(t){n.page!==t&&0<t&&t<=n.totalPages&&(s.$setViewValue(t),s.$render())},n.getText=function(t){return n[t+"Text"]||o.config[t+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},n.$watch("totalItems",function(){n.totalPages=o.calculateTotalPages()}),n.$watch("totalPages",function(t){e(n.$parent,t),n.page>t?n.selectPage(t):s.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,l){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(t,e,n,i){function u(t,e,n){return{number:t,text:e,active:n}}var r=i[0],o=i[1];if(o){var h=angular.isDefined(n.maxSize)?t.$parent.$eval(n.maxSize):l.maxSize,d=angular.isDefined(n.rotate)?t.$parent.$eval(n.rotate):l.rotate;t.boundaryLinks=angular.isDefined(n.boundaryLinks)?t.$parent.$eval(n.boundaryLinks):l.boundaryLinks,t.directionLinks=angular.isDefined(n.directionLinks)?t.$parent.$eval(n.directionLinks):l.directionLinks,r.init(o,l),n.maxSize&&t.$parent.$watch(a(n.maxSize),function(t){h=parseInt(t,10),r.render()});var s=r.render;r.render=function(){s(),0<t.page&&t.page<=t.totalPages&&(t.pages=function(t,e){var n=[],i=1,r=e,o=angular.isDefined(h)&&h<e;o&&(d?e<(r=(i=Math.max(t-Math.floor(h/2),1))+h-1)&&(i=(r=e)-h+1):(i=(Math.ceil(t/h)-1)*h+1,r=Math.min(i+h-1,e)));for(var s=i;s<=r;s++){var a=u(s,s,s===t);n.push(a)}if(o&&!d){if(1<i){var l=u(i-1,"...",!1);n.unshift(l)}if(r<e){var c=u(r+1,"...",!1);n.push(c)}}return n}(t.page,t.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(s){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,e,n,i){var r=i[0],o=i[1];o&&(t.align=angular.isDefined(n.align)?t.$parent.$eval(n.align):s.align,r.init(o,s))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){var a={placement:"top",animation:!0,popupDelay:0},l={mouseenter:"mouseleave",click:"click",focus:"blur"},c={};this.options=function(t){angular.extend(c,t)},this.setTriggers=function(t){angular.extend(l,t)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(t,o,C,k,S,D,s){return function(b,w,n){function x(t){var e=t||_.trigger||n;return{show:e,hide:l[e]||e}}var _=angular.extend({},a,c),t=function(t){return t.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()})}(b),e=s.startSymbol(),i=s.endSymbol(),r="<div "+t+'-popup title="'+e+"tt_title"+i+'" content="'+e+"tt_content"+i+'" placement="'+e+"tt_placement"+i+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var y=o(r);return function(n,e,t){function i(){n.tt_isOpen?o():r()}function r(){p&&!n.$eval(t[w+"Enable"])||(n.tt_popupDelay?h||(h=C(s,n.tt_popupDelay,!1)).then(function(t){t()}):s()())}function o(){n.$apply(function(){a()})}function s(){return h=null,u&&(C.cancel(u),u=null),n.tt_content?(c&&l(),c=y(n,function(){}),n.$digest(),c.css({top:0,left:0,display:"block"}),d?S.find("body").append(c):e.after(c),g(),n.tt_isOpen=!0,n.$digest(),g):angular.noop}function a(){n.tt_isOpen=!1,C.cancel(h),h=null,n.tt_animation?u=u||C(l,500):l()}function l(){u=null,c&&(c.remove(),c=null)}var c,u,h,d=!!angular.isDefined(_.appendToBody)&&_.appendToBody,f=x(void 0),p=angular.isDefined(t[w+"Enable"]),g=function(){var t=D.positionElements(e,c,n.tt_placement,d);t.top+="px",t.left+="px",c.css(t)};n.tt_isOpen=!1,t.$observe(b,function(t){!(n.tt_content=t)&&n.tt_isOpen&&a()}),t.$observe(w+"Title",function(t){n.tt_title=t}),t.$observe(w+"Placement",function(t){n.tt_placement=angular.isDefined(t)?t:_.placement}),t.$observe(w+"PopupDelay",function(t){var e=parseInt(t,10);n.tt_popupDelay=isNaN(e)?_.popupDelay:e});function m(){e.unbind(f.show,r),e.unbind(f.hide,o)}t.$observe(w+"Trigger",function(t){m(),(f=x(t)).show===f.hide?e.bind(f.show,i):(e.bind(f.show,r),e.bind(f.hide,o))});var v=n.$eval(t[w+"Animation"]);n.tt_animation=angular.isDefined(v)?!!v:_.animation,t.$observe(w+"AppendToBody",function(t){d=angular.isDefined(t)?k(t)(n):d}),d&&n.$on("$locationChangeSuccess",function(){n.tt_isOpen&&a()}),n.$on("$destroy",function(){C.cancel(u),C.cancel(h),m(),l()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(n,t,e){var i=this,r=angular.isDefined(t.animate)?n.$parent.$eval(t.animate):e.animate;this.bars=[],n.max=angular.isDefined(t.max)?n.$parent.$eval(t.max):e.max,this.addBar=function(e,t){r||t.css({transition:"none"}),this.bars.push(e),e.$watch("value",function(t){e.percent=+(100*t/n.max).toFixed(2)}),e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(n,i,r){var o={$setViewValue:angular.noop};this.init=function(t){(o=t).$render=this.render,this.stateOn=angular.isDefined(i.stateOn)?n.$parent.$eval(i.stateOn):r.stateOn,this.stateOff=angular.isDefined(i.stateOff)?n.$parent.$eval(i.stateOff):r.stateOff;var e=angular.isDefined(i.ratingStates)?n.$parent.$eval(i.ratingStates):new Array(angular.isDefined(i.max)?n.$parent.$eval(i.max):r.max);n.range=this.buildTemplateObjects(e)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;e<n;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},n.rate=function(t){!n.readonly&&0<=t&&t<=n.range.length&&(o.$setViewValue(t),o.$render())},n.enter=function(t){n.readonly||(n.value=t),n.onHover({value:t})},n.reset=function(){n.value=o.$viewValue,n.onLeave()},n.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),n.rate(n.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){n.value=o.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var i=this,r=i.tabs=t.tabs=[];i.select=function(e){angular.forEach(r,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},i.addTab=function(t){r.push(t),1===r.length?t.active=!0:t.active&&i.select(t)},i.removeTab=function(t){var e=r.indexOf(t);if(t.active&&1<r.length){var n=e==r.length-1?e-1:e+1;i.select(r[n])}r.splice(e,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=!!angular.isDefined(n.vertical)&&t.$parent.$eval(n.vertical),t.justified=!!angular.isDefined(n.justified)&&t.$parent.$eval(n.justified)}}}).directive("tab",["$parse",function(o){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,e,r){return function(e,t,n,i){e.$watch("active",function(t){t&&i.select(e)}),e.disabled=!1,n.disabled&&e.$parent.$watch(o(n.disabled),function(t){e.disabled=!!t}),e.select=function(){e.disabled||(e.active=!0)},i.addTab(e),e.$on("$destroy",function(){i.removeTab(e)}),e.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){return{restrict:"A",require:"^tabset",link:function(t,e,n){var i=t.$eval(n.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){!function(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}(t)?e.append(t):i.headingElement=t})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(r,o,t,e,n,s){function i(){var t=parseInt(r.hours,10);return(r.showMeridian?0<t&&t<13:0<=t&&t<24)?(r.showMeridian&&(12===t&&(t=0),r.meridian===g[1]&&(t+=12)),t):void 0}function a(){var t=parseInt(r.minutes,10);return 0<=t&&t<60?t:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t}function c(t){u(),p.$setViewValue(new Date(f)),h(t)}function u(){p.$setValidity("time",!0),r.invalidHours=!1,r.invalidMinutes=!1}function h(t){var e=f.getHours(),n=f.getMinutes();r.showMeridian&&(e=0===e||12===e?12:e%12),r.hours="h"===t?e:l(e),r.minutes="m"===t?n:l(n),r.meridian=f.getHours()<12?g[0]:g[1]}function d(t){var e=new Date(f.getTime()+6e4*t);f.setHours(e.getHours(),e.getMinutes()),c()}var f=new Date,p={$setViewValue:angular.noop},g=angular.isDefined(o.meridians)?r.$parent.$eval(o.meridians):s.meridians||n.DATETIME_FORMATS.AMPMS;this.init=function(t,e){(p=t).$render=this.render;var n=e.eq(0),i=e.eq(1);(angular.isDefined(o.mousewheel)?r.$parent.$eval(o.mousewheel):s.mousewheel)&&this.setupMousewheelEvents(n,i),r.readonlyInput=angular.isDefined(o.readonlyInput)?r.$parent.$eval(o.readonlyInput):s.readonlyInput,this.setupInputEvents(n,i)};var m=s.hourStep;o.hourStep&&r.$parent.$watch(t(o.hourStep),function(t){m=parseInt(t,10)});var v=s.minuteStep;o.minuteStep&&r.$parent.$watch(t(o.minuteStep),function(t){v=parseInt(t,10)}),r.showMeridian=s.showMeridian,o.showMeridian&&r.$parent.$watch(t(o.showMeridian),function(t){if(r.showMeridian=!!t,p.$error.time){var e=i(),n=a();angular.isDefined(e)&&angular.isDefined(n)&&(f.setHours(e),c())}else h()}),this.setupMousewheelEvents=function(t,e){function n(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||0<e}t.bind("mousewheel wheel",function(t){r.$apply(n(t)?r.incrementHours():r.decrementHours()),t.preventDefault()}),e.bind("mousewheel wheel",function(t){r.$apply(n(t)?r.incrementMinutes():r.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,e){if(r.readonlyInput)return r.updateHours=angular.noop,void(r.updateMinutes=angular.noop);function n(t,e){p.$setViewValue(null),p.$setValidity("time",!1),angular.isDefined(t)&&(r.invalidHours=t),angular.isDefined(e)&&(r.invalidMinutes=e)}r.updateHours=function(){var t=i();angular.isDefined(t)?(f.setHours(t),c("h")):n(!0)},t.bind("blur",function(){!r.invalidHours&&r.hours<10&&r.$apply(function(){r.hours=l(r.hours)})}),r.updateMinutes=function(){var t=a();angular.isDefined(t)?(f.setMinutes(t),c("m")):n(void 0,!0)},e.bind("blur",function(){!r.invalidMinutes&&r.minutes<10&&r.$apply(function(){r.minutes=l(r.minutes)})})},this.render=function(){var t=p.$modelValue?new Date(p.$modelValue):null;isNaN(t)?(p.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(f=t),u(),h())},r.incrementHours=function(){d(60*m)},r.decrementHours=function(){d(60*-m)},r.incrementMinutes=function(){d(v)},r.decrementMinutes=function(){d(-v)},r.toggleMeridian=function(){d(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o,e.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(n){var i=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(t){var e=t.match(i);if(!e)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+t+'".');return{itemName:e[3],source:n(e[4]),viewMapper:n(e[2]||e[1]),modelMapper:n(e[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(C,k,S,D,E,T,M){var $=[9,13,27,38,40];return{require:"ngModel",link:function(o,s,t,a){var l,e=o.$eval(t.typeaheadMinLength)||1,n=o.$eval(t.typeaheadWaitMs)||0,i=!1!==o.$eval(t.typeaheadEditable),c=k(t.typeaheadLoading).assign||angular.noop,r=k(t.typeaheadOnSelect),u=t.typeaheadInputFormatter?k(t.typeaheadInputFormatter):void 0,h=!!t.typeaheadAppendToBody&&o.$eval(t.typeaheadAppendToBody),d=k(t.ngModel).assign,f=M.parse(t.typeahead),p=o.$new();o.$on("$destroy",function(){p.$destroy()});var g="typeahead-"+p.$id+"-"+Math.floor(1e4*Math.random());s.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":g});var m=angular.element("<div typeahead-popup></div>");m.attr({id:g,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(t.typeaheadTemplateUrl)&&m.attr("template-url",t.typeaheadTemplateUrl);function v(){p.matches=[],p.activeIdx=-1,s.attr("aria-expanded",!1)}function y(t){return g+"-option-"+t}p.$watch("activeIdx",function(t){t<0?s.removeAttr("aria-activedescendant"):s.attr("aria-activedescendant",y(t))});function b(i){var r={$viewValue:i};c(o,!0),S.when(f.source(o,r)).then(function(t){var e=i===a.$viewValue;if(e&&l)if(0<t.length){p.activeIdx=0;for(var n=p.matches.length=0;n<t.length;n++)r[f.itemName]=t[n],p.matches.push({id:y(n),label:f.viewMapper(p,r),model:t[n]});p.query=i,p.position=h?T.offset(s):T.position(s),p.position.top=p.position.top+s.prop("offsetHeight"),s.attr("aria-expanded",!0)}else v();e&&c(o,!1)},function(){v(),c(o,!1)})}var w;v(),p.query=void 0,a.$parsers.unshift(function(t){return l=!0,t&&t.length>=e?0<n?(w&&D.cancel(w),w=D(function(){b(t)},n)):b(t):(c(o,!1),v()),i?t:t?void a.$setValidity("editable",!1):(a.$setValidity("editable",!0),t)}),a.$formatters.push(function(t){var e,n={};return u?(n.$model=t,u(o,n)):(n[f.itemName]=t,e=f.viewMapper(o,n),n[f.itemName]=void 0,e!==f.viewMapper(o,n)?e:t)}),p.select=function(t){var e,n,i={};i[f.itemName]=n=p.matches[t].model,e=f.modelMapper(o,i),d(o,e),a.$setValidity("editable",!0),r(o,{$item:n,$model:e,$label:f.viewMapper(o,i)}),v(),D(function(){s[0].focus()},0,!1)},s.bind("keydown",function(t){0!==p.matches.length&&-1!==$.indexOf(t.which)&&(t.preventDefault(),40===t.which?(p.activeIdx=(p.activeIdx+1)%p.matches.length,p.$digest()):38===t.which?(p.activeIdx=(p.activeIdx?p.activeIdx:p.matches.length)-1,p.$digest()):13===t.which||9===t.which?p.$apply(function(){p.select(p.activeIdx)}):27===t.which&&(t.stopPropagation(),v(),p.$digest()))}),s.bind("blur",function(){l=!1});function x(t){s[0]!==t.target&&(v(),p.$digest())}E.bind("click",x),o.$on("$destroy",function(){E.unbind("click",x)});var _=C(m)(p);h?E.find("body").append(_):s.after(_)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return 0<e.matches.length},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(r,o,s,a){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,n,t){var i=a(t.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";r.get(i,{cache:o}).success(function(t){n.replaceWith(s(t.trim())(e))})}}}]).filter("typeaheadHighlight",function(){return function(t,e){return e?(""+t).replace(new RegExp(function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(e),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="{\'alert-{{type || \'warning\'}}\': true, \'alert-dismissable\': closeable}" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n <li ng-transclude></li>\n <li ng-if="showButtonBar" style="padding:10px 9px 2px">\n   <span class="btn-group">\n      <button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n   </span>\n   <button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'\n<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n   <tr class="text-center">\n      <td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n     <td>&nbsp;</td>\n     <td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n     <td ng-show="showMeridian"></td>\n    </tr>\n   <tr>\n      <td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n      </td>\n     <td>:</td>\n      <td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n     </td>\n     <td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n   </tr>\n   <tr class="text-center">\n      <td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n     <td>&nbsp;</td>\n     <td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n     <td ng-show="showMeridian"></td>\n    </tr>\n </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>')}]),function(t){function e(s){var t=s.module("FBAngular",[]);return t.factory("Fullscreen",["$document","$rootScope",function(t,e){var n=t[0],i="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element&&Element.ALLOW_KEYBOARD_INPUT,r=e.$new();t.on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){r.$emit("FBFullscreen.change",o.isEnabled())});var o={$on:s.bind(r,r.$on),all:function(){o.enable(n.documentElement)},enable:function(t){t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?/Version\/[\d]{1,2}(\.[\d]{1,2}){1}(\.(\d){1,2}){0,1} Safari/.test(navigator.userAgent)?t.webkitRequestFullscreen():t.webkitRequestFullscreen(i):t.msRequestFullscreen&&t.msRequestFullscreen()},cancel:function(){n.cancelFullScreen?n.cancelFullScreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen?n.webkitExitFullscreen():n.msExitFullscreen&&n.msExitFullscreen()},isEnabled:function(){return!!(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement)},toggleAll:function(){o.isEnabled()?o.cancel():o.all()},isSupported:function(){var t=n.documentElement;return!!(t.requestFullScreen||t.mozRequestFullScreen||t.webkitRequestFullscreen||t.msRequestFullscreen)}};return o}]),t.directive("fullscreen",["Fullscreen",function(o){return{link:function(n,i,r){if(r.fullscreen){n.$watch(r.fullscreen,function(t){var e=o.isEnabled();t&&!e?(o.enable(i[0]),i.addClass("isInFullScreen")):!t&&e&&(o.cancel(),i.removeClass("isInFullScreen"))});var t=o.$on("FBFullscreen.change",function(t,e){e||n.$evalAsync(function(){n[r.fullscreen]=!1,i.removeClass("isInFullScreen")})});n.$on("$destroy",function(){t()})}else{if(void 0!==r.onlyWatchedProperty)return;i.on("click",function(t){o.enable(i[0])})}}}}]),t}"function"==typeof define&&define.amd?define("FBAngular",["angular"],function(t){return e(t)}):e(t.angular)}(window);var webStorageModule=angular.module("webStorageModule",[]);webStorageModule.constant("defaultSettings",{prefix:"",order:["local","session","memory"],errorName:"webStorage.notification.error"}),webStorageModule.factory("webStorage",["$rootScope","defaultSettings",function(e,t){"use strict";var n=t.errorName,i=function(){try{return localStorage.setItem(o+"angular.webStorage.test",!0),localStorage.removeItem(o+"angular.webStorage.test"),!0}catch(t){return!1}}(),r=function(){try{return sessionStorage.setItem(o+"angular.webStorage.test",!0),sessionStorage.removeItem(o+"angular.webStorage.test"),!0}catch(t){return!1}}(),a=t.order,o=t.prefix,s={},l={isSupported:i||r,local:{isSupported:i,add:function(t,e){if(i){try{localStorage.setItem(o+t,JSON.stringify(e))}catch(t){return d(t)}return!0}return!1},get:c,has:function(t){return null!==c(t)},remove:function(t){if(i){try{localStorage.removeItem(o+t)}catch(t){return d(t)}return!0}return!1},clear:function(){if(!i)return!1;if(o){var t=o.length;try{for(var e in localStorage)e.substr(0,t)===o&&localStorage.removeItem(e)}catch(t){return d(t)}return!0}try{localStorage.clear()}catch(t){return d(t)}return!0}},session:{isSupported:r,add:function(t,e){if(r){try{sessionStorage.setItem(o+t,JSON.stringify(e))}catch(t){return d(t)}return!0}return!1},get:u,has:function(t){return null!==u(t)},remove:function(t){if(r){try{sessionStorage.removeItem(o+t)}catch(t){return d(t)}return!0}return!1},clear:function(){if(!r)return!1;if(o){var t=o.length;try{for(var e in sessionStorage)e.substr(0,t)===o&&sessionStorage.removeItem(e)}catch(t){return d(t)}return!0}try{sessionStorage.clear()}catch(t){return d(t)}return!0}},memory:{isSupported:!0,add:function(t,e){return s[t]=e,!0},get:h,has:function(t){return null!==h(t)},remove:function(t){return delete s[t],!0},clear:function(){return s={},!0}}};function c(t){if(i)try{var e=localStorage.getItem(o+t);return e&&JSON.parse(e)}catch(t){return d(t),null}return null}function u(t){if(r)try{var e=sessionStorage.getItem(o+t);return e&&JSON.parse(e)}catch(t){return d(t),null}return null}function h(t){return t in s?s[t]:null}function d(t){return e.$broadcast(n,t.title+": "+t.message),!1}return l.add=function(t,e,n){n=void 0!==n&&!!n;for(var i=!1,r=a.length,o=0;o<r;++o){var s=l[a[o]];if(s.isSupported&&(i=s.add(t,e)||i,!n))return i}return i},l.get=function(t,e){e=void 0===e||!!e;for(var n=a.length,i=0;i<n;++i){var r=l[a[i]];if(r.isSupported){var o=r.get(t);if(!e||null!==o)return o}}return null},l.has=function(t,e){return null!==l.get(t,e)},l.remove=function(t,e){e=void 0===e||!!e;for(var n=!1,i=a.length,r=0;r<i;++r){var o=l[a[r]];if(o.isSupported&&(n=o.remove(t)||n,!e))return n}return n},l.clear=function(t){t=void 0===t||!!t;for(var e=!1,n=a.length,i=0;i<n;++i){var r=l[a[i]];if(r.isSupported&&(e=r.clear()||e,!t))return e}return e},l.errorName=function(t){var e=n;if(void 0!==t){if("string"!=typeof t)return!1;n=t}return e},l.order=function(t){var e=angular.copy(a);if(void 0!==t)for(var n in a=[],t)/^(local|session|memory)$/.test(t[n])&&a.push(t[n]);return e},l.prefix=function(t){var e=o;if(void 0!==t){if("string"!=typeof t)return!1;o=t}return e},l}]);try{window.localStorage||(window.localStorage={getItem:function(t){return t&&this.hasOwnProperty(t)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(t){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[t])},setItem:function(t,e){t&&(document.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(t){t&&this.hasOwnProperty(t)&&(document.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},window.localStorage.length=(document.cookie.match(/\=/g)||window.localStorage).length),window.sessionStorage||(window.sessionStorage={getItem:function(t){return t&&this.hasOwnProperty(t)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(t){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[t])},setItem:function(t,e){t&&(document.cookie=escape(t)+"="+escape(e)+"; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(t){t&&this.hasOwnProperty(t)&&(document.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},window.sessionStorage.length=(document.cookie.match(/\=/g)||window.sessionStorage).length)}catch(t){}if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(),function(i){"use strict";i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;i(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){return i(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(o){"use strict";function s(t){o(t).on("click",e,this.close)}var e='[data-dismiss="alert"]';s.VERSION="3.3.4",s.TRANSITION_DURATION=150,s.prototype.close=function(t){function e(){r.detach().trigger("closed.bs.alert").remove()}var n=o(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var r=o(i);t&&t.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(t=o.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),o.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(s.TRANSITION_DURATION):e())};var t=o.fn.alert;o.fn.alert=function(n){return this.each(function(){var t=o(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new s(this)),"string"==typeof n&&e[n].call(t)})},o.fn.alert.Constructor=s,o.fn.alert.noConflict=function(){return o.fn.alert=t,this},o(document).on("click.bs.alert.data-api",e,s.prototype.close)}(jQuery),function(o){"use strict";function n(i){return this.each(function(){var t=o(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new r(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var r=function(t,e){this.$element=o(t),this.options=o.extend({},r.DEFAULTS,e),this.isLoading=!1};r.VERSION="3.3.4",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(o.proxy(function(){n[i](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e))},this),0)},r.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var t=o.fn.button;o.fn.button=n,o.fn.button.Constructor=r,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=o(t.target);e.hasClass("btn")||(e=e.closest(".btn")),n.call(e,"toggle"),t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){o(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(h){"use strict";function s(r){return this.each(function(){var t=h(this),e=t.data("bs.carousel"),n=h.extend({},d.DEFAULTS,t.data(),"object"==typeof r&&r),i="string"==typeof r?r:n.slide;e||t.data("bs.carousel",e=new d(this,n)),"number"==typeof r?e.to(r):i?e[i]():n.interval&&e.pause().cycle()})}function d(t,e){this.$element=h(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",h.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",h.proxy(this.pause,this)).on("mouseleave.bs.carousel",h.proxy(this.cycle,this))}d.VERSION="3.3.4",d.TRANSITION_DURATION=600,d.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},d.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},d.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},d.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},d.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},d.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||t<0?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},d.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},d.prototype.next=function(){return this.sliding?void 0:this.slide("next")},d.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},d.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),r=this.interval,o="next"==t?"left":"right",s=this;if(i.hasClass("active"))return this.sliding=!1;var a=i[0],l=h.Event("slide.bs.carousel",{relatedTarget:a,direction:o});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=h(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=h.Event("slid.bs.carousel",{relatedTarget:a,direction:o});return h.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(o),i.addClass(o),n.one("bsTransitionEnd",function(){i.removeClass([t,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),s.sliding=!1,setTimeout(function(){s.$element.trigger(u)},0)}).emulateTransitionEnd(d.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var t=h.fn.carousel;h.fn.carousel=s,h.fn.carousel.Constructor=d,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this};function e(t){var e,n=h(this),i=h(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=h.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),s.call(i,r),o&&i.data("bs.carousel").to(o),t.preventDefault()}}h(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var t=h(this);s.call(t,t.data())})})}(jQuery),function(s){"use strict";function r(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return s(n)}function a(i){return this.each(function(){var t=s(this),e=t.data("bs.collapse"),n=s.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=s(t),this.options=s.extend({},l.DEFAULTS,e),this.$trigger=s('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.4",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&((t=e.data("bs.collapse"))&&t.transitioning))){var n=s.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(a.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!s.support.transition)return r.call(this);var o=s.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",s.proxy(r,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][o])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=s.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return s.support.transition?void this.$element[e](0).one("bsTransitionEnd",s.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION):n.call(this)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return s(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(s.proxy(function(t,e){var n=s(e);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=s.fn.collapse;s.fn.collapse=a,s.fn.collapse.Constructor=l,s.fn.collapse.noConflict=function(){return s.fn.collapse=t,this},s(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=s(this);e.attr("data-target")||t.preventDefault();var n=r(e),i=n.data("bs.collapse")?"toggle":e.data();a.call(n,i)})}(jQuery),function(a){"use strict";function o(i){i&&3===i.which||(a(".dropdown-backdrop").remove(),a(c).each(function(){var t=a(this),e=l(t),n={relatedTarget:this};e.hasClass("open")&&(e.trigger(i=a.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",n)))}))}function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&a(e);return n&&n.length?n:t.parent()}function i(t){a(t).on("click.bs.dropdown",this.toggle)}var c='[data-toggle="dropdown"]';i.VERSION="3.3.4",i.prototype.toggle=function(t){var e=a(this);if(!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(o(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",o);var r={relatedTarget:this};if(n.trigger(t=a.Event("show.bs.dropdown",r)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=a(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(c).trigger("focus"),e.trigger("click");var r=" li:not(.disabled):visible a",o=n.find('[role="menu"]'+r+', [role="listbox"]'+r);if(o.length){var s=o.index(t.target);38==t.which&&0<s&&s--,40==t.which&&s<o.length-1&&s++,~s||(s=0),o.eq(s).trigger("focus")}}}};var t=a.fn.dropdown;a.fn.dropdown=function(n){return this.each(function(){var t=a(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})},a.fn.dropdown.Constructor=i,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=t,this},a(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",c,i.prototype.toggle).on("keydown.bs.dropdown.data-api",c,i.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',i.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',i.prototype.keydown)}(jQuery),function(o){"use strict";function s(i,r){return this.each(function(){var t=o(this),e=t.data("bs.modal"),n=o.extend({},a.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new a(this,n)),"string"==typeof i?e[i](r):n.show&&e.show(r)})}function a(t,e){this.options=e,this.$body=o(document.body),this.$element=o(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}a.VERSION="3.3.4",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},a.prototype.show=function(n){var i=this,t=o.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){o(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=o.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var e=o.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(a.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},a.prototype.hide=function(t){t&&t.preventDefault(),t=o.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=o.support.transition&&n;if(this.$backdrop=o('<div class="modal-backdrop '+n+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){e.removeBackdrop(),t&&t()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):r()}else t&&t()},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},a.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=o.fn.modal;o.fn.modal=s,o.fn.modal.Constructor=a,o.fn.modal.noConflict=function(){return o.fn.modal=t,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),n=e.attr("href"),i=o(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),s.call(i,r,this)})}(jQuery),function(m){"use strict";function v(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",t,e)}v.VERSION="3.3.4",v.TRANSITION_DURATION=150,v.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},v.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=m(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&m(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var o=i[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",a="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},v.prototype.getDefaults=function(){return v.DEFAULTS},v.prototype.getOptions=function(t){return(t=m.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},v.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&m.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},v.prototype.enter=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);return e&&e.$tip&&e.$tip.is(":visible")?void(e.hoverState="in"):(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())},v.prototype.leave=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide()},v.prototype.show=function(){var t=m.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=m.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,a=s.test(o);a&&(o=o.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(a){var h=o,d=this.options.container?m(this.options.container):this.$element.parent(),f=this.getPosition(d);o="bottom"==o&&l.bottom+u>f.bottom?"top":"top"==o&&l.top-u<f.top?"bottom":"right"==o&&l.right+c>f.width?"left":"left"==o&&l.left-c<f.left?"right":o,i.removeClass(h).addClass(o)}var p=this.getCalculatedOffset(o,l,c,u);this.applyPlacement(p,o);var g=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};m.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",g).emulateTransitionEnd(v.TRANSITION_DURATION):g()}},v.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top=t.top+o,t.left=t.left+s,m.offset.setOffset(n[0],m.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var a=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=r&&(t.top=t.top+r-l);var c=this.getViewportAdjustedDelta(e,t,a,l);c.left?t.left+=c.left:t.top+=c.top;var u=/top|bottom/.test(e),h=u?2*c.left-i+a:2*c.top-r+l,d=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(h,n[0][d],u)},v.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},v.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},v.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=m(this.$tip),r=m.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),m.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(v.TRANSITION_DURATION):e(),this.hoverState=null,this)},v.prototype.fixTitle=function(){var t=this.$element;!t.attr("title")&&"string"==typeof t.attr("data-original-title")||t.attr("data-original-title",t.attr("title")||"").attr("title","")},v.prototype.hasContent=function(){return this.getTitle()},v.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=m.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=n?{top:0,left:0}:t.offset(),o={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:m(window).width(),height:m(window).height()}:null;return m.extend({},i,o,s,r)},v.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},v.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var c=e.left-o,u=e.left+o+n;c<s.left?r.left=s.left-c:u>s.width&&(r.left=s.left+s.width-u)}return r},v.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},v.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},v.prototype.tip=function(){return this.$tip=this.$tip||m(this.options.template)},v.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},v.prototype.enable=function(){this.enabled=!0},v.prototype.disable=function(){this.enabled=!1},v.prototype.toggleEnabled=function(){this.enabled=!this.enabled},v.prototype.toggle=function(t){var e=this;t&&((e=m(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e))),e.tip().hasClass("in")?e.leave(e):e.enter(e)},v.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var t=m.fn.tooltip;m.fn.tooltip=function(i){return this.each(function(){var t=m(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new v(this,n)),"string"==typeof i&&e[i]())})},m.fn.tooltip.Constructor=v,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=t,this}}(jQuery),function(r){"use strict";function o(t,e){this.init("popover",t,e)}if(!r.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.4",o.DEFAULTS=r.extend({},r.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((o.prototype=r.extend({},r.fn.tooltip.Constructor.prototype)).constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=r.fn.popover;r.fn.popover=function(i){return this.each(function(){var t=r(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new o(this,n)),"string"==typeof i&&e[i]())})},r.fn.popover.Constructor=o,r.fn.popover.noConflict=function(){return r.fn.popover=t,this}}(jQuery),function(o){"use strict";function r(t,e){this.$body=o(document.body),this.$scrollElement=o(o(t).is(document.body)?window:t),this.options=o.extend({},r.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=o(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new r(this,n)),"string"==typeof i&&e[i]()})}r.VERSION="3.3.4",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),o.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=o(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&o(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+r,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},r.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},r.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=o(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=o.fn.scrollspy;o.fn.scrollspy=e,o.fn.scrollspy.Constructor=r,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=t,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var t=o(this);e.call(t,t.data())})})}(jQuery),function(a){"use strict";function e(n){return this.each(function(){var t=a(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new s(this)),"string"==typeof n&&e[n]()})}function s(t){this.element=a(t)}s.VERSION="3.3.4",s.TRANSITION_DURATION=150,s.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),r=a.Event("hide.bs.tab",{relatedTarget:t[0]}),o=a.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),t.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=a(n);this.activate(t.closest("li"),e),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},s.prototype.activate=function(t,e,n){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=e.find("> .active"),o=n&&a.support.transition&&(r.length&&r.hasClass("fade")||!!e.find("> .fade").length);r.length&&o?r.one("bsTransitionEnd",i).emulateTransitionEnd(s.TRANSITION_DURATION):i(),r.removeClass("in")};var t=a.fn.tab;a.fn.tab=e,a.fn.tab.Constructor=s,a.fn.tab.noConflict=function(){return a.fn.tab=t,this};function n(t){t.preventDefault(),e.call(a(this),"show")}a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new c(this,n)),"string"==typeof i&&e[i]()})}var c=function(t,e){this.options=l.extend({},c.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.4",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+s<=t-i)&&"bottom";var a=null==this.affixed,l=a?r:o.top;return null!=n&&r<=n?"top":null!=i&&t-i<=l+(a?s:e)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,r=l(document.body).height();"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var o=this.getState(r,t,n,i);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var s="affix"+(o?"-"+o:""),a=l.Event(s+".bs.affix");if(this.$element.trigger(a),a.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(s).trigger(s.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(u){u.fn.addBack=u.fn.addBack||u.fn.andSelf,u.fn.extend({actual:function(t,e){if(!this[t])throw'$.actual => The jQuery method "'+t+'" you called does not exist';var n,i,r=u.extend({absolute:!1,clone:!1,includeMargin:!1},e),o=this.eq(0);if(!0===r.clone)n=function(){o=o.clone().attr("style","position: absolute !important; top: -1000 !important; ").appendTo("body")},i=function(){o.remove()};else{var s,a=[],l="";n=function(){s=o.parents().addBack().filter(":hidden"),l+="visibility: hidden !important; display: block !important; ",!0===r.absolute&&(l+="position: absolute !important; "),s.each(function(){var t=u(this),e=t.attr("style");a.push(e),t.attr("style",e?e+";"+l:l)})},i=function(){s.each(function(t){var e=u(this),n=a[t];void 0===n?e.removeAttr("style"):e.attr("style",n)})}}n();var c=/(outer)/.test(t)?o[t](r.includeMargin):o[t]();return i(),c}})}(jQuery),jQuery.extend({bez:function(o){var t="bez_"+jQuery.makeArray(arguments).join("_").replace(/\./g,"p");if("function"!=typeof jQuery.easing[t]){function s(n,i){function o(t,e){return l[e]=3*n[e],a[e]=3*(i[e]-n[e])-l[e],s[e]=1-l[e]-a[e],t*(l[e]+t*(a[e]+t*s[e]))}var s=[null,null],a=[null,null],l=[null,null];return function(t){return o(function(t){for(var e,n,i=t,r=0;++r<14&&(e=o(i,0)-t,!(Math.abs(e)<.001));)i-=e/(n=i,l[0]+n*(2*a[0]+3*s[0]*n));return i}(t),1)}}jQuery.easing[t]=function(t,e,n,i,r){return i*s([o[0],o[1]],[o[2],o[3]])(e/r)+n}}return t}}),function(r){function n(t,e){this.$elem=r(t),this.$elem.data("instance",this),this.init(e)}n.prototype={defaults:{classes:{animated:"list-view-animated",container:"list-view-wrapper",hidden:"list-view-hidden",stationaryHeader:"list-view-fake-header"},selectors:{groupContainer:".list-view-group-container",groupHeader:".list-view-group-header",stationaryHeader:"h2"}},init:function(t){var o=this,e=!!navigator.userAgent.match(/ipad|iphone|ipod/gi);this.options=r.extend(!0,{},this.defaults,t||{}),this.elems=[],this.$elem.addClass("list-view"),this.$elem.children().wrapAll(["<div class='",this.options.classes.container,"' data-ios='",e,"'></div>"].join("")),this.$elem.prepend(["<",this.options.selectors.stationaryHeader,"/>"].join("")),this.$listWrapper=this.$elem.find("."+this.options.classes.container),this.$fakeHeader=this.$elem.find(this.options.selectors.stationaryHeader).eq(0),this.$fakeHeader.addClass(this.options.classes.stationaryHeader),this.$elem.find(this.options.selectors.groupContainer).each(function(t){var e=o.$elem.find(o.options.selectors.groupContainer).eq(t),n=e.find(o.options.selectors.groupHeader).eq(0),i=e.height(),r=e.position().top;o.elems.push({list:e,header:n,listHeight:i,headerText:n.text(),headerHeight:n.outerHeight(),listOffset:r,listBottom:i+r})}),this.$fakeHeader.text(this.elems[0].headerText),this.$listWrapper.scroll(function(){o.testPosition()})},testPosition:function(){for(var t,e,n=this.$listWrapper.scrollTop(),i=0;this.elems[i].listOffset-n<=0&&((e=(t=this.elems[i]).listBottom-n)<-t.headerHeight&&t,!(++i>=this.elems.length)););e<0&&e>-t.headerHeight?(this.$fakeHeader.addClass(this.options.classes.hidden),r(t.list).addClass(this.options.classes.animated)):(this.$fakeHeader.removeClass(this.options.classes.hidden),t&&r(t.list).removeClass(this.options.classes.animated)),t&&this.$fakeHeader.text(t.headerText)}},r.fn.ioslist=function(t,e){return this.each("string"==typeof t?function(){r(this).data("instance")[t](e)}:function(){new n(this,t)})}}(jQuery,window,document),function(m,v,n){"use strict";function i(t){if(u.webkit&&!t)return{height:0,width:0};if(!u.data.outer){var e={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"};u.data.inner=m("<div>").css(m.extend({},e)),u.data.outer=m("<div>").css(m.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},e)).append(u.data.inner).appendTo("body")}return u.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(u.data.outer.offset().top-u.data.inner.offset().top||0),width:Math.ceil(u.data.outer.offset().left-u.data.inner.offset().left||0)}}function y(t,e){return m(v).on({"blur.scrollbar":function(){m(v).add("body").off(".scrollbar"),t&&t()},"dragstart.scrollbar":function(t){return t.preventDefault(),!1},"mouseup.scrollbar":function(){m(v).add("body").off(".scrollbar"),t&&t()}}),m("body").on({"selectstart.scrollbar":function(t){return t.preventDefault(),!1}}),e&&e.preventDefault(),!1}function b(t){var e=t.originalEvent;return(!e.axis||e.axis!==e.HORIZONTAL_AXIS)&&!e.wheelDeltaX}function o(t,e){u.scroll||(u.log("Init jQuery Scrollbar v0.2.5"),u.overlay=function(){var t=i(!0);return!(t.height||t.width)}(),u.scroll=i(),c(),m(n).resize(function(){var t=!1;if(u.scroll&&(u.scroll.height||u.scroll.width)){var e=i();e.height==u.scroll.height&&e.width==u.scroll.width||(u.scroll=e,t=!0)}c(t)})),this.container=t,this.options=m.extend({},r,n.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},this.init(e)}var u={data:{},macosx:-1!==n.navigator.platform.toLowerCase().indexOf("mac"),mobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(n.navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/WebKit/.test(n.navigator.userAgent),log:function(){}},r={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!0,ignoreOverlay:!0,scrollStep:30,showArrows:!1,stepScrolling:!0,type:"simple",scrollx:null,scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null};o.prototype={destroy:function(){if(this.wrapper){var t=this.container.scrollLeft(),e=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:""}).removeClass("scroll-content").removeClass("scroll-scrollx_visible").removeClass("scroll-scrolly_visible").off(".scrollbar").scrollLeft(t).scrollTop(e),this.scrollx.scrollbar.removeClass("scroll-scrollx_visible").find("div").andSelf().off(".scrollbar"),this.scrolly.scrollbar.removeClass("scroll-scrolly_visible").find("div").andSelf().off(".scrollbar"),this.wrapper.remove(),m(v).add("body").off(".scrollbar"),m.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},getScrollbar:function(t){var e=this.options["scroll"+t],n={advanced:'<div class="scroll-element_corner"></div><div class="scroll-arrow scroll-arrow_less"></div><div class="scroll-arrow scroll-arrow_more"></div><div class="scroll-element_outer">    <div class="scroll-element_size"></div>    <div class="scroll-element_inner-wrapper">        <div class="scroll-element_inner scroll-element_track">            <div class="scroll-element_inner-bottom"></div>        </div>    </div>    <div class="scroll-bar">        <div class="scroll-bar_body">            <div class="scroll-bar_body-inner"></div>        </div>        <div class="scroll-bar_bottom"></div>        <div class="scroll-bar_center"></div>    </div></div>',simple:'<div class="scroll-element_outer">    <div class="scroll-element_size"></div>    <div class="scroll-element_track"></div>    <div class="scroll-bar"></div></div>'},i=n[this.options.type]?this.options.type:"advanced";return e=e?"string"==typeof e?m(e).appendTo(this.wrapper):m(e):m("<div>").addClass("scroll-element").html(n[i]).appendTo(this.wrapper),this.options.showArrows&&e.addClass("scroll-element_arrows_visible"),e.addClass("scroll-"+t)},init:function(t){var d=this,f=this.container,a=this.containerWrapper||f,p=m.extend(this.options,t||{}),g={x:this.scrollx,y:this.scrolly},l=this.wrapper,e={scrollLeft:f.scrollLeft(),scrollTop:f.scrollTop()};if(u.mobile&&p.ignoreMobile||u.overlay&&p.ignoreOverlay||u.macosx&&!u.webkit)return!1;if(l)a.css({height:"","margin-bottom":-1*u.scroll.height+"px","margin-right":-1*u.scroll.width+"px"});else{if(this.wrapper=l=m("<div>").addClass("scroll-wrapper").addClass(f.attr("class")).css("position","absolute"==f.css("position")?"absolute":"relative").insertBefore(f).append(f),f.is("textarea")&&(this.containerWrapper=a=m("<div>").insertBefore(f).append(f),l.addClass("scroll-textarea")),a.addClass("scroll-content").css({height:"","margin-bottom":-1*u.scroll.height+"px","margin-right":-1*u.scroll.width+"px"}),f.on("scroll.scrollbar",function(t){m.isFunction(p.onScroll)&&p.onScroll.call(d,{maxScroll:g.y.maxScrollOffset,scroll:f.scrollTop(),size:g.y.size,visible:g.y.visible},{maxScroll:g.x.maxScrollOffset,scroll:f.scrollLeft(),size:g.x.size,visible:g.x.visible}),g.x.isVisible&&g.x.scroller.css("left",f.scrollLeft()*g.x.kx+"px"),g.y.isVisible&&g.y.scroller.css("top",f.scrollTop()*g.y.kx+"px")}),l.on("scroll",function(){l.scrollTop(0).scrollLeft(0)}),p.disableBodyScroll){var n=function(t){b(t)?g.y.isVisible&&g.y.mousewheel(t):g.x.isVisible&&g.x.mousewheel(t)};l.on({"MozMousePixelScroll.scrollbar":n,"mousewheel.scrollbar":n}),u.mobile&&l.on("touchstart.scrollbar",function(t){var e=t.originalEvent.touches&&t.originalEvent.touches[0]||t,n=e.pageX,i=e.pageY,r=f.scrollLeft(),o=f.scrollTop();m(v).on({"touchmove.scrollbar":function(t){var e=t.originalEvent.targetTouches&&t.originalEvent.targetTouches[0]||t;f.scrollLeft(r+n-e.pageX),f.scrollTop(o+i-e.pageY),t.preventDefault()},"touchend.scrollbar":function(){m(v).off(".scrollbar")}})})}m.isFunction(p.onInit)&&p.onInit.apply(this,[f])}m.each(g,function(r,o){function s(){var t=f[c]();f[c](t+u),1==l&&h<=t+u&&(t=f[c]()),-1==l&&t+u<=h&&(t=f[c]()),f[c]()==t&&a&&a()}var a=null,l=1,c="x"==r?"scrollLeft":"scrollTop",u=p.scrollStep,h=0;o.scrollbar||(o.scrollbar=d.getScrollbar(r),o.scroller=o.scrollbar.find(".scroll-bar"),o.mousewheel=function(t){if(!o.isVisible||"x"==r&&b(t))return!0;if("y"==r&&!b(t))return g.x.mousewheel(t),!0;var e=-1*t.originalEvent.wheelDelta||t.originalEvent.detail,n=o.size-o.visible-o.offset;return h<=0&&e<0||n<=h&&0<e||((h+=e)<0&&(h=0),n<h&&(h=n),d.scrollTo=d.scrollTo||{},d.scrollTo[c]=h,setTimeout(function(){d.scrollTo&&(f.stop().animate(d.scrollTo,240,"linear",function(){h=f[c]()}),d.scrollTo=null)},1)),t.preventDefault(),!1},o.scrollbar.on({"MozMousePixelScroll.scrollbar":o.mousewheel,"mousewheel.scrollbar":o.mousewheel,"mouseenter.scrollbar":function(){h=f[c]()}}),o.scrollbar.find(".scroll-arrow, .scroll-element_track").on("mousedown.scrollbar",function(t){if(1!=t.which)return!0;l=1;var e={eventOffset:t["x"==r?"pageX":"pageY"],maxScrollValue:o.size-o.visible-o.offset,scrollbarOffset:o.scroller.offset()["x"==r?"left":"top"],scrollbarSize:o.scroller["x"==r?"outerWidth":"outerHeight"]()},n=0,i=0;return h=m(this).hasClass("scroll-arrow")?(l=m(this).hasClass("scroll-arrow_more")?1:-1,u=p.scrollStep*l,0<l?e.maxScrollValue:0):(l=e.scrollbarOffset+e.scrollbarSize<e.eventOffset?1:e.eventOffset<e.scrollbarOffset?-1:0,u=Math.round(.75*o.visible)*l,h=e.eventOffset-e.scrollbarOffset-(p.stepScrolling?1==l?e.scrollbarSize:0:Math.round(e.scrollbarSize/2)),f[c]()+h/o.kx),d.scrollTo=d.scrollTo||{},d.scrollTo[c]=p.stepScrolling?f[c]()+u:h,p.stepScrolling&&(a=function(){h=f[c](),clearInterval(i),clearTimeout(n),i=n=0},n=setTimeout(function(){i=setInterval(s,40)},p.duration+100)),setTimeout(function(){d.scrollTo&&(f.animate(d.scrollTo,p.duration),d.scrollTo=null)},1),y(a,t)}),o.scroller.on("mousedown.scrollbar",function(t){if(1!=t.which)return!0;var n=t["x"==r?"pageX":"pageY"],i=f[c]();return o.scrollbar.addClass("scroll-draggable"),m(v).on("mousemove.scrollbar",function(t){var e=parseInt((t["x"==r?"pageX":"pageY"]-n)/o.kx,10);f[c](i+e)}),y(function(){o.scrollbar.removeClass("scroll-draggable"),h=f[c]()},t)}))}),m.each(g,function(t,e){var n="scroll-scroll"+t+"_visible",i="x"==t?g.y:g.x;e.scrollbar.removeClass(n),i.scrollbar.removeClass(n),a.removeClass(n)}),m.each(g,function(t,e){m.extend(e,"x"==t?{offset:parseInt(f.css("left"),10)||0,size:f.prop("scrollWidth"),visible:l.width()}:{offset:parseInt(f.css("top"),10)||0,size:f.prop("scrollHeight"),visible:l.height()})});var c=function(t,e){var n="scroll-scroll"+t+"_visible",i="x"==t?g.y:g.x,r=parseInt(f.css("x"==t?"left":"top"),10)||0,o=e.size,s=e.visible+r;e.isVisible=1<o-s,e.isVisible?(e.scrollbar.addClass(n),i.scrollbar.addClass(n),a.addClass(n)):(e.scrollbar.removeClass(n),i.scrollbar.removeClass(n),a.removeClass(n)),"y"==t&&(e.isVisible||e.size<e.visible)&&a.css("height",s+u.scroll.height+"px"),g.x.size==f.prop("scrollWidth")&&g.y.size==f.prop("scrollHeight")&&g.x.visible==l.width()&&g.y.visible==l.height()&&g.x.offset==(parseInt(f.css("left"),10)||0)&&g.y.offset==(parseInt(f.css("top"),10)||0)||(m.each(g,function(t,e){m.extend(e,"x"==t?{offset:parseInt(f.css("left"),10)||0,size:f.prop("scrollWidth"),visible:l.width()}:{offset:parseInt(f.css("top"),10)||0,size:f.prop("scrollHeight"),visible:l.height()})}),c("x"==t?"y":"x",i))};m.each(g,c),m.isFunction(p.onUpdate)&&p.onUpdate.apply(this,[f]),m.each(g,function(t,e){var n="x"==t?"left":"top",i="x"==t?"outerWidth":"outerHeight",r="x"==t?"width":"height",o=parseInt(f.css(n),10)||0,s=e.size,a=e.visible+o,l=e.scrollbar.find(".scroll-element_size");l=l[i]()+(parseInt(l.css(n),10)||0),p.autoScrollSize&&(e.scrollbarSize=parseInt(l*a/s,10),e.scroller.css(r,e.scrollbarSize+"px")),e.scrollbarSize=e.scroller[i](),e.kx=(l-e.scrollbarSize)/(s-a)||1,e.maxScrollOffset=s-a}),f.scrollLeft(e.scrollLeft).scrollTop(e.scrollTop).trigger("scroll")}},m.fn.scrollbar=function(n,i){var r=this;return"get"===n&&(r=null),this.each(function(){var t=m(this);if(t.hasClass("scroll-wrapper")||"body"==t.get(0).nodeName)return!0;var e=t.data("scrollbar");if(e){if("get"===n)return r=e,!1;if(e["string"==typeof n&&e[n]?n:"init"].apply(e,m.isArray(i)?i:[]),"destroy"===n)for(t.removeData("scrollbar");0<=m.inArray(e,u.scrolls);)u.scrolls.splice(m.inArray(e,u.scrolls),1)}else"string"!=typeof n&&(e=new o(t,n),t.data("scrollbar",e),u.scrolls.push(e));return!0}),r},m.fn.scrollbar.options=r,n.angular&&n.angular.module("jQueryScrollbar",[]).directive("jqueryScrollbar",function(){return{link:function(t,e){e.scrollbar(t.options).on("$destroy",function(){e.scrollbar("destroy")})},restring:"AC",scope:{options:"=jqueryScrollbar"}}});var l=0,c=function(t){var e,n,i,r,o,s,a;for(e=0;e<u.scrolls.length;e++)n=(r=u.scrolls[e]).container,i=r.options,o=r.wrapper,s=r.scrollx,a=r.scrolly,(t||i.autoUpdate&&o&&o.is(":visible")&&(n.prop("scrollWidth")!=s.size||n.prop("scrollHeight")!=a.size||o.width()!=s.visible||o.height()!=a.visible))&&r.init();clearTimeout(l),l=setTimeout(c,300)}}(jQuery,document,window),function(l){l.fn.unveil=function(t,e){var n,o=l(window),s=t||0,i=1<window.devicePixelRatio?"data-src-retina":"data-src",r=this;function a(){var t=r.filter(function(){var t=l(this),e=o.scrollTop(),n=e+o.height(),i=t.offset().top,r=i+t.height();return e-s<=r&&i<=n+s});n=t.trigger("unveil"),r=r.not(n)}return this.one("unveil",function(){var t=this.getAttribute(i);(t=t||this.getAttribute("data-src"))&&(this.setAttribute("src",t),"function"==typeof e&&e.call(this))}),o.scroll(a),o.resize(a),a(),this}}(window.jQuery||window.Zepto),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,r){return jQuery.easing[jQuery.easing.def](t,e,n,i,r)},easeInQuad:function(t,e,n,i,r){return i*(e/=r)*e+n},easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n},easeInOutQuad:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,r){return i*(e/=r)*e*e+n},easeOutCubic:function(t,e,n,i,r){return i*((e=e/r-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,r){return i*(e/=r)*e*e*e+n},easeOutQuart:function(t,e,n,i,r){return-i*((e=e/r-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,r){return i*(e/=r)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,r){return i*((e=e/r-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,r){return-i*Math.cos(e/r*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,r){return i*Math.sin(e/r*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,r){return-i/2*(Math.cos(Math.PI*e/r)-1)+n},easeInExpo:function(t,e,n,i,r){return 0==e?n:i*Math.pow(2,10*(e/r-1))+n},easeOutExpo:function(t,e,n,i,r){return e==r?n+i:i*(1-Math.pow(2,-10*e/r))+n},easeInOutExpo:function(t,e,n,i,r){return 0==e?n:e==r?n+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,i,r){return-i*(Math.sqrt(1-(e/=r)*e)-1)+n},easeOutCirc:function(t,e,n,i,r){return i*Math.sqrt(1-(e=e/r-1)*e)+n},easeInOutCirc:function(t,e,n,i,r){return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(s=s||.3*r,a<Math.abs(i)){a=i;o=s/4}else o=s/(2*Math.PI)*Math.asin(i/a);return-a*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)+n},easeOutElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(s=s||.3*r,a<Math.abs(i)){a=i;o=s/4}else o=s/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin((e*r-o)*(2*Math.PI)/s)+i+n},easeInOutElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(2==(e/=r/2))return n+i;if(s=s||r*(.3*1.5),a<Math.abs(i)){a=i;o=s/4}else o=s/(2*Math.PI)*Math.asin(i/a);return e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)*-.5+n:a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)*.5+i+n},easeInBack:function(t,e,n,i,r,o){return null==o&&(o=1.70158),i*(e/=r)*e*((o+1)*e-o)+n},easeOutBack:function(t,e,n,i,r,o){return null==o&&(o=1.70158),i*((e=e/r-1)*e*((o+1)*e+o)+1)+n},easeInOutBack:function(t,e,n,i,r,o){return null==o&&(o=1.70158),(e/=r/2)<1?i/2*(e*e*((1+(o*=1.525))*e-o))+n:i/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+n},easeInBounce:function(t,e,n,i,r){return i-jQuery.easing.easeOutBounce(t,r-e,0,i,r)+n},easeOutBounce:function(t,e,n,i,r){return(e/=r)<1/2.75?i*(7.5625*e*e)+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,r){return e<r/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,r)+n:.5*jQuery.easing.easeOutBounce(t,2*e-r,0,i,r)+.5*i+n}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(T){function i(t,e){var n,i,r,o=t.nodeName.toLowerCase();return"area"===o?(i=(n=t.parentNode).name,!(!t.href||!i||"map"!==n.nodeName.toLowerCase())&&(!!(r=T("img[usemap='#"+i+"']")[0])&&s(r))):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o&&t.href||e)&&s(t)}function s(t){return T.expr.filters.visible(t)&&!T(t).parents().addBack().filter(function(){return"hidden"===T.css(this,"visibility")}).length}var t,r,e,n;T.ui=T.ui||{},T.extend(T.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),T.fn.extend({scrollParent:function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=T(this);return(!n||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&r.length?r:T(this[0].ownerDocument||document)},uniqueId:(n=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&T(this).removeAttr("id")})}}),T.extend(T.expr[":"],{data:T.expr.createPseudo?T.expr.createPseudo(function(e){return function(t){return!!T.data(t,e)}}):function(t,e,n){return!!T.data(t,n[3])},focusable:function(t){return i(t,!isNaN(T.attr(t,"tabindex")))},tabbable:function(t){var e=T.attr(t,"tabindex"),n=isNaN(e);return(n||0<=e)&&i(t,!n)}}),T("<a>").outerWidth(1).jquery||T.each(["Width","Height"],function(t,n){function i(t,e,n,i){return T.each(r,function(){e-=parseFloat(T.css(t,"padding"+this))||0,n&&(e-=parseFloat(T.css(t,"border"+this+"Width"))||0),i&&(e-=parseFloat(T.css(t,"margin"+this))||0)}),e}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:T.fn.innerWidth,innerHeight:T.fn.innerHeight,outerWidth:T.fn.outerWidth,outerHeight:T.fn.outerHeight};T.fn["inner"+n]=function(t){return void 0===t?s["inner"+n].call(this):this.each(function(){T(this).css(o,i(this,t)+"px")})},T.fn["outer"+n]=function(t,e){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){T(this).css(o,i(this,t,!0,e)+"px")})}}),T.fn.addBack||(T.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),T("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(T.fn.removeData=(e=T.fn.removeData,function(t){return arguments.length?e.call(this,T.camelCase(t)):e.call(this)})),T.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),T.fn.extend({focus:(r=T.fn.focus,function(e,n){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){T(t).focus(),n&&n.call(t)},e)}):r.apply(this,arguments)}),disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var e,n,i=T(this[0]);i.length&&i[0]!==document;){if(("absolute"===(e=i.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}return 0}}),T.ui.plugin={add:function(t,e,n){var i,r=T.ui[t].prototype;for(i in n)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([e,n[i]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}};var o,a=0,l=Array.prototype.slice;T.cleanData=(o=T.cleanData,function(t){var e,n,i;for(i=0;null!=(n=t[i]);i++)try{(e=T._data(n,"events"))&&e.remove&&T(n).triggerHandler("remove")}catch(t){}o(t)}),T.widget=function(t,n,e){var i,r,o,s,a={},l=t.split(".")[0];return t=t.split(".")[1],i=l+"-"+t,e||(e=n,n=T.Widget),T.expr[":"][i.toLowerCase()]=function(t){return!!T.data(t,i)},T[l]=T[l]||{},r=T[l][t],o=T[l][t]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},T.extend(o,r,{version:e.version,_proto:T.extend({},e),_childConstructors:[]}),(s=new n).options=T.widget.extend({},s.options),T.each(e,function(e,i){return T.isFunction(i)?void(a[e]=function(){var t,e=this._super,n=this._superApply;return this._super=r,this._superApply=o,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}):void(a[e]=i);function r(){return n.prototype[e].apply(this,arguments)}function o(t){return n.prototype[e].apply(this,t)}}),o.prototype=T.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:i}),r?(T.each(r._childConstructors,function(t,e){var n=e.prototype;T.widget(n.namespace+"."+n.widgetName,o,e._proto)}),delete r._childConstructors):n._childConstructors.push(o),T.widget.bridge(t,o),o},T.widget.extend=function(t){for(var e,n,i=l.call(arguments,1),r=0,o=i.length;r<o;r++)for(e in i[r])n=i[r][e],i[r].hasOwnProperty(e)&&void 0!==n&&(t[e]=T.isPlainObject(n)?T.isPlainObject(t[e])?T.widget.extend({},t[e],n):T.widget.extend({},n):n);return t},T.widget.bridge=function(o,e){var s=e.prototype.widgetFullName||o;T.fn[o]=function(n){var t="string"==typeof n,i=l.call(arguments,1),r=this;return n=!t&&i.length?T.widget.extend.apply(null,[n].concat(i)):n,t?this.each(function(){var t,e=T.data(this,s);return"instance"===n?(r=e,!1):e?T.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&void 0!==t?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0:T.error("no such method '"+n+"' for "+o+" widget instance"):T.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var t=T.data(this,s);t?(t.option(n||{}),t._init&&t._init()):T.data(this,s,new e(n,this))}),r}},T.Widget=function(){},T.Widget._childConstructors=[],T.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=T(e||this.defaultElement||this)[0],this.element=T(e),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=T.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=T(),this.hoverable=T(),this.focusable=T(),e!==this&&(T.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=T(e.style?e.ownerDocument:e.document||e),this.window=T(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:T.noop,_getCreateEventData:T.noop,_create:T.noop,_init:T.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(T.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:T.noop,widget:function(){return this.element},option:function(t,e){var n,i,r,o=t;if(0===arguments.length)return T.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(n=t.split(".")).shift(),n.length){for(i=o[t]=T.widget.extend({},this.options[t]),r=0;n.length-1>r;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(t=n.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(s,a,t){var l,c=this;"boolean"!=typeof s&&(t=a,a=s,s=!1),t?(a=l=T(a),this.bindings=this.bindings.add(a)):(t=a,a=this.element,l=this.widget()),T.each(t,function(t,e){function n(){return s||!0!==c.options.disabled&&!T(this).hasClass("ui-state-disabled")?("string"==typeof e?c[e]:e).apply(c,arguments):void 0}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||T.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),r=i[1]+c.eventNamespace,o=i[2];o?l.delegate(o,r,n):a.bind(r,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){T(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){T(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){T(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){T(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,n){var i,r,o=this.options[t];if(n=n||{},(e=T.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],r=e.originalEvent)for(i in r)i in e||(e[i]=r[i]);return this.element.trigger(e,n),!(T.isFunction(o)&&!1===o.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},T.each({show:"fadeIn",hide:"fadeOut"},function(o,s){T.Widget.prototype["_"+o]=function(e,t,n){"string"==typeof t&&(t={effect:t});var i,r=t?!0===t||"number"==typeof t?s:t.effect||s:o;"number"==typeof(t=t||{})&&(t={duration:t}),i=!T.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&T.effects&&T.effects.effect[r]?e[o](t):r!==o&&e[r]?e[r](t.duration,t.easing,n):e.queue(function(t){T(this)[o](),n&&n.call(e[0]),t()})}}),T.widget;var c=!1;function d(t,e,n){return e<=t&&t<e+n}T(document).mouseup(function(){c=!1}),T.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(t){return!0===T.data(t.target,e.widgetName+".preventClickEvent")?(T.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!c){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,n=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&T(t.target).closest(this.options.cancel).length;return n&&!i&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?t.preventDefault():(!0===T.data(t.target,this.widgetName+".preventClickEvent")&&T.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),c=!0)),!0}},_mouseMove:function(t){return T.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):t.which?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&T.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),c=!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function _(t,e,n){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?n/100:1)]}function C(t,e){return parseInt(T.css(t,e),10)||0}T.ui=T.ui||{};var r,k,S=Math.max,D=Math.abs,E=Math.round,i=/left|center|right/,o=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,e=T.fn.position;T.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,e,n=T("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return T("body").append(n),t=i.offsetWidth,n.css("overflow","scroll"),t===(e=i.offsetWidth)&&(e=n[0].clientWidth),n.remove(),r=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?T.position.scrollbarWidth():0,height:i?T.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=T(t||window),n=T.isWindow(e[0]),i=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:n,isDocument:i,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:n||i?e.width():e.outerWidth(),height:n||i?e.height():e.outerHeight()}}},T.fn.position=function(h){if(!h||!h.of)return e.apply(this,arguments);h=T.extend({},h);var d,f,p,g,m,t,v=T(h.of),y=T.position.getWithinInfo(h.within),b=T.position.getScrollInfo(y),w=(h.collision||"flip").split(" "),x={};return t=function(t){var e=t[0];return 9===e.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:T.isWindow(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(v),v[0].preventDefault&&(h.at="left top"),f=t.width,p=t.height,g=t.offset,m=T.extend({},g),T.each(["my","at"],function(){var t,e,n=(h[this]||"").split(" ");1===n.length&&(n=i.test(n[0])?n.concat(["center"]):o.test(n[0])?["center"].concat(n):["center","center"]),n[0]=i.test(n[0])?n[0]:"center",n[1]=o.test(n[1])?n[1]:"center",t=s.exec(n[0]),e=s.exec(n[1]),x[this]=[t?t[0]:0,e?e[0]:0],h[this]=[a.exec(n[0])[0],a.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===h.at[0]?m.left+=f:"center"===h.at[0]&&(m.left+=f/2),"bottom"===h.at[1]?m.top+=p:"center"===h.at[1]&&(m.top+=p/2),d=_(x.at,f,p),m.left+=d[0],m.top+=d[1],this.each(function(){var n,t,s=T(this),a=s.outerWidth(),l=s.outerHeight(),e=C(this,"marginLeft"),i=C(this,"marginTop"),r=a+e+C(this,"marginRight")+b.width,o=l+i+C(this,"marginBottom")+b.height,c=T.extend({},m),u=_(x.my,s.outerWidth(),s.outerHeight());"right"===h.my[0]?c.left-=a:"center"===h.my[0]&&(c.left-=a/2),"bottom"===h.my[1]?c.top-=l:"center"===h.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],k||(c.left=E(c.left),c.top=E(c.top)),n={marginLeft:e,marginTop:i},T.each(["left","top"],function(t,e){T.ui.position[w[t]]&&T.ui.position[w[t]][e](c,{targetWidth:f,targetHeight:p,elemWidth:a,elemHeight:l,collisionPosition:n,collisionWidth:r,collisionHeight:o,offset:[d[0]+u[0],d[1]+u[1]],my:h.my,at:h.at,within:y,elem:s})}),h.using&&(t=function(t){var e=g.left-c.left,n=e+f-a,i=g.top-c.top,r=i+p-l,o={target:{element:v,left:g.left,top:g.top,width:f,height:p},element:{element:s,left:c.left,top:c.top,width:a,height:l},horizontal:n<0?"left":0<e?"right":"center",vertical:r<0?"top":0<i?"bottom":"middle"};f<a&&f>D(e+n)&&(o.horizontal="center"),p<l&&p>D(i+r)&&(o.vertical="middle"),o.important=S(D(e),D(n))>S(D(i),D(r))?"horizontal":"vertical",h.using.call(this,t,o)}),s.offset(T.extend(c,{using:t}))})},T.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=t.left-e.collisionPosition.marginLeft,a=r-s,l=s+e.collisionWidth-o-r;e.collisionWidth>o?0<a&&l<=0?(n=t.left+a+e.collisionWidth-o-r,t.left+=a-n):t.left=0<l&&a<=0?r:l<a?r+o-e.collisionWidth:r:0<a?t.left+=a:0<l?t.left-=l:t.left=S(t.left-s,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,s=t.top-e.collisionPosition.marginTop,a=r-s,l=s+e.collisionHeight-o-r;e.collisionHeight>o?0<a&&l<=0?(n=t.top+a+e.collisionHeight-o-r,t.top+=a-n):t.top=0<l&&a<=0?r:l<a?r+o-e.collisionHeight:r:0<a?t.top+=a:0<l?t.top-=l:t.top=S(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,a=r.isWindow?r.scrollLeft:r.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-a,u=l+e.collisionWidth-s-a,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((n=t.left+h+d+f+e.collisionWidth-s-o)<0||D(c)>n)&&(t.left+=h+d+f):0<u&&((0<(i=t.left-e.collisionPosition.marginLeft+h+d+f-a)||u>D(i))&&(t.left+=h+d+f))},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,a=r.isWindow?r.scrollTop:r.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-a,u=l+e.collisionHeight-s-a,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];c<0?(i=t.top+h+d+f+e.collisionHeight-s-o,t.top+h+d+f>c&&(i<0||D(c)>i)&&(t.top+=h+d+f)):0<u&&(n=t.top-e.collisionPosition.marginTop+h+d+f-a,t.top+h+d+f>u&&(0<n||u>D(n))&&(t.top+=h+d+f))}},flipfit:{left:function(){T.ui.position.flip.left.apply(this,arguments),T.ui.position.fit.left.apply(this,arguments)},top:function(){T.ui.position.flip.top.apply(this,arguments),T.ui.position.fit.top.apply(this,arguments)}}},function(){var t,e,n,i,r,o=document.getElementsByTagName("body")[0],s=document.createElement("div");for(r in t=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&T.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)t.style[r]=n[r];t.appendChild(s),(e=o||document.documentElement).insertBefore(t,e.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",i=T(s).offset().left,k=10<i&&i<11,t.innerHTML="",e.removeChild(t)}()}(),T.ui.position,T.widget("ui.draggable",T.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var e=this.document[0],n=this.options;try{e.activeElement&&"body"!==e.activeElement.nodeName.toLowerCase()&&T(e.activeElement).blur()}catch(t){}return!(this.helper||n.disabled||0<T(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(T(!0===n.iframeFix?"iframe":n.iframeFix).each(function(){T("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(T(this).offset()).appendTo("body")}),!0))},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),T.ui.ddmanager&&(T.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,T.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),T.ui.ddmanager&&!e.dropBehaviour&&T.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),T.ui.ddmanager&&T.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,e){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",T.ui.ddmanager&&T.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,n=!1;return T.ui.ddmanager&&!this.options.dropBehaviour&&(n=T.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||T.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?T(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return T("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),T.ui.ddmanager&&T.ui.ddmanager.dragStop(this,t),this.element.focus(),T.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!T(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var e=this.options,n=T.isFunction(e.helper)?T(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),T.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&T.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options,r=this.document[0];return this.relativeContainer=null,i.containment?"window"===i.containment?void(this.containment=[T(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,T(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,T(window).scrollLeft()+T(window).width()-this.helperProportions.width-this.margins.left,T(window).scrollTop()+(T(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===i.containment?void(this.containment=[0,0,T(r).width()-this.helperProportions.width-this.margins.left,(T(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):i.containment.constructor===Array?void(this.containment=i.containment):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),void((n=(e=T(i.containment))[0])&&(t="hidden"!==e.css("overflow"),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e))):void(this.containment=null)},_convertPositionTo:function(t,e){e=e||this.position;var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(n=this.relativeContainer?(i=this.relativeContainer.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,n){return n=n||this._uiHash(),T.ui.plugin.call(this,t,[e,n,this],!0),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),T.Widget.prototype._trigger.call(this,t,e,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),T.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,n){var i=n.options,r=T.extend({},t,{item:n.element});n.sortables=[],T(i.connectToSortable).each(function(){var t=T(this).sortable("instance");t&&!t.options.disabled&&(n.sortables.push({instance:t,shouldRevert:t.options.revert}),t.refreshPositions(),t._trigger("activate",e,r))})},stop:function(t,e,n){var i=T.extend({},e,{item:n.element});T.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(n,i,r){var o=this;T.each(r.sortables,function(){var t=!1,e=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(t=!0,T.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==e&&this.instance._intersectsWith(this.instance.containerCache)&&T.contains(e.instance.element[0],this.instance.element[0])&&(t=!1),t})),t?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=T(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},n.target=this.instance.currentItem[0],this.instance._mouseCapture(n,!0),this.instance._mouseStart(n,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",n),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(n)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",n,this.instance._uiHash(this.instance)),this.instance._mouseStop(n,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",n),r.dropped=!1)})}}),T.ui.plugin.add("draggable","cursor",{start:function(t,e,n){var i=T("body"),r=n.options;i.css("cursor")&&(r._cursor=i.css("cursor")),i.css("cursor",r.cursor)},stop:function(t,e,n){var i=n.options;i._cursor&&T("body").css("cursor",i._cursor)}}),T.ui.plugin.add("draggable","opacity",{start:function(t,e,n){var i=T(e.helper),r=n.options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(t,e,n){var i=n.options;i._opacity&&T(e.helper).css("opacity",i._opacity)}}),T.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,e,n){var i=n.options,r=!1,o=n.scrollParentNotHidden[0],s=n.document[0];o!==s&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+o.offsetHeight-t.pageY<i.scrollSensitivity?o.scrollTop=r=o.scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+o.offsetWidth-t.pageX<i.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-T(s).scrollTop()<i.scrollSensitivity?r=T(s).scrollTop(T(s).scrollTop()-i.scrollSpeed):T(window).height()-(t.pageY-T(s).scrollTop())<i.scrollSensitivity&&(r=T(s).scrollTop(T(s).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-T(s).scrollLeft()<i.scrollSensitivity?r=T(s).scrollLeft(T(s).scrollLeft()-i.scrollSpeed):T(window).width()-(t.pageX-T(s).scrollLeft())<i.scrollSensitivity&&(r=T(s).scrollLeft(T(s).scrollLeft()+i.scrollSpeed)))),!1!==r&&T.ui.ddmanager&&!i.dropBehaviour&&T.ui.ddmanager.prepareOffsets(n,t)}}),T.ui.plugin.add("draggable","snap",{start:function(t,e,n){var i=n.options;n.snapElements=[],T(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=T(this),e=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,n){var i,r,o,s,a,l,c,u,h,d,f=n.options,p=f.snapTolerance,g=e.offset.left,m=g+n.helperProportions.width,v=e.offset.top,y=v+n.helperProportions.height;for(h=n.snapElements.length-1;0<=h;h--)l=(a=n.snapElements[h].left)+n.snapElements[h].width,u=(c=n.snapElements[h].top)+n.snapElements[h].height,m<a-p||l+p<g||y<c-p||u+p<v||!T.contains(n.snapElements[h].item.ownerDocument,n.snapElements[h].item)?(n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,T.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(i=p>=Math.abs(c-y),r=p>=Math.abs(u-v),o=p>=Math.abs(a-m),s=p>=Math.abs(l-g),i&&(e.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top-n.margins.top),r&&(e.position.top=n._convertPositionTo("relative",{top:u,left:0}).top-n.margins.top),o&&(e.position.left=n._convertPositionTo("relative",{top:0,left:a-n.helperProportions.width}).left-n.margins.left),s&&(e.position.left=n._convertPositionTo("relative",{top:0,left:l}).left-n.margins.left)),d=i||r||o||s,"outer"!==f.snapMode&&(i=p>=Math.abs(c-v),r=p>=Math.abs(u-y),o=p>=Math.abs(a-g),s=p>=Math.abs(l-m),i&&(e.position.top=n._convertPositionTo("relative",{top:c,left:0}).top-n.margins.top),r&&(e.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top-n.margins.top),o&&(e.position.left=n._convertPositionTo("relative",{top:0,left:a}).left-n.margins.left),s&&(e.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[h].snapping&&(i||r||o||s||d)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,T.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=i||r||o||s||d)}}),T.ui.plugin.add("draggable","stack",{start:function(t,e,n){var i,r=n.options,o=T.makeArray(T(r.stack)).sort(function(t,e){return(parseInt(T(t).css("zIndex"),10)||0)-(parseInt(T(e).css("zIndex"),10)||0)});o.length&&(i=parseInt(T(o[0]).css("zIndex"),10)||0,T(o).each(function(t){T(this).css("zIndex",i+t)}),this.css("zIndex",i+o.length))}}),T.ui.plugin.add("draggable","zIndex",{start:function(t,e,n){var i=T(e.helper),r=n.options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(t,e,n){var i=n.options;i._zIndex&&T(e.helper).css("zIndex",i._zIndex)}}),T.ui.draggable,T.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,n=e.accept;this.isover=!1,this.isout=!0,this.accept=T.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(e.scope),e.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){T.ui.ddmanager.droppables[t]=T.ui.ddmanager.droppables[t]||[],T.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=T.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,e){if("accept"===t)this.accept=T.isFunction(e)?e:function(t){return t.is(e)};else if("scope"===t){var n=T.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(e)}this._super(t,e)},_activate:function(t){var e=T.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=T.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=T.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=T.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var n=t||T.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=T(this).droppable("instance");return t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&T.ui.intersect(n,T.extend(t,{offset:t.element.offset()}),t.options.tolerance,e)?!(i=!0):void 0}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),T.ui.intersect=function(t,e,n,i){if(!e.offset)return!1;var r=(t.positionAbs||t.position.absolute).left,o=(t.positionAbs||t.position.absolute).top,s=r+t.helperProportions.width,a=o+t.helperProportions.height,l=e.offset.left,c=e.offset.top,u=l+e.proportions().width,h=c+e.proportions().height;switch(n){case"fit":return l<=r&&s<=u&&c<=o&&a<=h;case"intersect":return r+t.helperProportions.width/2>l&&u>s-t.helperProportions.width/2&&o+t.helperProportions.height/2>c&&h>a-t.helperProportions.height/2;case"pointer":return d(i.pageY,c,e.proportions().height)&&d(i.pageX,l,e.proportions().width);case"touch":return(c<=o&&o<=h||c<=a&&a<=h||o<c&&h<a)&&(l<=r&&r<=u||l<=s&&s<=u||r<l&&u<s);default:return!1}},T.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var n,i,r=T.ui.ddmanager.droppables[t.options.scope]||[],o=e?e.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(n=0;r.length>n;n++)if(!(r[n].options.disabled||t&&!r[n].accept.call(r[n].element[0],t.currentItem||t.element))){for(i=0;s.length>i;i++)if(s[i]===r[n].element[0]){r[n].proportions().height=0;continue t}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],e),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(t,e){var n=!1;return T.each((T.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&T.ui.intersect(t,this,this.options.tolerance,e)&&(n=this._drop.call(this,e)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),n},dragStart:function(t,e){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||T.ui.ddmanager.prepareOffsets(t,e)})},drag:function(o,s){o.options.refreshPositions&&T.ui.ddmanager.prepareOffsets(o,s),T.each(T.ui.ddmanager.droppables[o.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t,e,n,i=T.ui.intersect(o,this,this.options.tolerance,s),r=!i&&this.isover?"isout":i&&!this.isover?"isover":null;r&&(this.options.greedy&&(e=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return T(this).droppable("instance").options.scope===e})).length&&((t=T(n[0]).droppable("instance")).greedyChild="isover"===r)),t&&"isover"===r&&(t.isover=!1,t.isout=!0,t._out.call(t,s)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,s),t&&"isout"===r&&(t.isout=!1,t.isover=!0,t._over.call(t,s)))}})},dragStop:function(t,e){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||T.ui.ddmanager.prepareOffsets(t,e)}},T.ui.droppable,T.widget("ui.resizable",T.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(t,e){if("hidden"===T(t).css("overflow"))return!1;var n=e&&"left"===e?"scrollLeft":"scrollTop",i=!1;return 0<t[n]||(t[n]=1,i=0<t[n],t[n]=0,i)},_create:function(){var t,e,n,i,r=this,o=this.options;if(this.element.addClass("ui-resizable"),T.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(T("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(T(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},e=0;t.length>e;e++)n=T.trim(t[e]),(i=T("<div class='ui-resizable-handle "+("ui-resizable-"+n)+"'></div>")).css({zIndex:o.zIndex}),"se"===n&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(i);this._renderAxis=function(t){var e,n,i,r;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String&&(this.handles[e]=this.element.children(this.handles[e]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=T(this.handles[e],this.element),r=/sw|ne|nw|se|n|s/.test(e)?n.outerHeight():n.outerWidth(),i=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(i,r),this._proportionallyResize()),T(this.handles[e]).length},this._renderAxis(this.element),this._handles=T(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=i&&i[1]?i[1]:"se")}),o.autoHide&&(this._handles.hide(),T(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(T(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){o.disabled||r.resizing||(T(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();function t(t){T(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()}var e;return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var e,n,i=!1;for(e in this.handles)(n=T(this.handles[e])[0])!==t.target&&!T.contains(n,t.target)||(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var e,n,i,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(e+=T(r.containment).scrollLeft()||0,n+=T(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:e,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=T(".ui-resizable-"+this.axis).css("cursor"),T("body").css("cursor","auto"===i?this.axis+"-resize":i),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,n,i=this.originalMousePosition,r=this.axis,o=t.pageX-i.left||0,s=t.pageY-i.top||0,a=this._change[r];return this._updatePrevProperties(),a&&(e=a.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),T.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,n,i,r,o,s,a,l=this.options,c=this;return this._helper&&(i=(n=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:c.sizeDiff.height,r=n?0:c.sizeDiff.width,o={width:c.helper.width()-r,height:c.helper.height()-i},s=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,a=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(T.extend(o,{top:a,left:s})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),T("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=a-e.minWidth),i&&c&&(t.left=a-e.maxWidth),s&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseInt(i[e],10)||0,n[e]+=parseInt(r[e],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||T("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(t,e,n){return T.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},sw:function(t,e,n){return T.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,n]))},ne:function(t,e,n){return T.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},nw:function(t,e,n){return T.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,n]))}},_propagate:function(t,e){T.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),T.ui.plugin.add("resizable","animate",{stop:function(e){var n=T(this).resizable("instance"),t=n.options,i=n._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),o=r&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,s=r?0:n.sizeDiff.width,a={width:n.size.width-s,height:n.size.height-o},l=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(T.extend(a,c&&l?{top:c,left:l}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&T(i[0]).css({width:t.width,height:t.height}),n._updateCache(t),n._propagate("resize",e)}})}}),T.ui.plugin.add("resizable","containment",{start:function(){var n,i,t,e,r,o,s,a=T(this).resizable("instance"),l=a.options,c=a.element,u=l.containment,h=u instanceof T?u.get(0):/parent/.test(u)?c.parent().get(0):u;h&&(a.containerElement=T(h),/document/.test(u)||u===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:T(document),left:0,top:0,width:T(document).width(),height:T(document).height()||document.body.parentNode.scrollHeight}):(n=T(h),i=[],T(["Top","Right","Left","Bottom"]).each(function(t,e){i[t]=a._num(n.css("padding"+e))}),a.containerOffset=n.offset(),a.containerPosition=n.position(),a.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},t=a.containerOffset,e=a.containerSize.height,r=a.containerSize.width,o=a._hasScroll(h,"left")?h.scrollWidth:r,s=a._hasScroll(h)?h.scrollHeight:e,a.parentData={element:h,left:t.left,top:t.top,width:o,height:s}))},resize:function(t){var e,n,i,r,o=T(this).resizable("instance"),s=o.options,a=o.containerOffset,l=o.position,c=o._aspectRatio||t.shiftKey,u={top:0,left:0},h=o.containerElement,d=!0;h[0]!==document&&/static/.test(h.css("position"))&&(u=a),l.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio,d=!1),o.position.left=s.helper?a.left:0),l.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio,d=!1),o.position.top=o._helper?a.top:0),i=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),i&&r?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),e=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-a.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-a.top)),e+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-e,c&&(o.size.height=o.size.width/o.aspectRatio,d=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,c&&(o.size.width=o.size.height*o.aspectRatio,d=!1)),d||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=T(this).resizable("instance"),e=t.options,n=t.containerOffset,i=t.containerPosition,r=t.containerElement,o=T(t.helper),s=o.offset(),a=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(r.css("position"))&&T(this).css({left:s.left-i.left-n.left,width:a,height:l}),t._helper&&!e.animate&&/static/.test(r.css("position"))&&T(this).css({left:s.left-i.left-n.left,width:a,height:l})}}),T.ui.plugin.add("resizable","alsoResize",{start:function(){function e(t){T(t).each(function(){var t=T(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})}var t=T(this).resizable("instance").options;"object"!=typeof t.alsoResize||t.alsoResize.parentNode?e(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],e(t.alsoResize)):T.each(t.alsoResize,function(t){e(t)})},resize:function(t,o){function n(t,n){T(t).each(function(){var t=T(this),i=T(this).data("ui-resizable-alsoresize"),r={},e=n&&n.length?n:t.parents(o.originalElement[0]).length?["width","height"]:["width","height","top","left"];T.each(e,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&0<=n&&(r[e]=n||null)}),t.css(r)})}var e=T(this).resizable("instance"),i=e.options,r=e.originalSize,s=e.originalPosition,a={height:e.size.height-r.height||0,width:e.size.width-r.width||0,top:e.position.top-s.top||0,left:e.position.left-s.left||0};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?n(i.alsoResize):T.each(i.alsoResize,function(t,e){n(t,e)})},stop:function(){T(this).removeData("resizable-alsoresize")}}),T.ui.plugin.add("resizable","ghost",{start:function(){var t=T(this).resizable("instance"),e=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=T(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=T(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),T.ui.plugin.add("resizable","grid",{resize:function(){var t,e=T(this).resizable("instance"),n=e.options,i=e.size,r=e.originalSize,o=e.originalPosition,s=e.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=a[0]||1,c=a[1]||1,u=Math.round((i.width-r.width)/l)*l,h=Math.round((i.height-r.height)/c)*c,d=r.width+u,f=r.height+h,p=n.maxWidth&&d>n.maxWidth,g=n.maxHeight&&f>n.maxHeight,m=n.minWidth&&n.minWidth>d,v=n.minHeight&&n.minHeight>f;n.grid=a,m&&(d+=l),v&&(f+=c),p&&(d-=l),g&&(f-=c),/^(se|s|e)$/.test(s)?(e.size.width=d,e.size.height=f):/^(ne)$/.test(s)?(e.size.width=d,e.size.height=f,e.position.top=o.top-h):/^(sw)$/.test(s)?(e.size.width=d,e.size.height=f,e.position.left=o.left-u):((f-c<=0||d-l<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<f-c?(e.size.height=f,e.position.top=o.top-h):(f=c-t.height,e.size.height=f,e.position.top=o.top+r.height-f),0<d-l?(e.size.width=d,e.position.left=o.left-u):(d=c-t.height,e.size.width=d,e.position.left=o.left+r.width-d))}}),T.ui.resizable,T.widget("ui.selectable",T.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,e=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=T(e.options.filter,e.element[0])).addClass("ui-selectee"),t.each(function(){var t=T(this),e=t.offset();T.data(this,"selectable-item",{element:this,$element:t,left:e.left,top:e.top,right:e.left+t.outerWidth(),bottom:e.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=T("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(n){var i=this,t=this.options;this.opos=[n.pageX,n.pageY],this.options.disabled||(this.selectees=T(t.filter,this.element[0]),this._trigger("start",n),T(t.appendTo).append(this.helper),this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=T.data(this,"selectable-item");t.startselected=!0,n.metaKey||n.ctrlKey||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element}))}),T(n.target).parents().addBack().each(function(){var t,e=T.data(this,"selectable-item");return e?(t=!n.metaKey&&!n.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(t?"ui-unselecting":"ui-selected").addClass(t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?i._trigger("selecting",n,{selecting:e.element}):i._trigger("unselecting",n,{unselecting:e.element}),!1):void 0}))},_mouseDrag:function(n){if(this.dragged=!0,!this.options.disabled){var t,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=n.pageX,l=n.pageY;return a<o&&(t=a,a=o,o=t),l<s&&(t=l,l=s,s=t),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var t=T.data(this,"selectable-item"),e=!1;t&&t.element!==i.element[0]&&("touch"===r.tolerance?e=!(t.left>a||o>t.right||t.top>l||s>t.bottom):"fit"===r.tolerance&&(e=t.left>o&&a>t.right&&t.top>s&&l>t.bottom),e?(t.selected&&(t.$element.removeClass("ui-selected"),t.selected=!1),t.unselecting&&(t.$element.removeClass("ui-unselecting"),t.unselecting=!1),t.selecting||(t.$element.addClass("ui-selecting"),t.selecting=!0,i._trigger("selecting",n,{selecting:t.element}))):(t.selecting&&((n.metaKey||n.ctrlKey)&&t.startselected?(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.$element.addClass("ui-selected"),t.selected=!0):(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.startselected&&(t.$element.addClass("ui-unselecting"),t.unselecting=!0),i._trigger("unselecting",n,{unselecting:t.element}))),t.selected&&(n.metaKey||n.ctrlKey||t.startselected||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,T(".ui-unselecting",this.element[0]).each(function(){var t=T.data(this,"selectable-item");t.$element.removeClass("ui-unselecting"),t.unselecting=!1,t.startselected=!1,n._trigger("unselected",e,{unselected:t.element})}),T(".ui-selecting",this.element[0]).each(function(){var t=T.data(this,"selectable-item");t.$element.removeClass("ui-selecting").addClass("ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,n._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),T.widget("ui.sortable",T.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return e<=t&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),T.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var n=null,i=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),T(t.target).parents().each(function(){return T.data(this,r.widgetName+"-item")===r?(n=T(this),!1):void 0}),T.data(t.target,r.widgetName+"-item")===r&&(n=T(t.target)),!!n&&(!(this.options.handle&&!e&&(T(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,n){var i,r,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},T.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=T("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return T.ui.ddmanager&&(T.ui.ddmanager.current=this),T.ui.ddmanager&&!o.dropBehaviour&&T.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,n,i,r,o=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-T(document).scrollTop()<o.scrollSensitivity?s=T(document).scrollTop(T(document).scrollTop()-o.scrollSpeed):T(window).height()-(t.pageY-T(document).scrollTop())<o.scrollSensitivity&&(s=T(document).scrollTop(T(document).scrollTop()+o.scrollSpeed)),t.pageX-T(document).scrollLeft()<o.scrollSensitivity?s=T(document).scrollLeft(T(document).scrollLeft()-o.scrollSpeed):T(window).width()-(t.pageX-T(document).scrollLeft())<o.scrollSensitivity&&(s=T(document).scrollLeft(T(document).scrollLeft()+o.scrollSpeed))),!1!==s&&T.ui.ddmanager&&!o.dropBehaviour&&T.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(i=(n=this.items[e]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==i&&!T.contains(this.placeholder[0],i)&&("semi-dynamic"!==this.options.type||!T.contains(this.element[0],i))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),T.ui.ddmanager&&T.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(T.ui.ddmanager&&!this.options.dropBehaviour&&T.ui.ddmanager.drop(this,t),this.options.revert){var n=this,i=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,T(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),T.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?T(this.domPosition.prev).after(this.currentItem):T(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},T(t).each(function(){var t=(T(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&n.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e.each(function(){n.push(T(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||a<i+c&&i+c<l,d="y"===this.options.axis||o<e+u&&e+u<s,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:e+this.helperProportions.width/2>o&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){function e(){s.push(this)}var n,i,r,o,s=[],a=[],l=this._connectWith();if(l&&t)for(n=l.length-1;0<=n;n--)for(i=(r=T(l[n])).length-1;0<=i;i--)(o=T.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([T.isFunction(o.options.items)?o.options.items.call(o.element):T(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([T.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):T(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;0<=n;n--)a[n][0].each(e);return T(s)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=T.grep(this.items,function(t){for(var e=0;n.length>e;e++)if(n[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,n,i,r,o,s,a,l,c=this.items,u=[[T.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):T(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(e=h.length-1;0<=e;e--)for(n=(i=T(h[e])).length-1;0<=n;n--)(r=T.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(u.push([T.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):T(r.options.items,r.element),r]),this.containers.push(r));for(e=u.length-1;0<=e;e--)for(o=u[e][1],n=0,l=(s=u[e][0]).length;n<l;n++)(a=T(s[n])).data(this.widgetName+"-item",o),c.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,n,i,r;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(n=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?T(this.options.toleranceElement,n.item):n.item,t||(n.width=i.outerWidth(),n.height=i.outerHeight()),r=i.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)r=this.containers[e].element.offset(),this.containers[e].containerCache.left=r.left,this.containers[e].containerCache.top=r.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(n){var i,r=(n=n||this).options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,r.placeholder={element:function(){var t=n.currentItem[0].nodeName.toLowerCase(),e=T("<"+t+">",n.document[0]).addClass(i||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===t?n.currentItem.children().each(function(){T("<td>&#160;</td>",n.document[0]).attr("colspan",T(this).attr("colspan")||1).appendTo(e)}):"img"===t&&e.attr("src",n.currentItem.attr("src")),i||e.css("visibility","hidden"),e},update:function(t,e){i&&!r.forcePlaceholderSize||(e.height()||e.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=T(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_contactContainers:function(t){var e,n,i,r,o,s,a,l,c,u,h=null,d=null;for(e=this.containers.length-1;0<=e;e--)if(!T.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(h&&T.contains(this.containers[e].element[0],h.element[0]))continue;h=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(i=1e4,r=null,o=(c=h.floating||this._isFloating(this.currentItem))?"left":"top",s=c?"width":"height",u=c?"clientX":"clientY",n=this.items.length-1;0<=n;n--)T.contains(this.containers[d].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(a=this.items[n].item.offset()[o],l=!1,t[u]-a>this.items[n][s]/2&&(l=!0),i>Math.abs(t[u]-a)&&(i=Math.abs(t[u]-a),r=this.items[n],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return;r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[d].element,!0),this._trigger("change",t,this._uiHash()),this.containers[d]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(t){var e=this.options,n=T.isFunction(e.helper)?T(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||T("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!e.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!e.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),T.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&T.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&T.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,T("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(T("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=T(i.containment)[0],e=T(i.containment).offset(),n="hidden"!==T(t).css("overflow"),this.containment=[e.left+(parseInt(T(t).css("borderLeftWidth"),10)||0)+(parseInt(T(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(T(t).css("borderTopWidth"),10)||0)+(parseInt(T(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(T(t).css("borderLeftWidth"),10)||0)-(parseInt(T(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(T(t).css("borderTopWidth"),10)||0)-(parseInt(T(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e=e||this.position;var n="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&T.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(t){var e,n,i=this.options,r=t.pageX,o=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&T.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(e=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-i.grid[1]:e+i.grid[1]:e,n=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(e,n,i){return function(t){i._trigger(e,t,n._uiHash(n))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;r.length>i;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;r.length>i;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return!(this.fromOutside=!1)},_trigger:function(){!1===T.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||T([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}})}),function(){var I={version:"3.5.12"},r=[].slice,h=function(t){return r.call(t)},b=this.document;function a(t){return t&&(t.ownerDocument||t.document||t).documentElement}function O(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(b)try{h(b.documentElement.childNodes)[0].nodeType}catch(t){h=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),b)try{b.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var e=this.Element.prototype,n=e.setAttribute,i=e.setAttributeNS,o=this.CSSStyleDeclaration.prototype,s=o.setProperty;e.setAttribute=function(t,e){n.call(this,t,e+"")},e.setAttributeNS=function(t,e,n){i.call(this,t,e,n+"")},o.setProperty=function(t,e,n){s.call(this,t,e+"",n)}}function l(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function c(t){return null===t?NaN:+t}function u(t){return!isNaN(t)}function t(o){return{left:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)<0?n=1+r:i=r}return n},right:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;0<o(t[r],e)?i=r:n=1+r}return n}}}I.ascending=l,I.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},I.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i<n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i<n&&(n=i)}return n},I.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n<i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n<i&&(n=i)}return n},I.extent=function(t,e){var n,i,r,o=-1,s=t.length;if(1===arguments.length){for(;++o<s;)if(null!=(i=t[o])&&i<=i){n=r=i;break}for(;++o<s;)null!=(i=t[o])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++o<s;)if(null!=(i=e.call(t,t[o],o))&&i<=i){n=r=i;break}for(;++o<s;)null!=(i=e.call(t,t[o],o))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},I.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)u(n=+t[o])&&(i+=n);else for(;++o<r;)u(n=+e.call(t,t[o],o))&&(i+=n);return i},I.mean=function(t,e){var n,i=0,r=t.length,o=-1,s=r;if(1===arguments.length)for(;++o<r;)u(n=c(t[o]))?i+=n:--s;else for(;++o<r;)u(n=c(e.call(t,t[o],o)))?i+=n:--s;if(s)return i/s},I.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},I.median=function(t,e){var n,i=[],r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)u(n=c(t[o]))&&i.push(n);else for(;++o<r;)u(n=c(e.call(t,t[o],o)))&&i.push(n);if(i.length)return I.quantile(i.sort(l),.5)},I.variance=function(t,e){var n,i,r=t.length,o=0,s=0,a=-1,l=0;if(1===arguments.length)for(;++a<r;)u(n=c(t[a]))&&(s+=(i=n-o)*(n-(o+=i/++l)));else for(;++a<r;)u(n=c(e.call(t,t[a],a)))&&(s+=(i=n-o)*(n-(o+=i/++l)));if(1<l)return s/(l-1)},I.deviation=function(){var t=I.variance.apply(this,arguments);return t?Math.sqrt(t):t};var d=t(l);function f(t){return t.length}I.bisectLeft=d.left,I.bisect=I.bisectRight=d.right,I.bisector=function(n){return t(1===n.length?function(t,e){return l(n(t),e)}:n)},I.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},I.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},I.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},I.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=I.min(arguments,f),n=new Array(e);++t<e;)for(var i,r=-1,o=n[t]=new Array(i);++r<i;)o[r]=arguments[r][t];return n},I.transpose=function(t){return I.zip.apply(I,t)},I.keys=function(t){var e=[];for(var n in t)e.push(n);return e},I.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},I.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},I.merge=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--s]=i[e];return n};var P=Math.abs;function p(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function y(){this._=Object.create(null)}I.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],o=function(t){var e=1;for(;t*e%1;)e*=10;return e}(P(n)),s=-1;if(t*=o,e*=o,(n*=o)<0)for(;(i=t+n*++s)>e;)r.push(i/o);else for(;(i=t+n*++s)<e;)r.push(i/o);return r},I.map=function(t,e){var n=new y;if(t instanceof y)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var s in t)n.set(s,t[s]);return n};var g="__proto__",m="\0";function v(t){return(t+="")===g||t[0]===m?m+t:t}function w(t){return(t+="")[0]===m?t.slice(1):t}function x(t){return v(t)in this._}function _(t){return(t=v(t))in this._&&delete this._[t]}function C(){var t=[];for(var e in this._)t.push(w(e));return t}function k(){var t=0;for(var e in this._)++t;return t}function S(){for(var t in this._)return!1;return!0}function D(){this._=Object.create(null)}function R(t){return t}function E(e,n,i){return function(){var t=i.apply(n,arguments);return t===n?e:t}}function T(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=M.length;n<i;++n){var r=M[n]+e;if(r in t)return r}}p(y,{has:x,get:function(t){return this._[v(t)]},set:function(t,e){return this._[v(t)]=e},remove:_,keys:C,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:w(e),value:this._[e]});return t},size:k,empty:S,forEach:function(t){for(var e in this._)t.call(this,w(e),this._[e])}}),I.nest=function(){var h,d,f={},p=[],e=[];function g(n,t,i){if(i>=p.length)return d?d.call(f,t):h?t.sort(h):t;for(var e,r,o,s,a=-1,l=t.length,c=p[i++],u=new y;++a<l;)(s=u.get(e=c(r=t[a])))?s.push(r):u.set(e,[r]);return o=n?(r=n(),function(t,e){r.set(t,g(n,e,i))}):(r={},function(t,e){r[t]=g(n,e,i)}),u.forEach(o),r}return f.map=function(t,e){return g(e,t,0)},f.entries=function(t){return function n(t,i){if(i>=p.length)return t;var r=[],o=e[i++];return t.forEach(function(t,e){r.push({key:t,values:n(e,i)})}),o?r.sort(function(t,e){return o(t.key,e.key)}):r}(g(I.map,t,0),0)},f.key=function(t){return p.push(t),f},f.sortKeys=function(t){return e[p.length-1]=t,f},f.sortValues=function(t){return h=t,f},f.rollup=function(t){return d=t,f},f},I.set=function(t){var e=new D;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},p(D,{has:x,add:function(t){return this._[v(t+="")]=!0,t},remove:_,values:C,size:k,empty:S,forEach:function(t){for(var e in this._)t.call(this,w(e))}}),I.behavior={},I.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=E(t,e,e[n]);return t};var M=["webkit","ms","moz","Moz","o","O"];function $(){}function N(){}function A(r){var o=[],s=new y;function t(){for(var t,e=o,n=-1,i=e.length;++n<i;)(t=e[n].on)&&t.apply(this,arguments);return r}return t.on=function(t,e){var n,i=s.get(t);return arguments.length<2?i&&i.on:(i&&(i.on=null,o=o.slice(0,n=o.indexOf(i)).concat(o.slice(n+1)),s.remove(t)),e&&o.push(s.set(t,{on:e})),r)},t}function L(){I.event.preventDefault()}function H(){for(var t,e=I.event;t=e.sourceEvent;)e=t;return e}function F(r){for(var o=new N,t=0,e=arguments.length;++t<e;)o[arguments[t]]=A(o);return o.of=function(n,i){return function(t){try{var e=t.sourceEvent=I.event;t.target=r,I.event=t,o[t.type].apply(n,i)}finally{I.event=e}}},o}I.dispatch=function(){for(var t=new N,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=A(t);return t},N.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(0<=n&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},I.event=null,I.requote=function(t){return t.replace(z,"\\$&")};var z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,j={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function W(t){return j(t,U),t}var B=function(t,e){return e.querySelector(t)},Y=function(t,e){return e.querySelectorAll(t)},q=function(t,e){var n=t.matches||t[T(t,"matchesSelector")];return(q=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(B=function(t,e){return Sizzle(t,e)[0]||null},Y=Sizzle,q=Sizzle.matchesSelector),I.selection=function(){return I.select(b.documentElement)};var U=I.selection.prototype=[];function V(t){return"function"==typeof t?t:function(){return B(t,this)}}function G(t){return"function"==typeof t?t:function(){return Y(t,this)}}U.select=function(t){var e,n,i,r,o=[];t=V(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(i=this[s]).parentNode;for(var l=-1,c=i.length;++l<c;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,s)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return W(o)},U.selectAll=function(t){var e,n,i=[];t=G(t);for(var r=-1,o=this.length;++r<o;)for(var s=this[r],a=-1,l=s.length;++a<l;)(n=s[a])&&(i.push(e=h(t.call(n,n.__data__,a,r))),e.parentNode=n);return W(i)};var X={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function K(e,n){return e=I.ns.qualify(e),null==n?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof n?e.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,n)}:function(){this.setAttribute(e,n)}}function Q(t){return t.trim().replace(/\s+/g," ")}function Z(t){return new RegExp("(?:^|\\s+)"+I.requote(t)+"(?:\\s+|$)","g")}function J(t){return(t+"").trim().split(/^|\s+/)}function tt(n,i){var r=(n=J(n).map(et)).length;return"function"==typeof i?function(){for(var t=-1,e=i.apply(this,arguments);++t<r;)n[t](this,e)}:function(){for(var t=-1;++t<r;)n[t](this,i)}}function et(i){var r=Z(i);return function(t,e){if(n=t.classList)return e?n.add(i):n.remove(i);var n=t.getAttribute("class")||"";e?(r.lastIndex=0,r.test(n)||t.setAttribute("class",Q(n+" "+i))):t.setAttribute("class",Q(n.replace(r," ")))}}function nt(e,n,i){return null==n?function(){this.style.removeProperty(e)}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}:function(){this.style.setProperty(e,n,i)}}function it(e,n){return null==n?function(){delete this[e]}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}:function(){this[e]=n}}function rt(n){return"function"==typeof n?n:(n=I.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){var t=this.ownerDocument,e=this.namespaceURI;return e?t.createElementNS(e,n):t.createElement(n)}}function ot(){var t=this.parentNode;t&&t.removeChild(this)}function st(t){return{__data__:t}}function at(t){return function(){return q(this,t)}}function lt(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,o=t[n],s=0,a=o.length;s<a;s++)(r=o[s])&&e(r,s,n);return t}function ct(t){return j(t,ut),t}I.ns={prefix:X,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),X.hasOwnProperty(n)?{space:X[n],local:t}:t}},U.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=I.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(K(e,t[e]));return this}return this.each(K(t,e))},U.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=J(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!Z(t[r]).test(e))return!1;return!0}for(e in t)this.each(tt(e,t[e]));return this}return this.each(tt(t,e))},U.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(nt(n,t[n],e));return this}if(i<2){var r=this.node();return O(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(nt(t,e,n))},U.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(it(e,t[e]));return this}return this.each(it(t,e))},U.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},U.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},U.append=function(t){return t=rt(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},U.insert=function(t,e){return t=rt(t),e=V(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},U.remove=function(){return this.each(ot)},U.data=function(t,p){var e,n,i=-1,r=this.length;if(!arguments.length){for(t=new Array(r=(e=this[0]).length);++i<r;)(n=e[i])&&(t[i]=n.__data__);return t}function o(t,e){var n,i,r,o=t.length,s=e.length,a=Math.min(o,s),l=new Array(s),c=new Array(s),u=new Array(o);if(p){var h,d=new y,f=new Array(o);for(n=-1;++n<o;)(i=t[n])&&(d.has(h=p.call(i,i.__data__,n))?u[n]=i:d.set(h,i),f[n]=h);for(n=-1;++n<s;)(i=d.get(h=p.call(e,r=e[n],n)))?!0!==i&&((l[n]=i).__data__=r):c[n]=st(r),d.set(h,!0);for(n=-1;++n<o;)n in f&&!0!==d.get(f[n])&&(u[n]=t[n])}else{for(n=-1;++n<a;)i=t[n],r=e[n],i?(i.__data__=r,l[n]=i):c[n]=st(r);for(;n<s;++n)c[n]=st(e[n]);for(;n<o;++n)u[n]=t[n]}c.update=l,c.parentNode=l.parentNode=u.parentNode=t.parentNode,g.push(c),m.push(l),v.push(u)}var g=ct([]),m=W([]),v=W([]);if("function"==typeof t)for(;++i<r;)o(e=this[i],t.call(e,e.parentNode.__data__,i));else for(;++i<r;)o(e=this[i],t);return m.enter=function(){return g},m.exit=function(){return v},m},U.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},U.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=at(t));for(var o=0,s=this.length;o<s;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var a=0,l=n.length;a<l;a++)(i=n[a])&&t.call(i,i.__data__,a,o)&&e.push(i)}return W(r)},U.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];0<=--r;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},U.sort=function(t){t=function(n){arguments.length||(n=l);return function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},U.each=function(i){return lt(this,function(t,e,n){i.call(t,t.__data__,e,n)})},U.call=function(t){var e=h(arguments);return t.apply(e[0]=this,e),this},U.empty=function(){return!this.node()},U.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},U.size=function(){var t=0;return lt(this,function(){++t}),t};var ut=[];function ht(r,e,n){var i="__on"+r,t=r.indexOf("."),o=ft;0<t&&(r=r.slice(0,t));var s=dt.get(r);function a(){var t=this[i];t&&(this.removeEventListener(r,t,t.$),delete this[i])}return s&&(r=s,o=pt),t?e?function(){var t=o(e,h(arguments));a.call(this),this.addEventListener(r,this[i]=t,t.$=n),t._=e}:a:e?$:function(){var t,e=new RegExp("^__on([^.]+)"+I.requote(r)+"$");for(var n in this)if(t=n.match(e)){var i=this[n];this.removeEventListener(t[1],i,i.$),delete this[n]}}}I.selection.enter=ct,(I.selection.enter.prototype=ut).append=U.append,ut.empty=U.empty,ut.node=U.node,ut.call=U.call,ut.size=U.size,ut.select=function(t){for(var e,n,i,r,o,s=[],a=-1,l=this.length;++a<l;){i=(r=this[a]).update,s.push(e=[]),e.parentNode=r.parentNode;for(var c=-1,u=r.length;++c<u;)(o=r[c])?(e.push(i[c]=n=t.call(r.parentNode,o.__data__,c,a)),n.__data__=o.__data__):e.push(null)}return W(s)},ut.insert=function(t,e){return arguments.length<2&&(e=function(s){var a,l;return function(t,e,n){var i,r=s[n].update,o=r.length;for(n!=l&&(l=n,a=0),a<=e&&(a=e+1);!(i=r[a])&&++a<o;);return i}}(this)),U.insert.call(this,t,e)},I.select=function(t){var e;return"string"==typeof t?(e=[B(t,b)]).parentNode=b.documentElement:(e=[t]).parentNode=a(t),W([e])},I.selectAll=function(t){var e;return"string"==typeof t?(e=h(Y(t,b))).parentNode=b.documentElement:(e=h(t)).parentNode=null,W([e])},U.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(ht(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(ht(t,e,n))};var dt=I.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ft(n,i){return function(t){var e=I.event;I.event=t,i[0]=this.__data__;try{n.apply(this,i)}finally{I.event=e}}}function pt(t,e){var n=ft(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}b&&dt.forEach(function(t){"on"+t in b&&dt.remove(t)});var gt,mt=0;function vt(t){var n=".dragsuppress-"+ ++mt,i="click"+n,r=I.select(O(t)).on("touchmove"+n,L).on("dragstart"+n,L).on("selectstart"+n,L);if(null==gt&&(gt=!("onselectstart"in t)&&T(t.style,"userSelect")),gt){var o=a(t).style,s=o[gt];o[gt]="none"}return function(t){if(r.on(n,null),gt&&(o[gt]=s),t){function e(){r.on(i,null)}r.on(i,function(){L(),e()},!0),setTimeout(e,0)}}}I.mouse=function(t){return bt(t,H())};var yt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function bt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(yt<0){var r=O(t);if(r.scrollX||r.scrollY){var o=(n=I.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();yt=!(o.f||o.e),n.remove()}}return yt?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function wt(){return I.event.changedTouches[0].identifier}I.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=H().changedTouches),e)for(var i,r=0,o=e.length;r<o;++r)if((i=e[r]).identifier===n)return bt(t,i)},I.behavior.drag=function(){var g=F(n,"drag","dragstart","dragend"),m=null,t=i($,I.mouse,O,"mousemove","mouseup"),e=i(wt,I.touch,R,"touchmove","touchend");function n(){this.on("mousedown.drag",t).on("touchstart.drag",e)}function i(u,h,d,f,p){return function(){var i,t=I.event.target,r=this.parentNode,o=g.of(this,arguments),s=0,a=u(),e=".drag"+(null==a?"":"-"+a),n=I.select(d(t)).on(f+e,function(){var t,e,n=h(r,a);if(!n)return;t=n[0]-c[0],e=n[1]-c[1],s|=t|e,o({type:"drag",x:(c=n)[0]+i[0],y:n[1]+i[1],dx:t,dy:e})}).on(p+e,function(){if(!h(r,a))return;n.on(f+e,null).on(p+e,null),l(s),o({type:"dragend"})}),l=vt(t),c=h(r,a);i=m?[(i=m.apply(this,arguments)).x-c[0],i.y-c[1]]:[0,0],o({type:"dragstart"})}}return n.origin=function(t){return arguments.length?(m=t,n):m},I.rebind(n,g,"on")},I.touches=function(n,t){return arguments.length<2&&(t=H().touches),t?h(t).map(function(t){var e=bt(n,t);return e.identifier=t.identifier,e}):[]};var xt=1e-6,_t=xt*xt,Ct=Math.PI,kt=2*Ct,St=kt-xt,Dt=Ct/2,Et=Ct/180,Tt=180/Ct;function Mt(t){return 0<t?1:t<0?-1:0}function $t(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Nt(t){return 1<t?0:t<-1?Ct:Math.acos(t)}function At(t){return 1<t?Dt:t<-1?-Dt:Math.asin(t)}function Pt(t){return((t=Math.exp(t))+1/t)/2}function It(t){return(t=Math.sin(t/2))*t}var Ot=Math.SQRT2;I.interpolateZoom=function(t,e){var n,r,o=t[0],s=t[1],a=t[2],i=e[0],l=e[1],c=e[2],u=i-o,h=l-s,d=u*u+h*h;if(d<_t)r=Math.log(c/a)/Ot,n=function(t){return[o+t*u,s+t*h,a*Math.exp(Ot*t*r)]};else{var f=Math.sqrt(d),p=(c*c-a*a+4*d)/(2*a*2*f),g=(c*c-a*a-4*d)/(2*c*2*f),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/Ot,n=function(t){var e=t*r,n=Pt(m),i=a/(2*f)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Ot*e+m)-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[o+i*u,s+i*h,a*n/Pt(Ot*e+m)]}}return n.duration=1e3*r,n},I.behavior.zoom=function(){var e,l,n,i,w,r,o,s,a,x={x:0,y:0,k:1},c=[960,500],u=Ht,h=250,d=0,_="mousedown.zoom",f="mousemove.zoom",p="mouseup.zoom",C="touchstart.zoom",k=F(g,"zoomstart","zoom","zoomend");function g(t){t.on(_,A).on(Lt+".zoom",v).on("dblclick.zoom",y).on(C,P)}function S(t){return[(t[0]-x.x)/x.k,(t[1]-x.y)/x.k]}function D(t){x.k=Math.max(u[0],Math.min(u[1],t))}function E(t,e){e=function(t){return[t[0]*x.k+x.x,t[1]*x.k+x.y]}(e),x.x+=t[0]-e[0],x.y+=t[1]-e[1]}function T(t,e,n,i){t.__chart__={x:x.x,y:x.y,k:x.k},D(Math.pow(2,i)),E(l=e,n),t=I.select(t),0<h&&(t=t.transition().duration(h)),t.call(g.event)}function m(){o&&o.domain(r.range().map(function(t){return(t-x.x)/x.k}).map(r.invert)),a&&a.domain(s.range().map(function(t){return(t-x.y)/x.k}).map(s.invert))}function M(t){d++||t({type:"zoomstart"})}function $(t){m(),t({type:"zoom",scale:x.k,translate:[x.x,x.y]})}function N(t){--d||(t({type:"zoomend"}),l=null)}function A(){var t=this,e=k.of(t,arguments),n=0,i=I.select(O(t)).on(f,function(){n=1,E(I.mouse(t),r),$(e)}).on(p,function(){i.on(f,null).on(p,null),o(n),N(e)}),r=S(I.mouse(t)),o=vt(t);Pa.call(t),M(e)}function P(){var c,u=this,h=k.of(u,arguments),d={},f=0,r=".zoom-"+I.event.changedTouches[0].identifier,p="touchmove"+r,g="touchend"+r,m=[],o=I.select(u),s=vt(u);function v(){var t=I.touches(u);return c=x.k,t.forEach(function(t){t.identifier in d&&(d[t.identifier]=S(t))}),t}function t(){var t=I.event.target;I.select(t).on(p,y).on(g,b),m.push(t);for(var e=I.event.changedTouches,n=0,i=e.length;n<i;++n)d[e[n].identifier]=null;var r=v(),o=Date.now();if(1===r.length){if(o-w<500){var s=r[0];T(u,s,d[s.identifier],Math.floor(Math.log(x.k)/Math.LN2)+1),L()}w=o}else if(1<r.length){s=r[0];var a=r[1],l=s[0]-a[0],c=s[1]-a[1];f=l*l+c*c}}function y(){var t,e,n,i,r=I.touches(u);Pa.call(u);for(var o=0,s=r.length;o<s;++o,i=null)if(n=r[o],i=d[n.identifier]){if(e)break;t=n,e=i}if(i){var a=(a=n[0]-t[0])*a+(a=n[1]-t[1])*a,l=f&&Math.sqrt(a/f);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],D(l*c)}w=null,E(t,e),$(h)}function b(){if(I.event.touches.length){for(var t=I.event.changedTouches,e=0,n=t.length;e<n;++e)delete d[t[e].identifier];for(var i in d)return void v()}I.selectAll(m).on(r,null),o.on(_,A).on(C,P),s(),N(h)}t(),M(h),o.on(_,null).on(C,t)}function v(){var t=k.of(this,arguments);i?clearTimeout(i):(Pa.call(this),e=S(l=n||I.mouse(this)),M(t)),i=setTimeout(function(){i=null,N(t)},50),L(),D(Math.pow(2,.002*Rt())*x.k),E(l,e),$(t)}function y(){var t=I.mouse(this),e=Math.log(x.k)/Math.LN2;T(this,t,S(t),I.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Lt=Lt||("onwheel"in b?(Rt=function(){return-I.event.deltaY*(I.event.deltaMode?120:1)},"wheel"):"onmousewheel"in b?(Rt=function(){return I.event.wheelDelta},"mousewheel"):(Rt=function(){return-I.event.detail},"MozMousePixelScroll")),g.event=function(t){t.each(function(){var a=k.of(this,arguments),e=x;Ra?I.select(this).transition().each("start.zoom",function(){x=this.__chart__||{x:0,y:0,k:1},M(a)}).tween("zoom:zoom",function(){var i=c[0],t=c[1],r=l?l[0]:i/2,o=l?l[1]:t/2,s=I.interpolateZoom([(r-x.x)/x.k,(o-x.y)/x.k,i/x.k],[(r-e.x)/e.k,(o-e.y)/e.k,i/e.k]);return function(t){var e=s(t),n=i/e[2];this.__chart__=x={x:r-e[0]*n,y:o-e[1]*n,k:n},$(a)}}).each("interrupt.zoom",function(){N(a)}).each("end.zoom",function(){N(a)}):(this.__chart__=x,M(a),$(a),N(a))})},g.translate=function(t){return arguments.length?(x={x:+t[0],y:+t[1],k:x.k},m(),g):[x.x,x.y]},g.scale=function(t){return arguments.length?(x={x:x.x,y:x.y,k:null},D(+t),m(),g):x.k},g.scaleExtent=function(t){return arguments.length?(u=null==t?Ht:[+t[0],+t[1]],g):u},g.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],g):n},g.size=function(t){return arguments.length?(c=t&&[+t[0],+t[1]],g):c},g.duration=function(t){return arguments.length?(h=+t,g):h},g.x=function(t){return arguments.length?(r=(o=t).copy(),x={x:0,y:0,k:1},g):o},g.y=function(t){return arguments.length?(s=(a=t).copy(),x={x:0,y:0,k:1},g):a},I.rebind(g,k,"on")};var Rt,Lt,Ht=[0,1/0];function Ft(){}function zt(t,e,n){return this instanceof zt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof zt?new zt(t.h,t.s,t.l):le(""+t,ce,zt):new zt(t,e,n)}(I.color=Ft).prototype.toString=function(){return this.rgb()+""};var jt=(I.hsl=zt).prototype=new Ft;function Wt(t,e,n){var i,r;function o(t){return Math.round(255*function(t){return 360<t?t-=360:t<0&&(t+=360),t<60?i+(r-i)*t/60:t<180?r:t<240?i+(r-i)*(240-t)/60:i}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,i=2*(n=n<0?0:1<n?1:n)-(r=n<=.5?n*(1+e):n+e-n*e),new ie(o(t+120),o(t),o(t-120))}function Bt(t,e,n){return this instanceof Bt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Bt?new Bt(t.h,t.c,t.l):Jt(t instanceof Ut?t.l:(t=ue((t=I.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Bt(t,e,n)}jt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new zt(this.h,this.s,this.l/t)},jt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new zt(this.h,this.s,t*this.l)},jt.rgb=function(){return Wt(this.h,this.s,this.l)};var Yt=(I.hcl=Bt).prototype=new Ft;function qt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Ut(n,Math.cos(t*=Et)*e,Math.sin(t)*e)}function Ut(t,e,n){return this instanceof Ut?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Ut?new Ut(t.l,t.a,t.b):t instanceof Bt?qt(t.h,t.c,t.l):ue((t=ie(t)).r,t.g,t.b):new Ut(t,e,n)}Yt.brighter=function(t){return new Bt(this.h,this.c,Math.min(100,this.l+Vt*(arguments.length?t:1)))},Yt.darker=function(t){return new Bt(this.h,this.c,Math.max(0,this.l-Vt*(arguments.length?t:1)))},Yt.rgb=function(){return qt(this.h,this.c,this.l).rgb()},I.lab=Ut;var Vt=18,Gt=.95047,Xt=1,Kt=1.08883,Qt=Ut.prototype=new Ft;function Zt(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return new ie(ne(3.2404542*(r=te(r)*Gt)-1.5371385*(i=te(i)*Xt)-.4985314*(o=te(o)*Kt)),ne(-.969266*r+1.8760108*i+.041556*o),ne(.0556434*r-.2040259*i+1.0572252*o))}function Jt(t,e,n){return 0<t?new Bt(Math.atan2(n,e)*Tt,Math.sqrt(e*e+n*n),t):new Bt(NaN,NaN,t)}function te(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function ee(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function ne(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ie(t,e,n){return this instanceof ie?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ie?new ie(t.r,t.g,t.b):le(""+t,ie,Wt):new ie(t,e,n)}function re(t){return new ie(t>>16,t>>8&255,255&t)}function oe(t){return re(t)+""}Qt.brighter=function(t){return new Ut(Math.min(100,this.l+Vt*(arguments.length?t:1)),this.a,this.b)},Qt.darker=function(t){return new Ut(Math.max(0,this.l-Vt*(arguments.length?t:1)),this.a,this.b)},Qt.rgb=function(){return Zt(this.l,this.a,this.b)};var se=(I.rgb=ie).prototype=new Ft;function ae(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function le(t,e,n){var i,r,o,s=0,a=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(de(r[0]),de(r[1]),de(r[2]))}return(o=fe.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&o)>>4,s|=s>>4,a=240&o,a|=a>>4,l=15&o,l|=l<<4):7===t.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,l=255&o)),e(s,a,l))}function ce(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-o,l=(s+o)/2;return a?(r=l<.5?a/(s+o):a/(2-s-o),i=t==s?(e-n)/a+(e<n?6:0):e==s?(n-t)/a+2:(t-e)/a+4,i*=60):(i=NaN,r=0<l&&l<1?0:i),new zt(i,r,l)}function ue(t,e,n){var i=ee((.4124564*(t=he(t))+.3575761*(e=he(e))+.1804375*(n=he(n)))/Gt),r=ee((.2126729*t+.7151522*e+.072175*n)/Xt);return Ut(116*r-16,500*(i-r),200*(r-ee((.0193339*t+.119192*e+.9503041*n)/Kt)))}function he(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function de(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}se.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b;return e||n||i?(e&&e<30&&(e=30),n&&n<30&&(n=30),i&&i<30&&(i=30),new ie(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new ie(30,30,30)},se.darker=function(t){return new ie((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},se.hsl=function(){return ce(this.r,this.g,this.b)},se.toString=function(){return"#"+ae(this.r)+ae(this.g)+ae(this.b)};var fe=I.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function pe(t){return"function"==typeof t?t:function(){return t}}function ge(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),me(t,e,i,n)}}function me(r,o,n,t){var s={},a=I.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;function e(){var t,e=c.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(c)||200<=e&&e<300||304===e){try{t=n.call(s,c)}catch(t){return void a.error.call(s,t)}a.load.call(s,t)}else a.error.call(s,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(r)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=e:c.onreadystatechange=function(){3<c.readyState&&e()},c.onprogress=function(t){var e=I.event;I.event=t;try{a.progress.call(s,c)}finally{I.event=e}},s.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",s)},s.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",s):o},s.responseType=function(t){return arguments.length?(u=t,s):u},s.response=function(t){return n=t,s},["get","post"].forEach(function(t){s[t]=function(){return s.send.apply(s,[t].concat(h(arguments)))}}),s.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),c.open(t,r,!0),null==o||"accept"in l||(l.accept=o+",*/*"),c.setRequestHeader)for(var i in l)c.setRequestHeader(i,l[i]);return null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=u&&(c.responseType=u),null!=n&&s.on("error",n).on("load",function(t){n(null,t)}),a.beforesend.call(s,c),c.send(null==e?null:e),s},s.abort=function(){return c.abort(),s},I.rebind(s,a,"on"),null==t?s:s.get(function(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}(t))}fe.forEach(function(t,e){fe.set(t,re(e))}),I.functor=pe,I.xhr=ge(R),I.dsv=function(r,o){var e=new RegExp('["'+r+"\n]"),d=r.charCodeAt(0);function s(t,e,n){arguments.length<3&&(n=e,e=null);var i=me(t,o,null==e?a:l(e),n);return i.row=function(t){return arguments.length?i.response(null==(e=t)?a:l(t)):e},i}function a(t){return s.parse(t.responseText)}function l(e){return function(t){return s.parse(t.responseText,e)}}function n(t){return t.map(c).join(r)}function c(t){return e.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return s.parse=function(t,i){var r;return s.parseRows(t,function(t,e){if(r)return r(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=i?function(t,e){return i(n(t),e)}:n})},s.parseRows=function(r,t){var e,o,s={},a={},n=[],l=r.length,c=0,i=0;function u(){if(l<=c)return a;if(o)return o=!1,s;var t=c;if(34===r.charCodeAt(t)){for(var e=t;e++<l;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return c=e+2,13===(n=r.charCodeAt(e+1))?(o=!0,10===r.charCodeAt(e+2)&&++c):10===n&&(o=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;c<l;){var n,i=1;if(10===(n=r.charCodeAt(c++)))o=!0;else if(13===n)o=!0,10===r.charCodeAt(c)&&(++c,++i);else if(n!==d)continue;return r.slice(t,c-i)}return r.slice(t)}for(;(e=u())!==a;){for(var h=[];e!==s&&e!==a;)h.push(e),e=u();t&&null==(h=t(h,i++))||n.push(h)}return n},s.format=function(t){if(Array.isArray(t[0]))return s.formatRows(t);var n=new D,i=[];return t.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(c).join(r)].concat(t.map(function(e){return i.map(function(t){return c(e[t])}).join(r)})).join("\n")},s.formatRows=function(t){return t.map(n).join("\n")},s},I.csv=I.dsv(",","text/csv"),I.tsv=I.dsv(" ","text/tab-separated-values");var ve,ye,be,we,xe=this[T(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function _e(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,n:null};return ye?ye.n=r:ve=r,ye=r,be||(we=clearTimeout(we),be=1,xe(Ce)),r}function Ce(){var t=ke(),e=Se()-t;24<e?(isFinite(e)&&(clearTimeout(we),we=setTimeout(Ce,e)),be=0):(be=1,xe(Ce))}function ke(){for(var t=Date.now(),e=ve;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Se(){for(var t,e=ve,n=1/0;e;)e=e.c?(e.t<n&&(n=e.t),(t=e).n):t?t.n=e.n:ve=e.n;return ye=t,n}function De(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}I.timer=function(){_e.apply(this,arguments)},I.timer.flush=function(){ke(),Se()},I.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ee=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*P(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}});I.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=I.round(t,De(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ee[8+n/3]};var Te=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Me=I.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=I.round(t,De(t,e))).toFixed(Math.max(0,Math.min(20,De(t*(1+1e-15),e))))}});function $e(t){return t+""}var Ne=I.time={},Ae=Date;function Pe(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}Pe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ie.setUTCDate.apply(this._,arguments)},setDay:function(){Ie.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ie.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ie.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ie.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ie.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ie.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ie.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ie.setTime.apply(this._,arguments)}};var Ie=Date.prototype;function Oe(i,o,s){function t(t){var e=i(t),n=r(e,1);return t-e<n-t?e:n}function a(t){return o(t=i(new Ae(t-1)),1),t}function r(t,e){return o(t=new Ae(+t),e),t}function l(t,e,n){var i=a(t),r=[];if(1<n)for(;i<e;)s(i)%n||r.push(new Date(+i)),o(i,1);else for(;i<e;)r.push(new Date(+i)),o(i,1);return r}(i.floor=i).round=t,i.ceil=a,i.offset=r,i.range=l;var e=i.utc=Re(i);return(e.floor=e).round=Re(t),e.ceil=Re(a),e.offset=Re(r),e.range=function(t,e,n){try{var i=new(Ae=Pe);return i._=t,l(i,e,n)}finally{Ae=Date}},i}function Re(i){return function(t,e){try{var n=new(Ae=Pe);return n._=t,i(n,e)._}finally{Ae=Date}}}function Le(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths;function c(a){var l=a.length;function t(t){for(var e,n,i,r=[],o=-1,s=0;++o<l;)37===a.charCodeAt(o)&&(r.push(a.slice(s,o)),null!=(n=He[e=a.charAt(++o)])&&(e=a.charAt(++o)),(i=w[e])&&(e=i(t,null==n?"e"===e?" ":"0":n)),r.push(e),s=o+1);return r.push(a.slice(s,o)),r.join("")}return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(u(e,a,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&Ae!==Pe,i=new(n?Pe:Ae);return"j"in e?i.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?i._:i},t.toString=function(){return a},t}function u(t,e,n,i){for(var r,o,s,a=0,l=e.length,c=n.length;a<l;){if(c<=i)return-1;if(37===(r=e.charCodeAt(a++))){if(s=e.charAt(a++),!(o=x[s in He?e.charAt(a++):s])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}c.multi=(c.utc=function(t){var n=c(t);function e(t){try{var e=new(Ae=Pe);return e._=t,n(e)}finally{Ae=Date}}return e.parse=function(t){try{Ae=Pe;var e=n.parse(t);return e&&e._}finally{Ae=Date}},e.toString=n.toString,e}).multi=sn;var h=I.map(),d=We(o),f=Be(o),p=We(s),g=Be(s),m=We(a),v=Be(a),y=We(l),b=Be(l);r.forEach(function(t,e){h.set(t.toLowerCase(),e)});var w={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:c(e),d:function(t,e){return je(t.getDate(),e,2)},e:function(t,e){return je(t.getDate(),e,2)},H:function(t,e){return je(t.getHours(),e,2)},I:function(t,e){return je(t.getHours()%12||12,e,2)},j:function(t,e){return je(1+Ne.dayOfYear(t),e,3)},L:function(t,e){return je(t.getMilliseconds(),e,3)},m:function(t,e){return je(t.getMonth()+1,e,2)},M:function(t,e){return je(t.getMinutes(),e,2)},p:function(t){return r[+(12<=t.getHours())]},S:function(t,e){return je(t.getSeconds(),e,2)},U:function(t,e){return je(Ne.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return je(Ne.mondayOfYear(t),e,2)},x:c(n),X:c(i),y:function(t,e){return je(t.getFullYear()%100,e,2)},Y:function(t,e){return je(t.getFullYear()%1e4,e,4)},Z:rn,"%":function(){return"%"}},x={a:function(t,e,n){p.lastIndex=0;var i=p.exec(e.slice(n));return i?(t.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){d.lastIndex=0;var i=d.exec(e.slice(n));return i?(t.w=f.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){y.lastIndex=0;var i=y.exec(e.slice(n));return i?(t.m=b.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){m.lastIndex=0;var i=m.exec(e.slice(n));return i?(t.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,e,n){return u(t,w.c.toString(),e,n)},d:Qe,e:Qe,H:Je,I:Je,j:Ze,L:nn,m:Ke,M:tn,p:function(t,e,n){var i=h.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:en,U:qe,w:Ye,W:Ue,x:function(t,e,n){return u(t,w.x.toString(),e,n)},X:function(t,e,n){return u(t,w.X.toString(),e,n)},y:Ge,Y:Ve,Z:Xe,"%":on};return c}Ne.year=Oe(function(t){return(t=Ne.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Ne.years=Ne.year.range,Ne.years.utc=Ne.year.utc.range,Ne.day=Oe(function(t){var e=new Ae(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Ne.days=Ne.day.range,Ne.days.utc=Ne.day.utc.range,Ne.dayOfYear=function(t){var e=Ne.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=Ne[t]=Oe(function(t){return(t=Ne.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=Ne.year(t).getDay();return Math.floor((Ne.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});Ne[t+"s"]=e.range,Ne[t+"s"].utc=e.utc.range,Ne[t+"OfYear"]=function(t){var e=Ne.year(t).getDay();return Math.floor((Ne.dayOfYear(t)+(e+n)%7)/7)}}),Ne.week=Ne.sunday,Ne.weeks=Ne.sunday.range,Ne.weeks.utc=Ne.sunday.utc.range,Ne.weekOfYear=Ne.sundayOfYear;var He={"-":"",_:" ",0:"0"},Fe=/^\s*\d+/,ze=/^%/;function je(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function We(t){return new RegExp("^(?:"+t.map(I.requote).join("|")+")","i")}function Be(t){for(var e=new y,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Ye(t,e,n){Fe.lastIndex=0;var i=Fe.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function qe(t,e,n){Fe.lastIndex=0;var i=Fe.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Ue(t,e,n){Fe.lastIndex=0;var i=Fe.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Ve(t,e,n){Fe.lastIndex=0;var i=Fe.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Ge(t,e,n){Fe.lastIndex=0;var i=Fe.exec(e.slice(n,n+2));return i?(t.y=function(t){return t+(68<t?1900:2e3)}(+i[0]),n+i[0].length):-1}function Xe(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Ke(t,e,n){Fe.lastIndex=0;var i=Fe.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Qe(t,e,n){Fe.lastIndex=0;var i=Fe.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Ze(t,e,n){Fe.lastIndex=0;var i=Fe.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function Je(t,e,n){Fe.lastIndex=0;var i=Fe.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function tn(t,e,n){Fe.lastIndex=0;var i=Fe.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function en(t,e,n){Fe.lastIndex=0;var i=Fe.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function nn(t,e,n){Fe.lastIndex=0;var i=Fe.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function rn(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",i=P(e)/60|0,r=P(e)%60;return n+je(i,"0",2)+je(r,"0",2)}function on(t,e,n){ze.lastIndex=0;var i=ze.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function sn(i){for(var t=i.length,e=-1;++e<t;)i[e][0]=this(i[e][0]);return function(t){for(var e=0,n=i[e];!n[1](t);)n=i[++e];return n[0](t)}}I.locale=function(t){return{numberFormat:function(t){var k=t.decimal,a=t.thousands,l=t.grouping,i=t.currency,S=l&&a?function(t,e){for(var n=t.length,i=[],r=0,o=l[0],s=0;0<n&&0<o&&(e<s+o+1&&(o=Math.max(1,e-s)),i.push(t.substring(n-=o,n+o)),!((s+=o+1)>e));)o=l[r=(r+1)%l.length];return i.reverse().join(a)}:R;return function(t){var e=Te.exec(t),u=e[1]||" ",h=e[2]||">",d=e[3]||"-",n=e[4]||"",f=e[5],p=+e[6],g=e[7],m=e[8],v=e[9],y=1,b="",w="",x=!1,_=!0;switch(m=m&&+m.substring(1),(f||"0"===u&&"="===h)&&(f=u="0",h="="),v){case"n":g=!0,v="g";break;case"%":y=100,w="%",v="f";break;case"p":y=100,w="%",v="r";break;case"b":case"o":case"x":case"X":"#"===n&&(b="0"+v.toLowerCase());case"c":_=!1;case"d":x=!0,m=0;break;case"s":y=-1,v="r"}"$"===n&&(b=i[0],w=i[1]),"r"!=v||m||(v="g"),null!=m&&("g"==v?m=Math.max(1,Math.min(21,m)):"e"!=v&&"f"!=v||(m=Math.max(0,Math.min(20,m)))),v=Me.get(v)||$e;var C=f&&g;return function(t){var e=w;if(x&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===d?"":d;if(y<0){var i=I.formatPrefix(t,m);t=i.scale(t),e=i.symbol+w}else t*=y;var r,o,s=(t=v(t,m)).lastIndexOf(".");if(s<0){var a=_?t.lastIndexOf("e"):-1;o=a<0?(r=t,""):(r=t.substring(0,a),t.substring(a))}else r=t.substring(0,s),o=k+t.substring(s+1);!f&&g&&(r=S(r,1/0));var l=b.length+r.length+o.length+(C?0:n.length),c=l<p?new Array(l=p-l+1).join(u):"";return C&&(r=S(c+r,c.length?p-o.length:1/0)),n+=b,t=r+o,("<"===h?n+t+c:">"===h?c+n+t:"^"===h?c.substring(0,l>>=1)+n+t+c.substring(l):n+(C?t:c+t))+e}}}(t),timeFormat:Le(t)}};var an=I.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ln(){}I.format=an.numberFormat,I.geo={},ln.prototype={s:0,t:0,add:function(t){un(t,this.t,cn),un(cn.s,this.s,this),this.s?this.t+=cn.t:this.s=cn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var cn=new ln;function un(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function hn(t,e){t&&fn.hasOwnProperty(t.type)&&fn[t.type](t,e)}I.geo.stream=function(t,e){t&&dn.hasOwnProperty(t.type)?dn[t.type](t,e):hn(t,e)};var dn={Feature:function(t,e){hn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)hn(n[i].geometry,e)}},fn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){pn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)pn(n[i],e,0)},Polygon:function(t,e){gn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)gn(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)hn(n[i],e)}};function pn(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function gn(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)pn(t[n],e,1);e.polygonEnd()}I.geo.area=function(t){return mn=0,I.geo.stream(t,jn),mn};var mn,vn,yn,bn,wn,xn,_n,Cn,kn,Sn,Dn,En,Tn,Mn,$n,Nn,An,Pn,In,On,Rn,Ln,Hn,Fn,zn=new ln,jn={sphere:function(){mn+=4*Ct},point:$,lineStart:$,lineEnd:$,polygonStart:function(){zn.reset(),jn.lineStart=Wn},polygonEnd:function(){var t=2*zn;mn+=t<0?4*Ct+t:t,jn.lineStart=jn.lineEnd=jn.point=$}};function Wn(){var n,i,u,h,d;function r(t,e){e=e*Et/2+Ct/4;var n=(t*=Et)-u,i=0<=n?1:-1,r=i*n,o=Math.cos(e),s=Math.sin(e),a=d*s,l=h*o+a*Math.cos(r),c=a*i*Math.sin(r);zn.add(Math.atan2(c,l)),u=t,h=o,d=s}jn.point=function(t,e){jn.point=r,u=(n=t)*Et,h=Math.cos(e=(i=e)*Et/2+Ct/4),d=Math.sin(e)},jn.lineEnd=function(){r(n,i)}}function Bn(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function Yn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function qn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Un(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Vn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Gn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Xn(t){return[Math.atan2(t[1],t[0]),At(t[2])]}function Kn(t,e){return P(t[0]-e[0])<xt&&P(t[1]-e[1])<xt}function Qn(t,e){Dn.push(En=[vn=t,bn=t]),e<yn&&(yn=e),wn<e&&(wn=e)}function Zn(t,e){var n=Bn([t*Et,e*Et]);if(kn){var i=qn(kn,n),r=qn([i[1],-i[0],0],i);Gn(r),r=Xn(r);var o=t-xn,s=0<o?1:-1,a=r[0]*Tt*s,l=180<P(o);if(l^(s*xn<a&&a<s*t)){var c=r[1]*Tt;wn<c&&(wn=c)}else if(l^(s*xn<(a=(a+360)%360-180)&&a<s*t)){(c=-r[1]*Tt)<yn&&(yn=c)}else e<yn&&(yn=e),wn<e&&(wn=e);l?t<xn?ri(vn,t)>ri(vn,bn)&&(bn=t):ri(t,bn)>ri(vn,bn)&&(vn=t):vn<=bn?(t<vn&&(vn=t),bn<t&&(bn=t)):xn<t?ri(vn,t)>ri(vn,bn)&&(bn=t):ri(t,bn)>ri(vn,bn)&&(vn=t)}else Qn(t,e);kn=n,xn=t}function Jn(){Tn.point=Zn}function ti(){En[0]=vn,En[1]=bn,Tn.point=Qn,kn=null}function ei(t,e){if(kn){var n=t-xn;Sn+=180<P(n)?n+(0<n?360:-360):n}else _n=t,Cn=e;jn.point(t,e),Zn(t,e)}function ni(){jn.lineStart()}function ii(){ei(_n,Cn),jn.lineEnd(),P(Sn)>xt&&(vn=-(bn=180)),En[0]=vn,En[1]=bn,kn=null}function ri(t,e){return(e-=t)<0?e+360:e}function oi(t,e){return t[0]-e[0]}function si(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}I.geo.bounds=(Tn={point:Qn,lineStart:Jn,lineEnd:ti,polygonStart:function(){Tn.point=ei,Tn.lineStart=ni,Tn.lineEnd=ii,Sn=0,jn.polygonStart()},polygonEnd:function(){jn.polygonEnd(),Tn.point=Qn,Tn.lineStart=Jn,Tn.lineEnd=ti,zn<0?(vn=-(bn=180),yn=-(wn=90)):xt<Sn?wn=90:Sn<-xt&&(yn=-90),En[0]=vn,En[1]=bn}},function(t){if(wn=bn=-(vn=yn=1/0),Dn=[],I.geo.stream(t,Tn),r=Dn.length){Dn.sort(oi);for(var e=1,n=[a=Dn[0]];e<r;++e)si((o=Dn[e])[0],a)||si(o[1],a)?(ri(a[0],o[1])>ri(a[0],a[1])&&(a[1]=o[1]),ri(o[0],a[1])>ri(a[0],a[1])&&(a[0]=o[0])):n.push(a=o);for(var i,r,o,s=-1/0,a=(e=0,n[r=n.length-1]);e<=r;a=o,++e)o=n[e],(i=ri(a[1],o[0]))>s&&(s=i,vn=o[0],bn=a[1])}return Dn=En=null,vn===1/0||yn===1/0?[[NaN,NaN],[NaN,NaN]]:[[vn,yn],[bn,wn]]}),I.geo.centroid=function(t){Mn=$n=Nn=An=Pn=In=On=Rn=Ln=Hn=Fn=0,I.geo.stream(t,ai);var e=Ln,n=Hn,i=Fn,r=e*e+n*n+i*i;return r<_t&&(e=In,n=On,i=Rn,$n<xt&&(e=Nn,n=An,i=Pn),(r=e*e+n*n+i*i)<_t)?[NaN,NaN]:[Math.atan2(n,e)*Tt,At(i/Math.sqrt(r))*Tt]};var ai={sphere:$,point:li,lineStart:ui,lineEnd:hi,polygonStart:function(){ai.lineStart=di},polygonEnd:function(){ai.lineStart=ui}};function li(t,e){t*=Et;var n=Math.cos(e*=Et);ci(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function ci(t,e,n){Nn+=(t-Nn)/++Mn,An+=(e-An)/Mn,Pn+=(n-Pn)/Mn}function ui(){var a,l,c;function i(t,e){t*=Et;var n=Math.cos(e*=Et),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),s=Math.atan2(Math.sqrt((s=l*o-c*r)*s+(s=c*i-a*o)*s+(s=a*r-l*i)*s),a*i+l*r+c*o);$n+=s,In+=s*(a+(a=i)),On+=s*(l+(l=r)),Rn+=s*(c+(c=o)),ci(a,l,c)}ai.point=function(t,e){t*=Et;var n=Math.cos(e*=Et);a=n*Math.cos(t),l=n*Math.sin(t),c=Math.sin(e),ai.point=i,ci(a,l,c)}}function hi(){ai.point=li}function di(){var i,r,f,p,g;function o(t,e){t*=Et;var n=Math.cos(e*=Et),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),s=p*o-g*r,a=g*i-f*o,l=f*r-p*i,c=Math.sqrt(s*s+a*a+l*l),u=f*i+p*r+g*o,h=c&&-Nt(u)/c,d=Math.atan2(c,u);Ln+=h*s,Hn+=h*a,Fn+=h*l,$n+=d,In+=d*(f+(f=i)),On+=d*(p+(p=r)),Rn+=d*(g+(g=o)),ci(f,p,g)}ai.point=function(t,e){i=t,r=e,ai.point=o,t*=Et;var n=Math.cos(e*=Et);f=n*Math.cos(t),p=n*Math.sin(t),g=Math.sin(e),ci(f,p,g)},ai.lineEnd=function(){o(i,r),ai.lineEnd=hi,ai.point=li}}function fi(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function pi(){return!0}function gi(t,e,n,i,a){var l=[],c=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Kn(n,i)){a.lineStart();for(var r=0;r<e;++r)a.point((n=t[r])[0],n[1]);a.lineEnd()}else{var o=new vi(n,t,null,!0),s=new vi(n,null,o,!1);o.o=s,l.push(o),c.push(s),s=new vi(i,null,o=new vi(i,t,null,!1),!0),o.o=s,l.push(o),c.push(s)}}}),c.sort(e),mi(l),mi(c),l.length){for(var r=0,o=n,s=c.length;r<s;++r)c[r].e=o=!o;for(var u,h,d=l[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;u=f.z,a.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(r=0,s=u.length;r<s;++r)a.point((h=u[r])[0],h[1]);else i(f.x,f.n.x,1,a);f=f.n}else{if(p)for(r=(u=f.p.z).length-1;0<=r;--r)a.point((h=u[r])[0],h[1]);else i(f.x,f.p.x,-1,a);f=f.p}u=(f=f.o).z,p=!p}while(!f.v);a.lineEnd()}}}function mi(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function vi(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function yi(y,b,w,x){return function(i,s){var a,r=b(s),e=i.invert(x[0],x[1]),n={point:o,lineStart:l,lineEnd:c,polygonStart:function(){n.point=g,n.lineStart=m,n.lineEnd=v,a=[],u=[]},polygonEnd:function(){n.point=o,n.lineStart=l,n.lineEnd=c,a=I.merge(a);var t=function(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,s=0;zn.reset();for(var a=0,l=e.length;a<l;++a){var c=e[a],u=c.length;if(u)for(var h=c[0],d=h[0],f=h[1]/2+Ct/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===u&&(m=0);var v=(t=c[m])[0],y=t[1]/2+Ct/4,b=Math.sin(y),w=Math.cos(y),x=v-d,_=0<=x?1:-1,C=_*x,k=Ct<C,S=p*b;if(zn.add(Math.atan2(S*_*Math.sin(C),g*w+S*Math.cos(C))),o+=k?x+_*kt:x,k^n<=d^n<=v){var D=qn(Bn(h),Bn(t));Gn(D);var E=qn(r,D);Gn(E);var T=(k^0<=x?-1:1)*At(E[2]);(T<i||i===T&&(D[0]||D[1]))&&(s+=k^0<=x?1:-1)}if(!m++)break;d=v,p=b,g=w,h=t}}return(o<-xt||o<xt&&zn<0)^1&s}(e,u);a.length?(p||(s.polygonStart(),p=!0),gi(a,xi,t,w,s)):t&&(p||(s.polygonStart(),p=!0),s.lineStart(),w(null,null,1,s),s.lineEnd()),p&&(s.polygonEnd(),p=!1),a=u=null},sphere:function(){s.polygonStart(),s.lineStart(),w(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function o(t,e){var n=i(t,e);y(t=n[0],e=n[1])&&s.point(t,e)}function t(t,e){var n=i(t,e);r.point(n[0],n[1])}function l(){n.point=t,r.lineStart()}function c(){n.point=o,r.lineEnd()}var u,h,d=wi(),f=b(d),p=!1;function g(t,e){h.push([t,e]);var n=i(t,e);f.point(n[0],n[1])}function m(){f.lineStart(),h=[]}function v(){g(h[0][0],h[0][1]),f.lineEnd();var t,e=f.clean(),n=d.buffer(),i=n.length;if(h.pop(),u.push(h),h=null,i)if(1&e){var r,o=-1;if(0<(i=(t=n[0]).length-1)){for(p||(s.polygonStart(),p=!0),s.lineStart();++o<i;)s.point((r=t[o])[0],r[1]);s.lineEnd()}}else 1<i&&2&e&&n.push(n.pop().concat(n.shift())),a.push(n.filter(bi))}return n}}function bi(t){return 1<t.length}function wi(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:$,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function xi(t,e){return((t=t.x)[0]<0?t[1]-Dt-xt:Dt-t[1])-((e=e.x)[0]<0?e[1]-Dt-xt:Dt-e[1])}var _i=yi(pi,function(r){var o,s=NaN,a=NaN,l=NaN;return{lineStart:function(){r.lineStart(),o=1},point:function(t,e){var n=0<t?Ct:-Ct,i=P(t-s);P(i-Ct)<xt?(r.point(s,a=0<(a+e)/2?Dt:-Dt),r.point(l,a),r.lineEnd(),r.lineStart(),r.point(n,a),r.point(t,a),o=0):l!==n&&Ct<=i&&(P(s-l)<xt&&(s-=l*xt),P(t-n)<xt&&(t-=n*xt),a=function(t,e,n,i){var r,o,s=Math.sin(t-n);return P(s)>xt?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*s)):(e+i)/2}(s,a,t,e),r.point(l,a),r.lineEnd(),r.lineStart(),r.point(n,a),o=0),r.point(s=t,a=e),l=n},lineEnd:function(){r.lineEnd(),s=a=NaN},clean:function(){return 2-o}}},function(t,e,n,i){var r;if(null==t)r=n*Dt,i.point(-Ct,r),i.point(0,r),i.point(Ct,r),i.point(Ct,0),i.point(Ct,-r),i.point(0,-r),i.point(-Ct,-r),i.point(-Ct,0),i.point(-Ct,r);else if(P(t[0]-e[0])>xt){var o=t[0]<e[0]?Ct:-Ct;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-Ct,-Ct/2]);function Ci(r){var D=Math.cos(r),f=0<D,p=P(D)>xt;return yi(g,function(a){var l,c,u,h,d;return{lineStart:function(){h=u=!1,d=1},point:function(t,e){var n,i=[t,e],r=g(t,e),o=f?r?0:v(t,e):r?v(t+(t<0?Ct:-Ct),e):0;if(!l&&(h=u=r)&&a.lineStart(),r!==u&&(n=m(l,i),(Kn(l,n)||Kn(i,n))&&(i[0]+=xt,i[1]+=xt,r=g(i[0],i[1]))),r!==u)d=0,r?(a.lineStart(),n=m(i,l),a.point(n[0],n[1])):(n=m(l,i),a.point(n[0],n[1]),a.lineEnd()),l=n;else if(p&&l&&f^r){var s;o&c||!(s=m(i,l,!0))||(d=0,f?(a.lineStart(),a.point(s[0][0],s[0][1]),a.point(s[1][0],s[1][1]),a.lineEnd()):(a.point(s[1][0],s[1][1]),a.lineEnd(),a.lineStart(),a.point(s[0][0],s[0][1])))}!r||l&&Kn(l,i)||a.point(i[0],i[1]),l=i,u=r,c=o},lineEnd:function(){u&&a.lineEnd(),l=null},clean:function(){return d|(h&&u)<<1}}},or(r,6*Et),f?[0,-r]:[-Ct,r-Ct]);function g(t,e){return Math.cos(t)*Math.cos(e)>D}function m(t,e,n){var i=[1,0,0],r=qn(Bn(t),Bn(e)),o=Yn(r,r),s=r[0],a=o-s*s;if(!a)return!n&&t;var l=D*o/a,c=-D*s/a,u=qn(i,r),h=Vn(i,l);Un(h,Vn(r,c));var d=u,f=Yn(h,d),p=Yn(d,d),g=f*f-p*(Yn(h,h)-1);if(!(g<0)){var m=Math.sqrt(g),v=Vn(d,(-f-m)/p);if(Un(v,h),v=Xn(v),!n)return v;var y,b=t[0],w=e[0],x=t[1],_=e[1];w<b&&(y=b,b=w,w=y);var C=w-b,k=P(C-Ct)<xt;if(!k&&_<x&&(y=x,x=_,_=y),k||C<xt?k?0<x+_^v[1]<(P(v[0]-b)<xt?x:_):x<=v[1]&&v[1]<=_:Ct<C^(b<=v[0]&&v[0]<=w)){var S=Vn(d,(-f+m)/p);return Un(S,h),[v,Xn(S)]}}}function v(t,e){var n=f?r:Ct-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}}function ki(u,h,d,f){return function(t){var e,n=t.a,i=t.b,r=n.x,o=n.y,s=0,a=1,l=i.x-r,c=i.y-o;if(e=u-r,l||!(0<e)){if(e/=l,l<0){if(e<s)return;e<a&&(a=e)}else if(0<l){if(a<e)return;s<e&&(s=e)}if(e=d-r,l||!(e<0)){if(e/=l,l<0){if(a<e)return;s<e&&(s=e)}else if(0<l){if(e<s)return;e<a&&(a=e)}if(e=h-o,c||!(0<e)){if(e/=c,c<0){if(e<s)return;e<a&&(a=e)}else if(0<c){if(a<e)return;s<e&&(s=e)}if(e=f-o,c||!(e<0)){if(e/=c,c<0){if(a<e)return;s<e&&(s=e)}else if(0<c){if(e<s)return;e<a&&(a=e)}return 0<s&&(t.a={x:r+s*l,y:o+s*c}),a<1&&(t.b={x:r+a*l,y:o+a*c}),t}}}}}}var Si=1e9;function Di(w,x,_,C){return function(r){var i,u,o,s,a,l,c,h,d,f,p,g=r,t=wi(),m=ki(w,x,_,C),e={point:n,lineStart:function(){e.point=b,u&&u.push(o=[]);f=!0,d=!1,c=h=NaN},lineEnd:function(){i&&(b(s,a),l&&d&&t.rejoin(),i.push(t.buffer()));e.point=n,d&&r.lineEnd()},polygonStart:function(){r=t,i=[],u=[],p=!0},polygonEnd:function(){r=g,i=I.merge(i);var t=function(t){for(var e=0,n=u.length,i=t[1],r=0;r<n;++r)for(var o,s=1,a=u[r],l=a.length,c=a[0];s<l;++s)o=a[s],c[1]<=i?o[1]>i&&0<$t(c,o,t)&&++e:o[1]<=i&&$t(c,o,t)<0&&--e,c=o;return 0!==e}([w,C]),e=p&&t,n=i.length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),v(null,null,1,r),r.lineEnd()),n&&gi(i,S,t,v,r),r.polygonEnd()),i=u=o=null}};function v(t,e,n,i){var r=0,o=0;if(null==t||(r=k(t,n))!==(o=k(e,n))||D(t,e)<0^0<n)for(;i.point(0===r||3===r?w:_,1<r?C:x),(r=(r+n+4)%4)!==o;);else i.point(e[0],e[1])}function y(t,e){return w<=t&&t<=_&&x<=e&&e<=C}function n(t,e){y(t,e)&&r.point(t,e)}function b(t,e){var n=y(t=Math.max(-Si,Math.min(Si,t)),e=Math.max(-Si,Math.min(Si,e)));if(u&&o.push([t,e]),f)s=t,a=e,f=!1,(l=n)&&(r.lineStart(),r.point(t,e));else if(n&&d)r.point(t,e);else{var i={a:{x:c,y:h},b:{x:t,y:e}};m(i)?(d||(r.lineStart(),r.point(i.a.x,i.a.y)),r.point(i.b.x,i.b.y),n||r.lineEnd(),p=!1):n&&(r.lineStart(),r.point(t,e),p=!1)}c=t,h=e,d=n}return e};function k(t,e){return P(t[0]-w)<xt?0<e?0:3:P(t[0]-_)<xt?0<e?2:1:P(t[1]-x)<xt?0<e?1:0:0<e?3:2}function S(t,e){return D(t.x,e.x)}function D(t,e){var n=k(t,1),i=k(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function Ei(t){var e=0,n=Ct/3,i=Qi(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Ct/180,n=t[1]*Ct/180):[e/Ct*180,n/Ct*180]},r}function Ti(t,e){var n=Math.sin(t),i=(n+Math.sin(e))/2,r=1+n*(2*i-n),o=Math.sqrt(r)/i;function s(t,e){var n=Math.sqrt(r-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),o-n*Math.cos(t)]}return s.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,At((r-(t*t+n*n)*i*i)/(2*i))]},s}I.geo.clipExtent=function(){var e,n,i,r,o,s,a={stream:function(t){return o&&(o.valid=!1),(o=s(t)).valid=!0,o},extent:function(t){return arguments.length?(s=Di(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o&&(o.valid=!1,o=null),a):[[e,n],[i,r]]}};return a.extent([[0,0],[960,500]])},(I.geo.conicEqualArea=function(){return Ei(Ti)}).raw=Ti,I.geo.albers=function(){return I.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},I.geo.albersUsa=function(){var i,r,o,s,a=I.geo.albers(),l=I.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=I.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){i=[t,e]}};function h(t){var e=t[0],n=t[1];return i=null,r(e,n),i||(o(e,n),i)||s(e,n),i}return h.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?l:.166<=r&&r<.234&&-.214<=i&&i<-.115?c:a).invert(t)},h.stream=function(t){var n=a.stream(t),i=l.stream(t),r=c.stream(t);return{point:function(t,e){n.point(t,e),i.point(t,e),r.point(t,e)},sphere:function(){n.sphere(),i.sphere(),r.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},h.precision=function(t){return arguments.length?(a.precision(t),l.precision(t),c.precision(t),h):a.precision()},h.scale=function(t){return arguments.length?(a.scale(t),l.scale(.35*t),c.scale(t),h.translate(a.translate())):a.scale()},h.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),n=+t[0],i=+t[1];return r=a.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(u).point,o=l.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+xt,i+.12*e+xt],[n-.214*e-xt,i+.234*e-xt]]).stream(u).point,s=c.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+xt,i+.166*e+xt],[n-.115*e-xt,i+.234*e-xt]]).stream(u).point,h},h.scale(1070)};var Mi,$i,Ni,Ai,Pi,Ii,Oi={point:$,lineStart:$,lineEnd:$,polygonStart:function(){$i=0,Oi.lineStart=Ri},polygonEnd:function(){Oi.lineStart=Oi.lineEnd=Oi.point=$,Mi+=P($i/2)}};function Ri(){var n,i,r,o;function s(t,e){$i+=o*t-r*e,r=t,o=e}Oi.point=function(t,e){Oi.point=s,n=r=t,i=o=e},Oi.lineEnd=function(){s(n,i)}}var Li={point:function(t,e){t<Ni&&(Ni=t);Pi<t&&(Pi=t);e<Ai&&(Ai=e);Ii<e&&(Ii=e)},lineStart:$,lineEnd:$,polygonStart:$,polygonEnd:$};function Hi(){var n=Fi(4.5),i=[],r={point:t,lineStart:function(){r.point=e},lineEnd:s,polygonStart:function(){r.lineEnd=a},polygonEnd:function(){r.lineEnd=s,r.point=t},pointRadius:function(t){return n=Fi(t),r},result:function(){if(i.length){var t=i.join("");return i=[],t}}};function t(t,e){i.push("M",t,",",e,n)}function e(t,e){i.push("M",t,",",e),r.point=o}function o(t,e){i.push("L",t,",",e)}function s(){r.point=t}function a(){i.push("Z")}return r}function Fi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var zi,ji={point:Wi,lineStart:Bi,lineEnd:Yi,polygonStart:function(){ji.lineStart=qi},polygonEnd:function(){ji.point=Wi,ji.lineStart=Bi,ji.lineEnd=Yi}};function Wi(t,e){Nn+=t,An+=e,++Pn}function Bi(){var o,s;function n(t,e){var n=t-o,i=e-s,r=Math.sqrt(n*n+i*i);In+=r*(o+t)/2,On+=r*(s+e)/2,Rn+=r,Wi(o=t,s=e)}ji.point=function(t,e){ji.point=n,Wi(o=t,s=e)}}function Yi(){ji.point=Wi}function qi(){var n,i,o,s;function r(t,e){var n=t-o,i=e-s,r=Math.sqrt(n*n+i*i);In+=r*(o+t)/2,On+=r*(s+e)/2,Rn+=r,Ln+=(r=s*t-o*e)*(o+t),Hn+=r*(s+e),Fn+=3*r,Wi(o=t,s=e)}ji.point=function(t,e){ji.point=r,Wi(n=o=t,i=s=e)},ji.lineEnd=function(){r(n,i)}}function Ui(n){var i=4.5,r={point:t,lineStart:function(){r.point=e},lineEnd:s,polygonStart:function(){r.lineEnd=a},polygonEnd:function(){r.lineEnd=s,r.point=t},pointRadius:function(t){return i=t,r},result:$};function t(t,e){n.moveTo(t+i,e),n.arc(t,e,i,0,kt)}function e(t,e){n.moveTo(t,e),r.point=o}function o(t,e){n.lineTo(t,e)}function s(){r.point=t}function a(){n.closePath()}return r}function Vi(M){var $=.5,N=Math.cos(30*Et),x=16;function e(t){return(x?function(r){var n,i,o,s,a,l,c,u,h,d,f,p,g={point:t,lineStart:e,lineEnd:v,polygonStart:function(){r.polygonStart(),g.lineStart=y},polygonEnd:function(){r.polygonEnd(),g.lineStart=e}};function t(t,e){t=M(t,e),r.point(t[0],t[1])}function e(){u=NaN,g.point=m,r.lineStart()}function m(t,e){var n=Bn([t,e]),i=M(t,e);A(u,h,c,d,f,p,u=i[0],h=i[1],c=t,d=n[0],f=n[1],p=n[2],x,r),r.point(u,h)}function v(){g.point=t,r.lineEnd()}function y(){e(),g.point=b,g.lineEnd=w}function b(t,e){m(n=t,e),i=u,o=h,s=d,a=f,l=p,g.point=m}function w(){A(u,h,c,d,f,p,i,o,n,s,a,l,x,r),(g.lineEnd=v)()}return g}:function(n){return Xi(n,function(t,e){t=M(t,e),n.point(t[0],t[1])})})(t)}function A(t,e,n,i,r,o,s,a,l,c,u,h,d,f){var p=s-t,g=a-e,m=p*p+g*g;if(4*$<m&&d--){var v=i+c,y=r+u,b=o+h,w=Math.sqrt(v*v+y*y+b*b),x=Math.asin(b/=w),_=P(P(b)-1)<xt||P(n-l)<xt?(n+l)/2:Math.atan2(y,v),C=M(_,x),k=C[0],S=C[1],D=k-t,E=S-e,T=g*D-p*E;($<T*T/m||.3<P((p*D+g*E)/m-.5)||i*c+r*u+o*h<N)&&(A(t,e,n,i,r,o,k,S,_,v/=w,y/=w,b,d,f),f.point(k,S),A(k,S,_,v,y,b,s,a,l,c,u,h,d,f))}}return e.precision=function(t){return arguments.length?(x=0<($=t*t)&&16,e):Math.sqrt($)},e}function Gi(t){this.stream=t}function Xi(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Ki(t){return Qi(function(){return t})()}function Qi(t){var n,e,i,r,o,s,a=Vi(function(t,e){return[(t=n(t,e))[0]*l+r,o-t[1]*l]}),l=150,c=480,u=250,h=0,d=0,f=0,p=0,g=0,m=_i,v=R,y=null,b=null;function w(t){return[(t=i(t[0]*Et,t[1]*Et))[0]*l+r,o-t[1]*l]}function x(t){return(t=i.invert((t[0]-r)/l,(o-t[1])/l))&&[t[0]*Tt,t[1]*Tt]}function _(){i=fi(e=er(f,p,g),n);var t=n(h,d);return r=c-t[0]*l,o=u+t[1]*l,C()}function C(){return s&&(s.valid=!1,s=null),w}return w.stream=function(t){return s&&(s.valid=!1),(s=Zi(m(e,a(v(t))))).valid=!0,s},w.clipAngle=function(t){return arguments.length?(m=null==t?(y=t,_i):Ci((y=+t)*Et),C()):y},w.clipExtent=function(t){return arguments.length?(v=(b=t)?Di(t[0][0],t[0][1],t[1][0],t[1][1]):R,C()):b},w.scale=function(t){return arguments.length?(l=+t,_()):l},w.translate=function(t){return arguments.length?(c=+t[0],u=+t[1],_()):[c,u]},w.center=function(t){return arguments.length?(h=t[0]%360*Et,d=t[1]%360*Et,_()):[h*Tt,d*Tt]},w.rotate=function(t){return arguments.length?(f=t[0]%360*Et,p=t[1]%360*Et,g=2<t.length?t[2]%360*Et:0,_()):[f*Tt,p*Tt,g*Tt]},I.rebind(w,a,"precision"),function(){return n=t.apply(this,arguments),w.invert=n.invert&&x,_()}}function Zi(n){return Xi(n,function(t,e){n.point(t*Et,e*Et)})}function Ji(t,e){return[t,e]}function tr(t,e){return[Ct<t?t-kt:t<-Ct?t+kt:t,e]}function er(t,e,n){return t?e||n?fi(ir(t),rr(e,n)):ir(t):e||n?rr(e,n):tr}function nr(n){return function(t,e){return[Ct<(t+=n)?t-kt:t<-Ct?t+kt:t,e]}}function ir(t){var e=nr(t);return e.invert=nr(-t),e}function rr(t,e){var a=Math.cos(t),l=Math.sin(t),c=Math.cos(e),u=Math.sin(e);function n(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),s=o*a+i*l;return[Math.atan2(r*c-s*u,i*a-o*l),At(s*c+r*u)]}return n.invert=function(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),s=o*c-r*u;return[Math.atan2(r*c+o*u,i*a+s*l),At(s*a-i*l)]},n}function or(a,l){var c=Math.cos(a),u=Math.sin(a);return function(t,e,n,i){var r=n*l;null!=t?(t=sr(c,t),e=sr(c,e),(0<n?t<e:e<t)&&(t+=n*kt)):(t=a+n*kt,e=a-.5*r);for(var o,s=t;0<n?e<s:s<e;s-=r)i.point((o=Xn([c,-u*Math.cos(s),-u*Math.sin(s)]))[0],o[1])}}function sr(t,e){var n=Bn(e);n[0]-=t,Gn(n);var i=Nt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-xt)%(2*Math.PI)}function ar(t,e,n){var i=I.range(t,e-xt,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function lr(t,e,n){var i=I.range(t,e-xt,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function cr(t){return t.source}function ur(t){return t.target}I.geo.path=function(){var e,n,i,r,o,s=4.5;function a(t){return t&&("function"==typeof s&&r.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=i(r)),I.geo.stream(t,o)),r.result()}function l(){return o=null,a}return a.area=function(t){return Mi=0,I.geo.stream(t,i(Oi)),Mi},a.centroid=function(t){return Nn=An=Pn=In=On=Rn=Ln=Hn=Fn=0,I.geo.stream(t,i(ji)),Fn?[Ln/Fn,Hn/Fn]:Rn?[In/Rn,On/Rn]:Pn?[Nn/Pn,An/Pn]:[NaN,NaN]},a.bounds=function(t){return Pi=Ii=-(Ni=Ai=1/0),I.geo.stream(t,i(Li)),[[Ni,Ai],[Pi,Ii]]},a.projection=function(t){return arguments.length?(i=(e=t)?t.stream||function(n){var e=Vi(function(t,e){return n([t*Tt,e*Tt])});return function(t){return Zi(e(t))}}(t):R,l()):e},a.context=function(t){return arguments.length?(r=null==(n=t)?new Hi:new Ui(t),"function"!=typeof s&&r.pointRadius(s),l()):n},a.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(r.pointRadius(+t),+t),a):s},a.projection(I.geo.albersUsa()).context(null)},I.geo.transform=function(i){return{stream:function(t){var e=new Gi(t);for(var n in i)e[n]=i[n];return e}}},Gi.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},I.geo.projection=Ki,I.geo.projectionMutator=Qi,(I.geo.equirectangular=function(){return Ki(Ji)}).raw=Ji.invert=Ji,I.geo.rotation=function(e){function t(t){return(t=e(t[0]*Et,t[1]*Et))[0]*=Tt,t[1]*=Tt,t}return e=er(e[0]%360*Et,e[1]*Et,2<e.length?e[2]*Et:0),t.invert=function(t){return(t=e.invert(t[0]*Et,t[1]*Et))[0]*=Tt,t[1]*=Tt,t},t},tr.invert=Ji,I.geo.circle=function(){var e,r,o=[0,0],n=6;function i(){var t="function"==typeof o?o.apply(this,arguments):o,n=er(-t[0]*Et,-t[1]*Et,0).invert,i=[];return r(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=Tt,t[1]*=Tt}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(o=t,i):o},i.angle=function(t){return arguments.length?(r=or((e=+t)*Et,n*Et),i):e},i.precision=function(t){return arguments.length?(r=or(e*Et,(n=+t)*Et),i):n},i.angle(90)},I.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Et,r=t[1]*Et,o=e[1]*Et,s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),c=Math.cos(r),u=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*s)*n+(n=c*u-l*h*a)*n),l*u+c*h*a)},I.geo.graticule=function(){var e,n,i,r,o,s,a,l,c,u,h,d,f=10,p=f,g=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:t()}}function t(){return I.range(Math.ceil(r/g)*g,i,g).map(h).concat(I.range(Math.ceil(l/m)*m,a,m).map(d)).concat(I.range(Math.ceil(n/f)*f,e,f).filter(function(t){return P(t%g)>xt}).map(c)).concat(I.range(Math.ceil(s/p)*p,o,p).filter(function(t){return P(t%m)>xt}).map(u))}return y.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(d(a).slice(1),h(i).reverse().slice(1),d(l).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],i=+t[1][0],l=+t[0][1],a=+t[1][1],i<r&&(t=r,r=i,i=t),a<l&&(t=l,l=a,a=t),y.precision(v)):[[r,l],[i,a]]},y.minorExtent=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],s=+t[0][1],o=+t[1][1],e<n&&(t=n,n=e,e=t),o<s&&(t=s,s=o,o=t),y.precision(v)):[[n,s],[e,o]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],y):[g,m]},y.minorStep=function(t){return arguments.length?(f=+t[0],p=+t[1],y):[f,p]},y.precision=function(t){return arguments.length?(v=+t,c=ar(s,o,90),u=lr(n,e,v),h=ar(l,a,90),d=lr(r,i,v),y):v},y.majorExtent([[-180,-90+xt],[180,90-xt]]).minorExtent([[-180,-80-xt],[180,80+xt]])},I.geo.greatArc=function(){var e,n,i=cr,r=ur;function o(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}return o.distance=function(){return I.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},o.source=function(t){return arguments.length?(e="function"==typeof(i=t)?null:t,o):i},o.target=function(t){return arguments.length?(n="function"==typeof(r=t)?null:t,o):r},o.precision=function(){return arguments.length?o:0},o},I.geo.interpolate=function(t,e){return function(t,e,n,i){var r=Math.cos(e),s=Math.sin(e),o=Math.cos(i),a=Math.sin(i),l=r*Math.cos(t),c=r*Math.sin(t),u=o*Math.cos(n),h=o*Math.sin(n),d=2*Math.asin(Math.sqrt(It(i-e)+r*o*It(n-t))),f=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*f,n=Math.sin(d-t)*f,i=n*l+e*u,r=n*c+e*h,o=n*s+e*a;return[Math.atan2(r,i)*Tt,Math.atan2(o,Math.sqrt(i*i+r*r))*Tt]}:function(){return[t*Tt,e*Tt]};return p.distance=d,p}(t[0]*Et,t[1]*Et,e[0]*Et,e[1]*Et)},I.geo.length=function(t){return zi=0,I.geo.stream(t,hr),zi};var hr={sphere:$,point:$,lineStart:function(){var s,a,l;function n(t,e){var n=Math.sin(e*=Et),i=Math.cos(e),r=P((t*=Et)-s),o=Math.cos(r);zi+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=l*n-a*i*o)*r),a*n+l*i*o),s=t,a=n,l=i}hr.point=function(t,e){s=t*Et,a=Math.sin(e*=Et),l=Math.cos(e),hr.point=n},hr.lineEnd=function(){hr.point=hr.lineEnd=$}},lineEnd:$,polygonStart:$,polygonEnd:$};function dr(o,s){function t(t,e){var n=Math.cos(t),i=Math.cos(e),r=o(n*i);return[r*i*Math.sin(t),r*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),i=s(n),r=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*r,n*o),Math.asin(n&&e*r/n)]},t}var fr=dr(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(I.geo.azimuthalEqualArea=function(){return Ki(fr)}).raw=fr;var pr=dr(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},R);function gr(t,e){function i(t){return Math.tan(Ct/4+t/2)}var n=Math.cos(t),r=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(i(e)/i(t)),o=n*Math.pow(i(t),r)/r;if(!r)return yr;function s(t,e){0<o?e<-Dt+xt&&(e=-Dt+xt):Dt-xt<e&&(e=Dt-xt);var n=o/Math.pow(i(e),r);return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}return s.invert=function(t,e){var n=o-e,i=Mt(r)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/r,2*Math.atan(Math.pow(o/i,1/r))-Dt]},s}function mr(t,e){var n=Math.cos(t),i=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),r=n/i+t;if(P(i)<xt)return Ji;function o(t,e){var n=r-e;return[n*Math.sin(i*t),r-n*Math.cos(i*t)]}return o.invert=function(t,e){var n=r-e;return[Math.atan2(t,n)/i,r-Mt(i)*Math.sqrt(t*t+n*n)]},o}(I.geo.azimuthalEquidistant=function(){return Ki(pr)}).raw=pr,(I.geo.conicConformal=function(){return Ei(gr)}).raw=gr,(I.geo.conicEquidistant=function(){return Ei(mr)}).raw=mr;var vr=dr(function(t){return 1/t},Math.atan);function yr(t,e){return[t,Math.log(Math.tan(Ct/4+e/2))]}function br(t){var r,o=Ki(t),s=o.scale,a=o.translate,l=o.clipExtent;return o.scale=function(){var t=s.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.translate=function(){var t=a.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.clipExtent=function(t){var e=l.apply(o,arguments);if(e===o){if(r=null==t){var n=Ct*s(),i=a();l([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else r&&(e=null);return e},o.clipExtent(null)}(I.geo.gnomonic=function(){return Ki(vr)}).raw=vr,yr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Dt]},(I.geo.mercator=function(){return br(yr)}).raw=yr;var wr=dr(function(){return 1},Math.asin);(I.geo.orthographic=function(){return Ki(wr)}).raw=wr;var xr=dr(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function _r(t,e){return[Math.log(Math.tan(Ct/4+e/2)),-t]}function Cr(t){return t[0]}function kr(t){return t[1]}function Sr(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;1<i&&$t(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Dr(t,e){return t[0]-e[0]||t[1]-e[1]}(I.geo.stereographic=function(){return Ki(xr)}).raw=xr,_r.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Dt]},(I.geo.transverseMercator=function(){var t=br(_r),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=_r,I.geom={},I.geom.hull=function(t){var d=Cr,f=kr;if(arguments.length)return e(t);function e(t){if(t.length<3)return[];var e,n=pe(d),i=pe(f),r=t.length,o=[],s=[];for(e=0;e<r;e++)o.push([+n.call(this,t[e],e),+i.call(this,t[e],e),e]);for(o.sort(Dr),e=0;e<r;e++)s.push([o[e][0],-o[e][1]]);var a=Sr(o),l=Sr(s),c=l[0]===a[0],u=l[l.length-1]===a[a.length-1],h=[];for(e=a.length-1;0<=e;--e)h.push(t[o[a[e]][2]]);for(e=+c;e<l.length-u;++e)h.push(t[o[l[e]][2]]);return h}return e.x=function(t){return arguments.length?(d=t,e):d},e.y=function(t){return arguments.length?(f=t,e):f},e},I.geom.polygon=function(t){return j(t,Er),t};var Er=I.geom.polygon.prototype=[];function Tr(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Mr(t,e,n,i){var r=t[0],o=n[0],s=e[0]-r,a=i[0]-o,l=t[1],c=n[1],u=e[1]-l,h=i[1]-c,d=(a*(l-c)-h*(r-o))/(h*s-a*u);return[r+d*s,l+d*u]}function $r(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}Er.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},Er.centroid=function(t){var e,n,i=-1,r=this.length,o=0,s=0,a=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=a,a=this[i],n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o*t,s*t]},Er.clip=function(t){for(var e,n,i,r,o,s,a=$r(t),l=-1,c=this.length-$r(this),u=this[c-1];++l<c;){for(e=t.slice(),t.length=0,r=this[l],o=e[(i=e.length-a)-1],n=-1;++n<i;)Tr(s=e[n],u,r)?(Tr(o,u,r)||t.push(Mr(o,s,u,r)),t.push(s)):Tr(o,u,r)&&t.push(Mr(o,s,u,r)),o=s;a&&t.push(t[0]),u=r}return t};var Nr,Ar,Pr,Ir,Or,Rr=[],Lr=[];function Hr(){io(this),this.edge=this.site=this.circle=null}function Fr(t){var e=Rr.pop()||new Hr;return e.site=t,e}function zr(t){Xr(t),Pr.remove(t),Rr.push(t),io(t)}function jr(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,s=t.N,a=[t];zr(t);for(var l=o;l.circle&&P(n-l.circle.x)<xt&&P(i-l.circle.cy)<xt;)o=l.P,a.unshift(l),zr(l),l=o;a.unshift(l),Xr(l);for(var c=s;c.circle&&P(n-c.circle.x)<xt&&P(i-c.circle.cy)<xt;)s=c.N,a.push(c),zr(c),c=s;a.push(c),Xr(c);var u,h=a.length;for(u=1;u<h;++u)c=a[u],l=a[u-1],to(c.edge,l.site,c.site,r);l=a[0],(c=a[h-1]).edge=Zr(l.site,c.site,null,r),Gr(l),Gr(c)}function Wr(t){for(var e,n,i,r,o=t.x,s=t.y,a=Pr._;a;)if(i=Br(a,s)-o,xt<i)a=a.L;else{if(r=o-Yr(a,s),!(xt<r)){-xt<i?(e=a.P,n=a):-xt<r?n=(e=a).N:e=n=a;break}if(!a.R){e=a;break}a=a.R}var l=Fr(t);if(Pr.insert(e,l),e||n){if(e===n)return Xr(e),n=Fr(e.site),Pr.insert(l,n),l.edge=n.edge=Zr(e.site,l.site),Gr(e),void Gr(n);if(n){Xr(e),Xr(n);var c=e.site,u=c.x,h=c.y,d=t.x-u,f=t.y-h,p=n.site,g=p.x-u,m=p.y-h,v=2*(d*m-f*g),y=d*d+f*f,b=g*g+m*m,w={x:(m*y-f*b)/v+u,y:(d*b-g*y)/v+h};to(n.edge,c,p,w),l.edge=Zr(c,t,null,w),n.edge=Zr(t,p,null,w),Gr(e),Gr(n)}else l.edge=Zr(e.site,l.site)}}function Br(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site).x,l=n.y,c=l-e;if(!c)return a;var u=a-i,h=1/o-1/c,d=u/c;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*c)-l+c/2+r-o/2)))/h+i:(i+a)/2}function Yr(t,e){var n=t.N;if(n)return Br(n,e);var i=t.site;return i.y===e?i.x:1/0}function qr(t){this.site=t,this.edges=[]}function Ur(t,e){return e.angle-t.angle}function Vr(){io(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gr(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r.x,a=r.y,l=i.x-s,c=i.y-a,u=o.x-s,h=2*(l*(m=o.y-a)-c*u);if(!(-_t<=h)){var d=l*l+c*c,f=u*u+m*m,p=(m*d-c*f)/h,g=(l*f-u*d)/h,m=g+a,v=Lr.pop()||new Vr;v.arc=t,v.site=r,v.x=p+s,v.y=m+Math.sqrt(p*p+g*g),v.cy=m,t.circle=v;for(var y=null,b=Or._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Or.insert(y,v),y||(Ir=v)}}}}function Xr(t){var e=t.circle;e&&(e.P||(Ir=e.N),Or.remove(e),Lr.push(e),io(e),t.circle=null)}function Kr(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,s=e[0][0],a=e[1][0],l=e[0][1],c=e[1][1],u=t.l,h=t.r,d=u.x,f=u.y,p=h.x,g=h.y,m=(d+p)/2,v=(f+g)/2;if(g===f){if(m<s||a<=m)return;if(p<d){if(o){if(o.y>=c)return}else o={x:m,y:l};n={x:m,y:c}}else{if(o){if(o.y<l)return}else o={x:m,y:c};n={x:m,y:l}}}else if(r=v-(i=(d-p)/(g-f))*m,i<-1||1<i)if(p<d){if(o){if(o.y>=c)return}else o={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else if(f<g){if(o){if(o.x>=a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}else{if(o){if(o.x<s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}return t.a=o,t.b=n,!0}function Qr(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zr(t,e,n,i){var r=new Qr(t,e);return Nr.push(r),n&&to(r,t,e,n),i&&to(r,e,t,i),Ar[t.i].edges.push(new eo(r,t,e)),Ar[e.i].edges.push(new eo(r,e,t)),r}function Jr(t,e,n){var i=new Qr(t,null);return i.a=e,i.b=n,Nr.push(i),i}function to(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function eo(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function no(){this._=null}function io(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ro(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function oo(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function so(t){for(;t.L;)t=t.L;return t}function ao(t,e){var n,i,r,o=t.sort(lo).pop();for(Nr=[],Ar=new Array(t.length),Pr=new no,Or=new no;;)if(r=Ir,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(Ar[o.i]=new qr(o),Wr(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;jr(r.arc)}e&&(function(t){for(var e,n=Nr,i=ki(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)Kr(e=n[r],t)&&i(e)&&!(P(e.a.x-e.b.x)<xt&&P(e.a.y-e.b.y)<xt)||(e.a=e.b=null,n.splice(r,1))}(e),function(t){for(var e,n,i,r,o,s,a,l,c,u,h=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],g=Ar,m=g.length;m--;)if((o=g[m])&&o.prepare())for(l=(a=o.edges).length,s=0;s<l;)i=(u=a[s].end()).x,r=u.y,e=(c=a[++s%l].start()).x,n=c.y,(P(i-e)>xt||P(r-n)>xt)&&(a.splice(s,0,new eo(Jr(o.site,u,P(i-h)<xt&&xt<p-r?{x:h,y:P(e-h)<xt?n:p}:P(r-p)<xt&&xt<d-i?{x:P(n-p)<xt?e:d,y:p}:P(i-d)<xt&&xt<r-f?{x:d,y:P(e-d)<xt?n:f}:P(r-f)<xt&&xt<i-h?{x:P(n-f)<xt?e:h,y:f}:null),o.site,null)),++l)}(e));var s={cells:Ar,edges:Nr};return Pr=Or=Nr=Ar=null,s}function lo(t,e){return e.y-t.y||e.x-t.x}qr.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Ur),e.length},eo.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},no.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else n=this._?(t=so(this._),e.P=null,(e.N=t).P=t.L=e,t):(e.P=e.N=null,this._=e,null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ro(this,n),n=(t=n).U),n.C=!1,i.C=!0,oo(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(oo(this,n),n=(t=n).U),n.C=!1,i.C=!0,ro(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?so(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,((n.L=o).U=n)!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,(n.R=s).U=n):(n.U=r,t=(r=n).R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,ro(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,oo(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ro(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,oo(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ro(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,oo(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}},I.geom.voronoi=function(t){var e=Cr,n=kr,i=e,r=n,u=co;if(t)return o(t);function o(r){var o=new Array(r.length),s=u[0][0],a=u[0][1],l=u[1][0],c=u[1][1];return ao(h(r),u).cells.forEach(function(t,e){var n=t.edges,i=t.site;(o[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):i.x>=s&&i.x<=l&&i.y>=a&&i.y<=c?[[s,c],[l,c],[l,a],[s,a]]:[]).point=r[e]}),o}function h(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/xt)*xt,y:Math.round(r(t,e)/xt)*xt,i:e}})}return o.links=function(e){return ao(h(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},o.triangles=function(d){var f=[];return ao(h(d)).cells.forEach(function(t,e){for(var n,i,r,o,s=t.site,a=t.edges.sort(Ur),l=-1,c=a.length,u=a[c-1].edge,h=u.l===s?u.r:u.l;++l<c;)u,n=h,h=(u=a[l].edge).l===s?u.r:u.l,e<n.i&&e<h.i&&(r=n,o=h,((i=s).x-o.x)*(r.y-i.y)-(i.x-r.x)*(o.y-i.y)<0)&&f.push([d[e],d[n.i],d[h.i]])}),f},o.x=function(t){return arguments.length?(i=pe(e=t),o):e},o.y=function(t){return arguments.length?(r=pe(n=t),o):n},o.clipExtent=function(t){return arguments.length?(u=null==t?co:t,o):u===co?null:u},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):u===co?null:u&&u[1]},o};var co=[[-1e6,-1e6],[1e6,1e6]];function uo(t){return t.x}function ho(t){return t.y}function fo(t,e){t=I.rgb(t),e=I.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,s=e.g-i,a=e.b-r;return function(t){return"#"+ae(Math.round(n+o*t))+ae(Math.round(i+s*t))+ae(Math.round(r+a*t))}}function po(t,e){var n,i={},r={};for(n in t)n in e?i[n]=bo(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function go(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function mo(t,i){var e,n,r,o=vo.lastIndex=yo.lastIndex=0,s=-1,a=[],l=[];for(t+="",i+="";(e=vo.exec(t))&&(n=yo.exec(i));)(r=n.index)>o&&(r=i.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(e=e[0])===(n=n[0])?a[s]?a[s]+=n:a[++s]=n:(a[++s]=null,l.push({i:s,x:go(e,n)})),o=yo.lastIndex;return o<i.length&&(r=i.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?(i=l[0].x,function(t){return i(t)+""}):function(){return i}:(i=l.length,function(t){for(var e,n=0;n<i;++n)a[(e=l[n]).i]=e.x(t);return a.join("")})}I.geom.delaunay=function(t){return I.geom.voronoi().triangles(t)},I.geom.quadtree=function(t,b,w,x,_){var C,k=Cr,S=kr;if(C=arguments.length)return k=uo,S=ho,3===C&&(_=w,x=b,w=b=0),e(t);function e(t){var e,n,i,r,o,s,a,l,c,u=pe(k),h=pe(S);if(null!=b)s=b,a=w,l=x,c=_;else if(l=c=-(s=a=1/0),n=[],i=[],o=t.length,C)for(r=0;r<o;++r)(e=t[r]).x<s&&(s=e.x),e.y<a&&(a=e.y),e.x>l&&(l=e.x),e.y>c&&(c=e.y),n.push(e.x),i.push(e.y);else for(r=0;r<o;++r){var d=+u(e=t[r],r),f=+h(e,r);d<s&&(s=d),f<a&&(a=f),l<d&&(l=d),c<f&&(c=f),n.push(d),i.push(f)}var p=l-s,g=c-a;function m(t,e,n,i,r,o,s,a){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(P(l-n)+P(c-i)<.01)v(t,e,n,i,r,o,s,a);else{var u=t.point;t.x=t.y=t.point=null,v(t,u,l,c,r,o,s,a),v(t,e,n,i,r,o,s,a)}else t.x=n,t.y=i,t.point=e}else v(t,e,n,i,r,o,s,a)}function v(t,e,n,i,r,o,s,a){var l=.5*(r+s),c=.5*(o+a),u=l<=n,h=c<=i,d=h<<1|u;t.leaf=!1,u?r=l:s=l,h?o=c:a=c,m(t=t.nodes[d]||(t.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,i,r,o,s,a)}g<p?c=a+p:l=s+g;var y={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){m(y,t,+u(t,++r),+h(t,r),s,a,l,c)}};if(y.visit=function(t){!function t(e,n,i,r,o,s){if(!e(n,i,r,o,s)){var a=.5*(i+o),l=.5*(r+s),c=n.nodes;c[0]&&t(e,c[0],i,r,a,l),c[1]&&t(e,c[1],a,r,o,l),c[2]&&t(e,c[2],i,l,a,s),c[3]&&t(e,c[3],a,l,o,s)}}(t,y,s,a,l,c)},y.find=function(t){return function(t,m,v,y,b,w,x){var _,C=1/0;return function t(e,n,i,r,o){if(!(w<n||x<i||r<y||o<b)){if(s=e.point){var s,a=m-e.x,l=v-e.y,c=a*a+l*l;if(c<C){var u=Math.sqrt(C=c);y=m-u,b=v-u,w=m+u,x=v+u,_=s}}for(var h=e.nodes,d=.5*(n+r),f=.5*(i+o),p=(f<=v)<<1|d<=m,g=p+4;p<g;++p)if(e=h[3&p])switch(3&p){case 0:t(e,n,i,d,f);break;case 1:t(e,d,i,r,f);break;case 2:t(e,n,f,d,o);break;case 3:t(e,d,f,r,o)}}}(t,y,b,w,x),_}(y,t[0],t[1],s,a,l,c)},r=-1,null==b){for(;++r<o;)m(y,t[r],n[r],i[r],s,a,l,c);--r}else t.forEach(y.add);return n=i=t=e=null,y}return e.x=function(t){return arguments.length?(k=t,e):k},e.y=function(t){return arguments.length?(S=t,e):S},e.extent=function(t){return arguments.length?(null==t?b=w=x=_=null:(b=+t[0][0],w=+t[0][1],x=+t[1][0],_=+t[1][1]),e):null==b?null:[[b,w],[x,_]]},e.size=function(t){return arguments.length?(null==t?b=w=x=_=null:(b=w=0,x=+t[0],_=+t[1]),e):null==b?null:[x-b,_-w]},e},I.interpolateRgb=fo,I.interpolateObject=po,I.interpolateNumber=go,I.interpolateString=mo;var vo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yo=new RegExp(vo.source,"g");function bo(t,e){for(var n,i=I.interpolators.length;0<=--i&&!(n=I.interpolators[i](t,e)););return n}function wo(t,e){var n,i=[],r=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;n<a;++n)i.push(bo(t[n],e[n]));for(;n<o;++n)r[n]=t[n];for(;n<s;++n)r[n]=e[n];return function(t){for(n=0;n<a;++n)r[n]=i[n](t);return r}}I.interpolate=bo,I.interpolators=[function(t,e){var n=typeof e;return("string"==n?fe.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?fo:mo:e instanceof Ft?fo:Array.isArray(e)?wo:"object"==n&&isNaN(e)?po:go)(t,e)}],I.interpolateArray=wo;function xo(){return R}var _o=I.map({linear:xo,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return Do},cubic:function(){return Eo},sin:function(){return Mo},exp:function(){return $o},circle:function(){return No},elastic:function(e,n){var i;arguments.length<2&&(n=.45);i=arguments.length?n/kt*Math.asin(1/e):(e=1,n/4);return function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-i)*kt/n)}},back:function(e){e=e||1.70158;return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return Ao}}),Co=I.map({in:R,out:ko,"in-out":So,"out-in":function(t){return So(ko(t))}});function ko(e){return function(t){return 1-e(1-t)}}function So(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Do(t){return t*t}function Eo(t){return t*t*t}function To(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Mo(t){return 1-Math.cos(t*Dt)}function $o(t){return Math.pow(2,10*(t-1))}function No(t){return 1-Math.sqrt(1-t*t)}function Ao(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Po(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function Io(t){var e=[t.a,t.b],n=[t.c,t.d],i=Ro(e),r=Oo(e,n),o=Ro(function(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Tt,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Tt:0}function Oo(t,e){return t[0]*e[0]+t[1]*e[1]}function Ro(t){var e=Math.sqrt(Oo(t,t));return e&&(t[0]/=e,t[1]/=e),e}I.ease=function(t){var e=t.indexOf("-"),n=0<=e?t.slice(0,e):t,i=0<=e?t.slice(e+1):"in";return n=_o.get(n)||xo,function(e){return function(t){return t<=0?0:1<=t?1:e(t)}}((i=Co.get(i)||R)(n.apply(null,r.call(arguments,1))))},I.interpolateHcl=function(t,e){t=I.hcl(t),e=I.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,s=e.c-i,a=e.l-r;isNaN(s)&&(s=0,i=isNaN(i)?e.c:i);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360);return function(t){return qt(n+o*t,i+s*t,r+a*t)+""}},I.interpolateHsl=function(t,e){t=I.hsl(t),e=I.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,s=e.s-i,a=e.l-r;isNaN(s)&&(s=0,i=isNaN(i)?e.s:i);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360);return function(t){return Wt(n+o*t,i+s*t,r+a*t)+""}},I.interpolateLab=function(t,e){t=I.lab(t),e=I.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,s=e.a-i,a=e.b-r;return function(t){return Zt(n+o*t,i+s*t,r+a*t)+""}},I.interpolateRound=Po,I.transform=function(t){var n=b.createElementNS(I.ns.prefix.svg,"g");return(I.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new Io(e?e.matrix:Lo)})(t)},Io.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Lo={a:1,b:0,c:0,d:1,e:0,f:0};function Ho(t){return t.length?t.pop()+",":""}function Fo(t,e){var r=[],o=[];return t=I.transform(t),e=I.transform(e),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:go(t[0],e[0])},{i:r-2,x:go(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,r,o),function(t,e,n,i){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),i.push({i:n.push(Ho(n)+"rotate(",null,")")-2,x:go(t,e)})):e&&n.push(Ho(n)+"rotate("+e+")")}(t.rotate,e.rotate,r,o),function(t,e,n,i){t!==e?i.push({i:n.push(Ho(n)+"skewX(",null,")")-2,x:go(t,e)}):e&&n.push(Ho(n)+"skewX("+e+")")}(t.skew,e.skew,r,o),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Ho(n)+"scale(",null,",",null,")");i.push({i:r-4,x:go(t[0],e[0])},{i:r-2,x:go(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Ho(n)+"scale("+e+")")}(t.scale,e.scale,r,o),t=e=null,function(t){for(var e,n=-1,i=o.length;++n<i;)r[(e=o[n]).i]=e.x(t);return r.join("")}}function zo(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function jo(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function Wo(t){for(var e=t.source,n=t.target,i=function(t,e){if(t===e)return t;var n=Bo(t),i=Bo(e),r=n.pop(),o=i.pop(),s=null;for(;r===o;)s=r,r=n.pop(),o=i.pop();return s}(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Bo(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function Yo(t){t.fixed|=2}function qo(t){t.fixed&=-7}function Uo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Vo(t){t.fixed&=-5}I.interpolateTransform=Fo,I.layout={},I.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Wo(t[n]));return e}},I.layout.chord=function(){var m,v,y,b,w,x,_,e={},C=0;function t(){var t,e,n,i,r,o={},s=[],a=I.range(b),l=[];for(m=[],v=[],t=0,i=-1;++i<b;){for(e=0,r=-1;++r<b;)e+=y[i][r];s.push(e),l.push(I.range(b)),t+=e}for(w&&a.sort(function(t,e){return w(s[t],s[e])}),x&&l.forEach(function(t,n){t.sort(function(t,e){return x(y[n][t],y[n][e])})}),t=(kt-C*b)/t,e=0,i=-1;++i<b;){for(n=e,r=-1;++r<b;){var c=a[i],u=l[c][r],h=y[c][u],d=e,f=e+=h*t;o[c+"-"+u]={index:c,subindex:u,startAngle:d,endAngle:f,value:h}}v[c]={index:c,startAngle:n,endAngle:e,value:s[c]},e+=C}for(i=-1;++i<b;)for(r=i-1;++r<b;){var p=o[i+"-"+r],g=o[r+"-"+i];(p.value||g.value)&&m.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}_&&k()}function k(){m.sort(function(t,e){return _((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return e.matrix=function(t){return arguments.length?(b=(y=t)&&y.length,m=v=null,e):y},e.padding=function(t){return arguments.length?(C=t,m=v=null,e):C},e.sortGroups=function(t){return arguments.length?(w=t,m=v=null,e):w},e.sortSubgroups=function(t){return arguments.length?(x=t,m=null,e):x},e.sortChords=function(t){return arguments.length?(_=t,m&&k(),e):_},e.chords=function(){return m||t(),m},e.groups=function(){return v||t(),v},e},I.layout.force=function(){var h,t,d,f,p,g,r={},m=I.dispatch("start","tick","end"),v=[1,1],y=.9,o=Go,s=Xo,b=-30,u=Ko,w=.1,x=.64,_=[],C=[];function k(c){return function(t,e,n,i){if(t.point!==c){var r=t.cx-c.x,o=t.cy-c.y,s=i-e,a=r*r+o*o;if(s*s/x<a){if(a<u){var l=t.charge/a;c.px-=r*l,c.py-=o*l}return!0}if(t.point&&a&&a<u){l=t.pointCharge/a;c.px-=r*l,c.py-=o*l}}return!t.charge}}function e(t){t.px=I.event.x,t.py=I.event.y,r.resume()}return r.tick=function(){if((d*=.99)<.005)return h=null,m.end({type:"end",alpha:d=0}),!0;var t,e,n,i,r,o,s,a,l,c=_.length,u=C.length;for(e=0;e<u;++e)i=(n=C[e]).source,(o=(a=(r=n.target).x-i.x)*a+(l=r.y-i.y)*l)&&(a*=o=d*p[e]*((o=Math.sqrt(o))-f[e])/o,l*=o,r.x-=a*(s=i.weight+r.weight?i.weight/(i.weight+r.weight):.5),r.y-=l*s,i.x+=a*(s=1-s),i.y+=l*s);if((s=d*w)&&(a=v[0]/2,l=v[1]/2,e=-1,s))for(;++e<c;)(n=_[e]).x+=(a-n.x)*s,n.y+=(l-n.y)*s;if(b)for(!function t(e,n,i){var r=0,o=0;e.charge=0;if(!e.leaf)for(var s,a=e.nodes,l=a.length,c=-1;++c<l;)null!=(s=a[c])&&(t(s,n,i),e.charge+=s.charge,r+=s.charge*s.cx,o+=s.charge*s.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=n*i[e.point.index];e.charge+=e.pointCharge=u,r+=u*e.point.x,o+=u*e.point.y}e.cx=r/e.charge;e.cy=o/e.charge}(t=I.geom.quadtree(_),d,g),e=-1;++e<c;)(n=_[e]).fixed||t.visit(k(n));for(e=-1;++e<c;)(n=_[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*y,n.y-=(n.py-(n.py=n.y))*y);m.tick({type:"tick",alpha:d})},r.nodes=function(t){return arguments.length?(_=t,r):_},r.links=function(t){return arguments.length?(C=t,r):C},r.size=function(t){return arguments.length?(v=t,r):v},r.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,r):o},r.distance=r.linkDistance,r.linkStrength=function(t){return arguments.length?(s="function"==typeof t?t:+t,r):s},r.friction=function(t){return arguments.length?(y=+t,r):y},r.charge=function(t){return arguments.length?(b="function"==typeof t?t:+t,r):b},r.chargeDistance=function(t){return arguments.length?(u=t*t,r):Math.sqrt(u)},r.gravity=function(t){return arguments.length?(w=+t,r):w},r.theta=function(t){return arguments.length?(x=t*t,r):Math.sqrt(x)},r.alpha=function(t){return arguments.length?(t=+t,d?0<t?d=t:(h.c=null,h.t=NaN,h=null,m.end({type:"end",alpha:d=0})):0<t&&(m.start({type:"start",alpha:d=t}),h=_e(r.tick)),r):d},r.start=function(){var a,l,t,c=_.length,u=C.length,e=v[0],n=v[1];for(a=0;a<c;++a)(t=_[a]).index=a,t.weight=0;for(a=0;a<u;++a)"number"==typeof(t=C[a]).source&&(t.source=_[t.source]),"number"==typeof t.target&&(t.target=_[t.target]),++t.source.weight,++t.target.weight;for(a=0;a<c;++a)t=_[a],isNaN(t.x)&&(t.x=i("x",e)),isNaN(t.y)&&(t.y=i("y",n)),isNaN(t.px)&&(t.px=t.x),isNaN(t.py)&&(t.py=t.y);if(f=[],"function"==typeof o)for(a=0;a<u;++a)f[a]=+o.call(this,C[a],a);else for(a=0;a<u;++a)f[a]=o;if(p=[],"function"==typeof s)for(a=0;a<u;++a)p[a]=+s.call(this,C[a],a);else for(a=0;a<u;++a)p[a]=s;if(g=[],"function"==typeof b)for(a=0;a<c;++a)g[a]=+b.call(this,_[a],a);else for(a=0;a<c;++a)g[a]=b;function i(t,e){if(!l){for(l=new Array(c),o=0;o<c;++o)l[o]=[];for(o=0;o<u;++o){var n=C[o];l[n.source.index].push(n.target),l[n.target.index].push(n.source)}}for(var i,r=l[a],o=-1,s=r.length;++o<s;)if(!isNaN(i=r[o][t]))return i;return Math.random()*e}return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){if(t=t||I.behavior.drag().origin(R).on("dragstart.force",Yo).on("drag.force",e).on("dragend.force",qo),!arguments.length)return t;this.on("mouseover.force",Uo).on("mouseout.force",Vo).call(t)},I.rebind(r,m,"on")};var Go=20,Xo=1,Ko=1/0;function Qo(t,e){return I.rebind(t,e,"sort","children","value"),(t.nodes=t).links=is,t}function Zo(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;0<=--i;)n.push(r[i])}function Jo(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,s=-1;++s<r;)n.push(o[s]);for(;null!=(t=i.pop());)e(t)}function ts(t){return t.children}function es(t){return t.value}function ns(t,e){return e.value-t.value}function is(t){return I.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}I.layout.hierarchy=function(){var a=ns,l=ts,c=es;function u(t){var e,n=[t],i=[];for(t.depth=0;null!=(e=n.pop());)if(i.push(e),(o=l.call(u,e,e.depth))&&(r=o.length)){for(var r,o,s;0<=--r;)n.push(s=o[r]),s.parent=e,s.depth=e.depth+1;c&&(e.value=0),e.children=o}else c&&(e.value=+c.call(u,e,e.depth)||0),delete e.children;return Jo(t,function(t){var e,n;a&&(e=t.children)&&e.sort(a),c&&(n=t.parent)&&(n.value+=t.value)}),i}return u.sort=function(t){return arguments.length?(a=t,u):a},u.children=function(t){return arguments.length?(l=t,u):l},u.value=function(t){return arguments.length?(c=t,u):c},u.revalue=function(t){return c&&(Zo(t,function(t){t.children&&(t.value=0)}),Jo(t,function(t){var e;t.children||(t.value=+c.call(u,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},u},I.layout.partition=function(){var i=I.layout.hierarchy(),r=[1,1];function e(t,e){var n=i.call(this,t,e);return function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(s=o.length)){var s,a,l,c=-1;for(i=e.value?i/e.value:0;++c<s;)t(a=o[c],n,l=a.value*i,r),n+=l}}(n[0],0,r[0],r[1]/function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,t(n[o]));return 1+i}(n[0])),n}return e.size=function(t){return arguments.length?(r=t,e):r},Qo(e,i)},I.layout.pie=function(){var d=Number,f=rs,p=0,g=kt,m=0;function v(n){var e,t=n.length,i=n.map(function(t,e){return+d.call(v,t,e)}),r=+("function"==typeof p?p.apply(this,arguments):p),o=("function"==typeof g?g.apply(this,arguments):g)-r,s=Math.min(Math.abs(o)/t,+("function"==typeof m?m.apply(this,arguments):m)),a=s*(o<0?-1:1),l=I.sum(i),c=l?(o-t*a)/l:0,u=I.range(t),h=[];return null!=f&&u.sort(f===rs?function(t,e){return i[e]-i[t]}:function(t,e){return f(n[t],n[e])}),u.forEach(function(t){h[t]={data:n[t],value:e=i[t],startAngle:r,endAngle:r+=e*c+a,padAngle:s}}),h}return v.value=function(t){return arguments.length?(d=t,v):d},v.sort=function(t){return arguments.length?(f=t,v):f},v.startAngle=function(t){return arguments.length?(p=t,v):p},v.endAngle=function(t){return arguments.length?(g=t,v):g},v.padAngle=function(t){return arguments.length?(m=t,v):m},v};var rs={};function os(t){return t.x}function ss(t){return t.y}function as(t,e,n){t.y0=e,t.y=n}I.layout.stack=function(){var h=R,d=us,f=hs,p=as,g=os,m=ss;function v(t,e){if(!(o=t.length))return t;var n=t.map(function(t,e){return h.call(v,t,e)}),i=n.map(function(t){return t.map(function(t,e){return[g.call(v,t,e),m.call(v,t,e)]})}),r=d.call(v,i,e);n=I.permute(n,r),i=I.permute(i,r);var o,s,a,l,c=f.call(v,i,e),u=n[0].length;for(a=0;a<u;++a)for(p.call(v,n[0][a],l=c[a],i[0][a][1]),s=1;s<o;++s)p.call(v,n[s][a],l+=i[s-1][a][1],i[s][a][1]);return t}return v.values=function(t){return arguments.length?(h=t,v):h},v.order=function(t){return arguments.length?(d="function"==typeof t?t:ls.get(t)||us,v):d},v.offset=function(t){return arguments.length?(f="function"==typeof t?t:cs.get(t)||hs,v):f},v.x=function(t){return arguments.length?(g=t,v):g},v.y=function(t){return arguments.length?(m=t,v):m},v.out=function(t){return arguments.length?(p=t,v):p},v};var ls=I.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(ds),o=t.map(fs),s=I.range(i).sort(function(t,e){return r[t]-r[e]}),a=0,l=0,c=[],u=[];for(e=0;e<i;++e)n=s[e],a<l?(a+=o[n],c.push(n)):(l+=o[n],u.push(n));return u.reverse().concat(c)},reverse:function(t){return I.range(t.length).reverse()},default:us}),cs=I.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,s=[],a=0,l=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];a<i&&(a=i),s.push(i)}for(n=0;n<o;++n)l[n]=(a-s[n])/2;return l},wiggle:function(t){var e,n,i,r,o,s,a,l,c,u=t.length,h=t[0],d=h.length,f=[];for(f[0]=l=c=0,n=1;n<d;++n){for(r=e=0;e<u;++e)r+=t[e][n][1];for(o=e=0,a=h[n][0]-h[n-1][0];e<u;++e){for(i=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);i<e;++i)s+=(t[i][n][1]-t[i][n-1][1])/a;o+=s*t[e][n][1]}f[n]=l-=r?o/r*a:0,l<c&&(c=l)}for(n=0;n<d;++n)f[n]-=c;return f},expand:function(t){var e,n,i,r=t.length,o=t[0].length,s=1/r,a=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=s}for(n=0;n<o;++n)a[n]=0;return a},zero:hs});function us(t){return I.range(t.length)}function hs(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function ds(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function fs(t){return t.reduce(ps,0)}function ps(t,e){return t+e[1]}function gs(t,e){return ms(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function ms(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function vs(t){return[I.min(t),I.max(t)]}function ys(t,e){return t.value-e.value}function bs(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function ws(t,e){(t._pack_next=e)._pack_prev=t}function xs(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return n*n+i*i<.999*r*r}function _s(t){if((e=t.children)&&(l=e.length)){var e,n,i,r,o,s,a,l,c=1/0,u=-1/0,h=1/0,d=-1/0;if(e.forEach(Cs),(n=e[0]).x=-n.r,n.y=0,b(n),1<l&&((i=e[1]).x=i.r,i.y=0,b(i),2<l))for(Ss(n,i,r=e[2]),b(r),bs(n,r),bs(n._pack_prev=r,i),i=n._pack_next,o=3;o<l;o++){Ss(n,i,r=e[o]);var f=0,p=1,g=1;for(s=i._pack_next;s!==i;s=s._pack_next,p++)if(xs(s,r)){f=1;break}if(1==f)for(a=n._pack_prev;a!==s._pack_prev&&!xs(a,r);a=a._pack_prev,g++);f?(p<g||p==g&&i.r<n.r?ws(n,i=s):ws(n=a,i),o--):(bs(n,r),b(i=r))}var m=(c+u)/2,v=(h+d)/2,y=0;for(o=0;o<l;o++)(r=e[o]).x-=m,r.y-=v,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=y,e.forEach(ks)}function b(t){c=Math.min(t.x-t.r,c),u=Math.max(t.x+t.r,u),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}}function Cs(t){t._pack_next=t._pack_prev=t}function ks(t){delete t._pack_next,delete t._pack_prev}function Ss(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var s=e.r+n.r,a=r*r+o*o,l=.5+((i*=i)-(s*=s))/(2*a),c=Math.sqrt(Math.max(0,2*s*(i+a)-(i-=a)*i-s*s))/(2*a);n.x=t.x+l*r+c*o,n.y=t.y+l*o-c*r}else n.x=t.x+i,n.y=t.y}function Ds(t,e){return t.parent==e.parent?1:2}function Es(t){var e=t.children;return e.length?e[0]:t.t}function Ts(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ms(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function $s(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ns(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function As(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Ps(t){return t.rangeExtent?t.rangeExtent():As(t.range())}function Is(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Os(t,e){var n,i=0,r=t.length-1,o=t[i],s=t[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t}function Rs(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Ls}I.layout.histogram=function(){var h=!0,d=Number,f=vs,p=gs;function n(t,e){for(var n,i,r=[],o=t.map(d,this),s=f.call(this,o,e),a=p.call(this,s,o,e),l=(e=-1,o.length),c=a.length-1,u=h?1:1/l;++e<c;)(n=r[e]=[]).dx=a[e+1]-(n.x=a[e]),n.y=0;if(0<c)for(e=-1;++e<l;)(i=o[e])>=s[0]&&i<=s[1]&&((n=r[I.bisect(a,i,1,c)-1]).y+=u,n.push(t[e]));return r}return n.value=function(t){return arguments.length?(d=t,n):d},n.range=function(t){return arguments.length?(f=pe(t),n):f},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return ms(t,e)}:pe(e),n):p},n.frequency=function(t){return arguments.length?(h=!!t,n):h},n},I.layout.pack=function(){var l,c=I.layout.hierarchy().sort(ys),u=0,h=[1,1];function e(t,e){var n=c.call(this,t,e),i=n[0],r=h[0],o=h[1],s=null==l?Math.sqrt:"function"==typeof l?l:function(){return l};if(i.x=i.y=0,Jo(i,function(t){t.r=+s(t.value)}),Jo(i,_s),u){var a=u*(l?1:Math.max(2*i.r/r,2*i.r/o))/2;Jo(i,function(t){t.r+=a}),Jo(i,_s),Jo(i,function(t){t.r-=a})}return function t(e,n,i,r){var o=e.children;e.x=n+=r*e.x;e.y=i+=r*e.y;e.r*=r;if(o)for(var s=-1,a=o.length;++s<a;)t(o[s],n,i,r)}(i,r/2,o/2,l?1:1/Math.max(2*i.r/r,2*i.r/o)),n}return e.size=function(t){return arguments.length?(h=t,e):h},e.radius=function(t){return arguments.length?(l=null==t||"function"==typeof t?t:+t,e):l},e.padding=function(t){return arguments.length?(u=+t,e):u},Qo(e,c)},I.layout.tree=function(){var h=I.layout.hierarchy().sort(null).value(null),g=Ds,d=[1,1],f=null;function e(t,e){var n=h.call(this,t,e),i=n[0],r=function(t){var e,n={A:null,children:[t]},i=[n];for(;null!=(e=i.pop());)for(var r,o=e.children,s=0,a=o.length;s<a;++s)i.push((o[s]=r={_:o[s],parent:e,children:(r=o[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return n.children[0]}(i);if(Jo(r,p),r.parent.m=-r.z,Zo(r,m),f)Zo(i,v);else{var o=i,s=i,a=i;Zo(i,function(t){t.x<o.x&&(o=t),t.x>s.x&&(s=t),t.depth>a.depth&&(a=t)});var l=g(o,s)/2-o.x,c=d[0]/(s.x+g(s,o)/2+l),u=d[1]/(a.depth||1);Zo(i,function(t){t.x=(t.x+l)*c,t.y=t.depth*u})}return n}function p(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){!function(t){var e,n=0,i=0,r=t.children,o=r.length;for(;0<=--o;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+g(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+g(t._,i._));t.parent.A=function(t,e,n){if(e){for(var i,r=t,o=t,s=e,a=r.parent.children[0],l=r.m,c=o.m,u=s.m,h=a.m;s=Ts(s),r=Es(r),s&&r;)a=Es(a),(o=Ts(o)).a=t,0<(i=s.z+u-r.z-l+g(s._,r._))&&(Ms((f=t,p=n,(d=s).a.parent===f.parent?d.a:p),t,i),l+=i,c+=i),u+=s.m,l+=r.m,h+=a.m,c+=o.m;s&&!Ts(o)&&(o.t=s,o.m+=u-c),r&&!Es(a)&&(a.t=r,a.m+=l-h,n=t)}var d,f,p;return n}(t,i,t.parent.A||n[0])}function m(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function v(t){t.x*=d[0],t.y=t.depth*d[1]}return e.separation=function(t){return arguments.length?(g=t,e):g},e.size=function(t){return arguments.length?(f=null==(d=t)?v:null,e):f?null:d},e.nodeSize=function(t){return arguments.length?(f=null==(d=t)?null:v,e):f?d:null},Qo(e,h)},I.layout.cluster=function(){var u=I.layout.hierarchy().sort(null).value(null),h=Ds,d=[1,1],f=!1;function e(t,e){var n,i=u.call(this,t,e),r=i[0],o=0;Jo(r,function(t){var e=t.children;e&&e.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(e),t.y=function(t){return 1+I.max(t,function(t){return t.y})}(e)):(t.x=n?o+=h(t,n):0,t.y=0,n=t)});var s=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(r),a=function t(e){var n,i=e.children;return i&&(n=i.length)?t(i[n-1]):e}(r),l=s.x-h(s,a)/2,c=a.x+h(a,s)/2;return Jo(r,f?function(t){t.x=(t.x-r.x)*d[0],t.y=(r.y-t.y)*d[1]}:function(t){t.x=(t.x-l)/(c-l)*d[0],t.y=(1-(r.y?t.y/r.y:1))*d[1]}),i}return e.separation=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(f=null==(d=t),e):f?null:d},e.nodeSize=function(t){return arguments.length?(f=null!=(d=t),e):f?d:null},Qo(e,u)},I.layout.treemap=function(){var i,r=I.layout.hierarchy(),u=Math.round,o=[1,1],s=null,h=$s,a=!1,d="squarify",l=.5*(1+Math.sqrt(5));function f(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function p(t){var e=t.children;if(e&&e.length){var n,i,r,o=h(t),s=[],a=e.slice(),l=1/0,c="slice"===d?o.dx:"dice"===d?o.dy:"slice-dice"===d?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(f(a,o.dx*o.dy/t.value),s.area=0;0<(r=a.length);)s.push(n=a[r-1]),s.area+=n.area,l="squarify"!==d||(i=g(s,c))<=l?(a.pop(),i):(s.area-=s.pop().area,m(s,c,o,!1),c=Math.min(o.dx,o.dy),s.length=s.area=0,1/0);s.length&&(m(s,c,o,!0),s.length=s.area=0),e.forEach(p)}}function c(t){var e=t.children;if(e&&e.length){var n,i=h(t),r=e.slice(),o=[];for(f(r,i.dx*i.dy/t.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(m(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);e.forEach(c)}}function g(t,e){for(var n,i=t.area,r=0,o=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(n<o&&(o=n),r<n&&(r=n));return e*=e,(i*=i)?Math.max(e*r*l/i,i/(e*o*l)):1/0}function m(t,e,n,i){var r,o=-1,s=t.length,a=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<s;)(r=t[o]).x=a,r.y=l,r.dy=c,a+=r.dx=Math.min(n.x+n.dx-a,c?u(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-a,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<s;)(r=t[o]).x=a,r.y=l,r.dx=c,l+=r.dy=Math.min(n.y+n.dy-l,c?u(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function v(t){var e=i||r(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=o[0],n.dy=o[1]):n.dx=n.dy=0,i&&r.revalue(n),f([n],n.dx*n.dy/n.value),(i?c:p)(n),a&&(i=e),e}return v.size=function(t){return arguments.length?(o=t,v):o},v.padding=function(n){if(!arguments.length)return s;function t(t){return Ns(t,n)}var e;return h=null==(s=n)?$s:"function"==(e=typeof n)?function(t){var e=n.call(v,t,t.depth);return null==e?$s(t):Ns(t,"number"==typeof e?[e,e,e,e]:e)}:("number"==e&&(n=[n,n,n,n]),t),v},v.round=function(t){return arguments.length?(u=t?Math.round:Number,v):u!=Number},v.sticky=function(t){return arguments.length?(a=t,i=null,v):a},v.ratio=function(t){return arguments.length?(l=t,v):l},v.mode=function(t){return arguments.length?(d=t+"",v):d},Qo(v,r)},I.random={normal:function(i,r){var t=arguments.length;return t<2&&(r=1),t<1&&(i=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return i+r*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=I.random.normal.apply(I,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=I.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},I.scale={};var Ls={floor:R,ceil:R};function Hs(n,t,e,i){var r=[],o=[],s=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<=a;)r.push(e(n[s-1],n[s])),o.push(i(t[s-1],t[s]));return function(t){var e=I.bisect(n,t,1,a)-1;return o[e](r[e](t))}}function Fs(t,e){return I.rebind(t,e,"range","rangeRound","interpolate","clamp")}function zs(t,e){return Os(t,Rs(js(t,e)[2])),Os(t,Rs(js(t,e)[2])),t}function js(t,e){null==e&&(e=10);var n=As(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Ws(t,e){return I.range.apply(I,js(t,e))}function Bs(t,e,n){var i=js(t,e);if(n){var r=Te.exec(n);if(r.shift(),"s"===r[8]){var o=I.formatPrefix(Math.max(P(i[0]),P(i[1])));return r[7]||(r[7]="."+qs(o.scale(i[2]))),r[8]="f",n=I.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+function(t,e){var n=qs(e[2]);return t in Ys?Math.abs(n-qs(Math.max(P(e[0]),P(e[1]))))+ +("e"!==t):n-2*("%"===t)}(r[8],i)),n=r.join("")}else n=",."+qs(i[2])+"f";return I.format(n)}I.scale.linear=function(){return function t(n,i,r,o){var s,a;function e(){var t=2<Math.min(n.length,i.length)?Hs:Is,e=o?jo:zo;return s=t(n,i,e,r),a=t(i,n,e,bo),l}function l(t){return s(t)}l.invert=function(t){return a(t)};l.domain=function(t){return arguments.length?(n=t.map(Number),e()):n};l.range=function(t){return arguments.length?(i=t,e()):i};l.rangeRound=function(t){return l.range(t).interpolate(Po)};l.clamp=function(t){return arguments.length?(o=t,e()):o};l.interpolate=function(t){return arguments.length?(r=t,e()):r};l.ticks=function(t){return Ws(n,t)};l.tickFormat=function(t,e){return Bs(n,t,e)};l.nice=function(t){return zs(n,t),e()};l.copy=function(){return t(n,i,r,o)};return e()}([0,1],[0,1],bo,!1)};var Ys={s:1,g:1,p:1,r:1,e:1};function qs(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}I.scale.log=function(){return function t(e,l,c,u){function h(t){return(c?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(l)}function d(t){return c?Math.pow(l,t):-Math.pow(l,-t)}function r(t){return e(h(t))}r.invert=function(t){return d(e.invert(t))};r.domain=function(t){return arguments.length?(c=0<=t[0],e.domain((u=t.map(Number)).map(h)),r):u};r.base=function(t){return arguments.length?(l=+t,e.domain(u.map(h)),r):l};r.nice=function(){var t=Os(u.map(h),c?Math:Vs);return e.domain(t),u=t.map(d),r};r.ticks=function(){var t=As(u),e=[],n=t[0],i=t[1],r=Math.floor(h(n)),o=Math.ceil(h(i)),s=l%1?2:l;if(isFinite(o-r)){if(c){for(;r<o;r++)for(var a=1;a<s;a++)e.push(d(r)*a);e.push(d(r))}else for(e.push(d(r));r++<o;)for(var a=s-1;0<a;a--)e.push(d(r)*a);for(r=0;e[r]<n;r++);for(o=e.length;e[o-1]>i;o--);e=e.slice(r,o)}return e};r.tickFormat=function(t,n){if(!arguments.length)return Us;arguments.length<2?n=Us:"function"!=typeof n&&(n=I.format(n));var i=Math.max(1,l*t/r.ticks().length);return function(t){var e=t/d(Math.round(h(t)));return e*l<l-.5&&(e*=l),e<=i?n(t):""}};r.copy=function(){return t(e.copy(),l,c,u)};return Fs(r,e)}(I.scale.linear().domain([0,1]),10,!0,[1,10])};var Us=I.format(".0e"),Vs={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Gs(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}I.scale.pow=function(){return function t(e,n,i){var r=Gs(n),o=Gs(1/n);function s(t){return e(r(t))}s.invert=function(t){return o(e.invert(t))};s.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(r)),s):i};s.ticks=function(t){return Ws(i,t)};s.tickFormat=function(t,e){return Bs(i,t,e)};s.nice=function(t){return s.domain(zs(i,t))};s.exponent=function(t){return arguments.length?(r=Gs(n=t),o=Gs(1/n),e.domain(i.map(r)),s):n};s.copy=function(){return t(e.copy(),n,i)};return Fs(s,e)}(I.scale.linear(),1,[0,1])},I.scale.sqrt=function(){return I.scale.pow().exponent(.5)},I.scale.ordinal=function(){return function t(a,l){var r,c,u;function h(t){return c[((r.get(t)||("range"===l.t?r.set(t,a.push(t)):NaN))-1)%c.length]}function d(e,n){return I.range(a.length).map(function(t){return e+n*t})}h.domain=function(t){if(!arguments.length)return a;a=[],r=new y;for(var e,n=-1,i=t.length;++n<i;)r.has(e=t[n])||r.set(e,a.push(e));return h[l.t].apply(h,l.a)};h.range=function(t){return arguments.length?(c=t,u=0,l={t:"range",a:arguments},h):c};h.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=a.length<2?(n=(n+i)/2,0):(i-n)/(a.length-1+e);return c=d(n+r*e/2,r),u=0,l={t:"rangePoints",a:arguments},h};h.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=a.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(a.length-1+e)|0;return c=d(n+Math.round(r*e/2+(i-n-(a.length-1+e)*r)/2),r),u=0,l={t:"rangeRoundPoints",a:arguments},h};h.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=t[1-i],s=(o-r)/(a.length-e+2*n);return c=d(r+s*n,s),i&&c.reverse(),u=s*(1-e),l={t:"rangeBands",a:arguments},h};h.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=t[1-i],s=Math.floor((o-r)/(a.length-e+2*n));return c=d(r+Math.round((o-r-(a.length-e)*s)/2),s),i&&c.reverse(),u=Math.round(s*(1-e)),l={t:"rangeRoundBands",a:arguments},h};h.rangeBand=function(){return u};h.rangeExtent=function(){return As(l.a[0])};h.copy=function(){return t(a,l)};return h.domain(a)}([],{t:"range",a:[[]]})},I.scale.category10=function(){return I.scale.ordinal().range(Xs)},I.scale.category20=function(){return I.scale.ordinal().range(Ks)},I.scale.category20b=function(){return I.scale.ordinal().range(Qs)},I.scale.category20c=function(){return I.scale.ordinal().range(Zs)};var Xs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(oe),Ks=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(oe),Qs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(oe),Zs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(oe);function Js(){return 0}I.scale.quantile=function(){return function t(n,i){var r;function e(){var t=0,e=i.length;for(r=[];++t<e;)r[t-1]=I.quantile(n,t/e);return o}function o(t){if(!isNaN(t=+t))return i[I.bisect(r,t)]}o.domain=function(t){return arguments.length?(n=t.map(c).filter(u).sort(l),e()):n};o.range=function(t){return arguments.length?(i=t,e()):i};o.quantiles=function(){return r};o.invertExtent=function(t){return(t=i.indexOf(t))<0?[NaN,NaN]:[0<t?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]};o.copy=function(){return t(n,i)};return e()}([],[])},I.scale.quantize=function(){return function t(e,n,i){var r,o;function s(t){return i[Math.max(0,Math.min(o,Math.floor(r*(t-e))))]}function a(){return r=i.length/(n-e),o=i.length-1,s}s.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],a()):[e,n]};s.range=function(t){return arguments.length?(i=t,a()):i};s.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/r+e,t+1/r]};s.copy=function(){return t(e,n,i)};return a()}(0,1,[0,1])},I.scale.threshold=function(){return function t(e,n){function i(t){if(t<=t)return n[I.bisect(e,t)]}i.domain=function(t){return arguments.length?(e=t,i):e};i.range=function(t){return arguments.length?(n=t,i):n};i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]};i.copy=function(){return t(e,n)};return i}([.5],[0,1])},I.scale.identity=function(){return function t(n){function e(t){return+t}e.invert=e;e.domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n};e.ticks=function(t){return Ws(n,t)};e.tickFormat=function(t,e){return Bs(n,t,e)};e.copy=function(){return t(n)};return e}([0,1])},I.svg={},I.svg.arc=function(){var H=ea,F=na,z=Js,j=ta,W=ia,B=ra,Y=oa;function e(){var t=Math.max(0,+H.apply(this,arguments)),e=Math.max(0,+F.apply(this,arguments)),n=W.apply(this,arguments)-Dt,i=B.apply(this,arguments)-Dt,r=Math.abs(i-n),o=i<n?0:1;if(e<t&&(s=e,e=t,t=s),St<=r)return q(e,o)+(t?q(t,1-o):"")+"Z";var s,a,l,c,u,h,d,f,p,g,m,v,y=0,b=0,w=[];if((c=(+Y.apply(this,arguments)||0)/2)&&(l=j===ta?Math.sqrt(t*t+e*e):+j.apply(this,arguments),o||(b*=-1),e&&(b=At(l/e*Math.sin(c))),t&&(y=At(l/t*Math.sin(c)))),e){u=e*Math.cos(n+b),h=e*Math.sin(n+b),d=e*Math.cos(i-b),f=e*Math.sin(i-b);var x=Math.abs(i-n-2*b)<=Ct?0:1;if(b&&sa(u,h,d,f)===o^x){var _=(n+i)/2;u=e*Math.cos(_),h=e*Math.sin(_),d=f=null}}else u=h=0;if(t){p=t*Math.cos(i-y),g=t*Math.sin(i-y),m=t*Math.cos(n+y),v=t*Math.sin(n+y);var C=Math.abs(n-i+2*y)<=Ct?0:1;if(y&&sa(p,g,m,v)===1-o^C){var k=(n+i)/2;p=t*Math.cos(k),g=t*Math.sin(k),m=v=null}}else p=g=0;if(xt<r&&.001<(s=Math.min(Math.abs(e-t)/2,+z.apply(this,arguments)))){a=t<e^o?0:1;var S=s,D=s;if(r<Ct){var E=null==m?[p,g]:null==d?[u,h]:Mr([u,h],[m,v],[d,f],[p,g]),T=u-E[0],M=h-E[1],$=d-E[0],N=f-E[1],A=1/Math.sin(Math.acos((T*$+M*N)/(Math.sqrt(T*T+M*M)*Math.sqrt($*$+N*N)))/2),P=Math.sqrt(E[0]*E[0]+E[1]*E[1]);D=Math.min(s,(t-P)/(A-1)),S=Math.min(s,(e-P)/(1+A))}if(null!=d){var I=aa(null==m?[p,g]:[m,v],[u,h],e,S,o),O=aa([d,f],[p,g],e,S,o);s===S?w.push("M",I[0],"A",S,",",S," 0 0,",a," ",I[1],"A",e,",",e," 0 ",1-o^sa(I[1][0],I[1][1],O[1][0],O[1][1]),",",o," ",O[1],"A",S,",",S," 0 0,",a," ",O[0]):w.push("M",I[0],"A",S,",",S," 0 1,",a," ",O[0])}else w.push("M",u,",",h);if(null!=m){var R=aa([u,h],[m,v],t,-D,o),L=aa([p,g],null==d?[u,h]:[d,f],t,-D,o);s===D?w.push("L",L[0],"A",D,",",D," 0 0,",a," ",L[1],"A",t,",",t," 0 ",o^sa(L[1][0],L[1][1],R[1][0],R[1][1]),",",1-o," ",R[1],"A",D,",",D," 0 0,",a," ",R[0]):w.push("L",L[0],"A",D,",",D," 0 0,",a," ",R[0])}else w.push("L",p,",",g)}else w.push("M",u,",",h),null!=d&&w.push("A",e,",",e," 0 ",x,",",o," ",d,",",f),w.push("L",p,",",g),null!=m&&w.push("A",t,",",t," 0 ",C,",",1-o," ",m,",",v);return w.push("Z"),w.join("")}function q(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return e.innerRadius=function(t){return arguments.length?(H=pe(t),e):H},e.outerRadius=function(t){return arguments.length?(F=pe(t),e):F},e.cornerRadius=function(t){return arguments.length?(z=pe(t),e):z},e.padRadius=function(t){return arguments.length?(j=t==ta?ta:pe(t),e):j},e.startAngle=function(t){return arguments.length?(W=pe(t),e):W},e.endAngle=function(t){return arguments.length?(B=pe(t),e):B},e.padAngle=function(t){return arguments.length?(Y=pe(t),e):Y},e.centroid=function(){var t=(+H.apply(this,arguments)+ +F.apply(this,arguments))/2,e=(+W.apply(this,arguments)+ +B.apply(this,arguments))/2-Dt;return[Math.cos(e)*t,Math.sin(e)*t]},e};var ta="auto";function ea(t){return t.innerRadius}function na(t){return t.outerRadius}function ia(t){return t.startAngle}function ra(t){return t.endAngle}function oa(t){return t&&t.padAngle}function sa(t,e,n,i){return 0<(t-n)*e-(e-i)*t?0:1}function aa(t,e,n,i,r){var o=t[0]-e[0],s=t[1]-e[1],a=(r?i:-i)/Math.sqrt(o*o+s*s),l=a*s,c=-a*o,u=t[0]+l,h=t[1]+c,d=e[0]+l,f=e[1]+c,p=(u+d)/2,g=(h+f)/2,m=d-u,v=f-h,y=m*m+v*v,b=n-i,w=u*f-d*h,x=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-w*w)),_=(w*v-m*x)/y,C=(-w*m-v*x)/y,k=(w*v+m*x)/y,S=(-w*m+v*x)/y,D=_-p,E=C-g,T=k-p,M=S-g;return T*T+M*M<D*D+E*E&&(_=k,C=S),[[_-l,C-c],[_*n/b,C*n/b]]}function la(c){var u=Cr,h=kr,d=pi,f=ua,e=f.key,p=.7;function n(t){var e,n=[],i=[],r=-1,o=t.length,s=pe(u),a=pe(h);function l(){n.push("M",f(c(i),p))}for(;++r<o;)d.call(this,e=t[r],r)?i.push([+s.call(this,e,r),+a.call(this,e,r)]):i.length&&(l(),i=[]);return i.length&&l(),n.length?n.join(""):null}return n.x=function(t){return arguments.length?(u=t,n):u},n.y=function(t){return arguments.length?(h=t,n):h},n.defined=function(t){return arguments.length?(d=t,n):d},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?f=t:(f=ca.get(t)||ua).key,n):e},n.tension=function(t){return arguments.length?(p=t,n):p},n}I.svg.line=function(){return la(R)};var ca=I.map({linear:ua,"linear-closed":ha,step:function(t){var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];for(;++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);1<n&&r.push("H",i[0]);return r.join("")},"step-before":da,"step-after":fa,basis:ma,"basis-open":function(t){if(t.length<4)return ua(t);var e,n=[],i=-1,r=t.length,o=[0],s=[0];for(;++i<3;)e=t[i],o.push(e[0]),s.push(e[1]);n.push(va(wa,o)+","+va(wa,s)),--i;for(;++i<r;)e=t[i],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),xa(n,o,s);return n.join("")},"basis-closed":function(t){var e,n,i=-1,r=t.length,o=r+4,s=[],a=[];for(;++i<4;)n=t[i%r],s.push(n[0]),a.push(n[1]);e=[va(wa,s),",",va(wa,a)],--i;for(;++i<o;)n=t[i%r],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),xa(e,s,a);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],s=t[0][1],a=t[n][0]-o,l=t[n][1]-s,c=-1;++c<=n;)i=t[c],r=c/n,i[0]=e*i[0]+(1-e)*(o+r*a),i[1]=e*i[1]+(1-e)*(s+r*l);return ma(t)},cardinal:function(t,e){return t.length<3?ua(t):t[0]+pa(t,ga(t,e))},"cardinal-open":function(t,e){return t.length<4?ua(t):t[1]+pa(t.slice(1,-1),ga(t,e))},"cardinal-closed":function(t,e){return t.length<3?ha(t):t[0]+pa((t.push(t[0]),t),ga([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?ua(t):t[0]+pa(t,function(t){var e,n,i,r,o=[],s=function(t){var e=0,n=t.length-1,i=[],r=t[0],o=t[1],s=i[0]=_a(r,o);for(;++e<n;)i[e]=(s+(s=_a(r=o,o=t[e+1])))/2;return i[e]=s,i}(t),a=-1,l=t.length-1;for(;++a<l;)e=_a(t[a],t[a+1]),P(e)<xt?s[a]=s[a+1]=0:(n=s[a]/e,i=s[a+1]/e,9<(r=n*n+i*i)&&(r=3*e/Math.sqrt(r),s[a]=r*n,s[a+1]=r*i));a=-1;for(;++a<=l;)r=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([r||0,s[a]*r||0]);return o}(t))}});function ua(t){return 1<t.length?t.join("L"):t+"Z"}function ha(t){return t.join("L")+"Z"}function da(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function fa(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function pa(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ua(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],s=e[0],a=s,l=1;if(n&&(i+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),1<e.length){a=e[1],o=t[l],l++,i+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,l++)o=t[l],a=e[c],i+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var u=t[l];i+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+u[0]+","+u[1]}return i}function ga(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],s=t[1],a=1,l=t.length;++a<l;)n=o,o=s,s=t[a],i.push([r*(s[0]-n[0]),r*(s[1]-n[1])]);return i}function ma(t){if(t.length<3)return ua(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],s=[r,r,r,(i=t[1])[0]],a=[o,o,o,i[1]],l=[r,",",o,"L",va(wa,s),",",va(wa,a)];for(t.push(t[n-1]);++e<=n;)i=t[e],s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),xa(l,s,a);return t.pop(),l.push("L",i),l.join("")}function va(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}ca.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var ya=[0,2/3,1/3,0],ba=[0,1/3,2/3,0],wa=[0,1/6,2/3,1/6];function xa(t,e,n){t.push("C",va(ya,e),",",va(ya,n),",",va(ba,e),",",va(ba,n),",",va(wa,e),",",va(wa,n))}function _a(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ca(t){for(var e,n,i,r=-1,o=t.length;++r<o;)n=(e=t[r])[0],i=e[1]-Dt,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function ka(p){var g=Cr,m=Cr,v=0,y=kr,b=pi,w=ua,e=w.key,x=w,_="L",C=.7;function n(t){var e,n,i,r=[],o=[],s=[],a=-1,l=t.length,c=pe(g),u=pe(v),h=g===m?function(){return n}:pe(m),d=v===y?function(){return i}:pe(y);function f(){r.push("M",w(p(s),C),_,x(p(o.reverse()),C),"Z")}for(;++a<l;)b.call(this,e=t[a],a)?(o.push([n=+c.call(this,e,a),i=+u.call(this,e,a)]),s.push([+h.call(this,e,a),+d.call(this,e,a)])):o.length&&(f(),o=[],s=[]);return o.length&&f(),r.length?r.join(""):null}return n.x=function(t){return arguments.length?(g=m=t,n):m},n.x0=function(t){return arguments.length?(g=t,n):g},n.x1=function(t){return arguments.length?(m=t,n):m},n.y=function(t){return arguments.length?(v=y=t,n):y},n.y0=function(t){return arguments.length?(v=t,n):v},n.y1=function(t){return arguments.length?(y=t,n):y},n.defined=function(t){return arguments.length?(b=t,n):b},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?w=t:(w=ca.get(t)||ua).key,x=w.reverse||w,_=w.closed?"M":"L",n):e},n.tension=function(t){return arguments.length?(C=t,n):C},n}function Sa(t){return t.radius}function Da(t){return[t.x,t.y]}function Ea(){return 64}function Ta(){return"circle"}function Ma(t){var e=Math.sqrt(t/Ct);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}I.svg.line.radial=function(){var t=la(Ca);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(da.reverse=fa).reverse=da,I.svg.area=function(){return ka(R)},I.svg.area.radial=function(){var t=ka(Ca);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},I.svg.chord=function(){var r=cr,o=ur,l=Sa,c=ia,u=ra;function e(t,e){var n=s(this,r,t,e),i=s(this,o,t,e);return"M"+n.p0+a(n.r,n.p1,n.a1-n.a0)+(function(t,e){return t.a0==e.a0&&t.a1==e.a1}(n,i)?h(n.r,n.p1,n.r,n.p0):h(n.r,n.p1,i.r,i.p0)+a(i.r,i.p1,i.a1-i.a0)+h(i.r,i.p1,n.r,n.p0))+"Z"}function s(t,e,n,i){var r=e.call(t,n,i),o=l.call(t,r,i),s=c.call(t,r,i)-Dt,a=u.call(t,r,i)-Dt;return{r:o,a0:s,a1:a,p0:[o*Math.cos(s),o*Math.sin(s)],p1:[o*Math.cos(a),o*Math.sin(a)]}}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(Ct<n)+",1 "+e}function h(t,e,n,i){return"Q 0,0 "+i}return e.radius=function(t){return arguments.length?(l=pe(t),e):l},e.source=function(t){return arguments.length?(r=pe(t),e):r},e.target=function(t){return arguments.length?(o=pe(t),e):o},e.startAngle=function(t){return arguments.length?(c=pe(t),e):c},e.endAngle=function(t){return arguments.length?(u=pe(t),e):u},e},I.svg.diagonal=function(){var s=cr,a=ur,l=Da;function e(t,e){var n=s.call(this,t,e),i=a.call(this,t,e),r=(n.y+i.y)/2,o=[n,{x:n.x,y:r},{x:i.x,y:r},i];return"M"+(o=o.map(l))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}return e.source=function(t){return arguments.length?(s=pe(t),e):s},e.target=function(t){return arguments.length?(a=pe(t),e):a},e.projection=function(t){return arguments.length?(l=t,e):l},e},I.svg.diagonal.radial=function(){var t=I.svg.diagonal(),e=Da,n=t.projection;return t.projection=function(t){return arguments.length?n(function(i){return function(){var t=i.apply(this,arguments),e=t[0],n=t[1]-Dt;return[e*Math.cos(n),e*Math.sin(n)]}}(e=t)):e},t},I.svg.symbol=function(){var n=Ta,i=Ea;function e(t,e){return($a.get(n.call(this,t,e))||Ma)(i.call(this,t,e))}return e.type=function(t){return arguments.length?(n=pe(t),e):n},e.size=function(t){return arguments.length?(i=pe(t),e):i},e};var $a=I.map({circle:Ma,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Aa)),n=e*Aa;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Na),n=e*Na/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Na),n=e*Na/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});I.svg.symbolTypes=$a.keys();var Na=Math.sqrt(3),Aa=Math.tan(30*Et);U.transition=function(t){for(var e,n,i=Ra||++Fa,r=Wa(t),o=[],s=La||{time:Date.now(),ease:To,delay:0,duration:250},a=-1,l=this.length;++a<l;){o.push(e=[]);for(var c=this[a],u=-1,h=c.length;++u<h;)(n=c[u])&&Ba(n,u,r,i,s),e.push(n)}return Oa(o,r,i)},U.interrupt=function(t){return this.each(null==t?Pa:Ia(Wa(t)))};var Pa=Ia(Wa());function Ia(i){return function(){var t,e,n;(t=this[i])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[i],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Oa(t,e,n){return j(t,Ha),t.namespace=e,t.id=n,t}var Ra,La,Ha=[],Fa=0;function za(t,i,r,o){var s=t.id,a=t.namespace;return lt(t,"function"==typeof r?function(t,e,n){t[a][s].tween.set(i,o(r.call(t,t.__data__,e,n)))}:(r=o(r),function(t){t[a][s].tween.set(i,r)}))}function ja(t){return null==t&&(t=""),function(){this.textContent=t}}function Wa(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ba(o,s,r,a,t){var l,c,u,h,d,f=o[r]||(o[r]={active:0,count:0}),p=f[a];function n(t){var e=f.active,n=f[e];for(var i in n&&(n.timer.c=null,n.timer.t=NaN,--f.count,delete f[e],n.event&&n.event.interrupt.call(o,o.__data__,n.index)),f)if(+i<a){var r=f[i];r.timer.c=null,r.timer.t=NaN,--f.count,delete f[i]}c.c=g,_e(function(){return c.c&&g(t||1)&&(c.c=null,c.t=NaN),1},0,l),f.active=a,p.event&&p.event.start.call(o,o.__data__,s),d=[],p.tween.forEach(function(t,e){(e=e.call(o,o.__data__,s))&&d.push(e)}),h=p.ease,u=p.duration}function g(t){for(var e=t/u,n=h(e),i=d.length;0<i;)d[--i].call(o,n);if(1<=e)return p.event&&p.event.end.call(o,o.__data__,s),--f.count?delete f[a]:delete o[r],1}p||(l=t.time,c=_e(function(t){var e=p.delay;if(c.t=e+l,e<=t)return n(t-e);c.c=n},0,l),p=f[a]={tween:new y,time:l,timer:c,delay:t.delay,duration:t.duration,ease:t.ease,index:s},t=null,++f.count)}Ha.call=U.call,Ha.empty=U.empty,Ha.node=U.node,Ha.size=U.size,I.transition=function(t,e){return t&&t.transition?Ra?t.transition(e):t:I.selection().transition(t)},(I.transition.prototype=Ha).select=function(t){var e,n,i,r=this.id,o=this.namespace,s=[];t=V(t);for(var a=-1,l=this.length;++a<l;){s.push(e=[]);for(var c=this[a],u=-1,h=c.length;++u<h;)(i=c[u])&&(n=t.call(i,i.__data__,u,a))?("__data__"in i&&(n.__data__=i.__data__),Ba(n,u,o,r,i[o][r]),e.push(n)):e.push(null)}return Oa(s,o,r)},Ha.selectAll=function(t){var e,n,i,r,o,s=this.id,a=this.namespace,l=[];t=G(t);for(var c=-1,u=this.length;++c<u;)for(var h=this[c],d=-1,f=h.length;++d<f;)if(i=h[d]){o=i[a][s],n=t.call(i,i.__data__,d,c),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&Ba(r,p,a,s,o),e.push(r)}return Oa(l,a,s)},Ha.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=at(t));for(var r=0,o=this.length;r<o;r++){i.push(e=[]);for(var s,a=0,l=(s=this[r]).length;a<l;a++)(n=s[a])&&t.call(n,n.__data__,a,r)&&e.push(n)}return Oa(i,this.namespace,this.id)},Ha.tween=function(e,n){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(e):lt(this,null==n?function(t){t[r][i].tween.remove(e)}:function(t){t[r][i].tween.set(e,n)})},Ha.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var i="transform"==t?Fo:bo,r=I.ns.qualify(t);function o(){this.removeAttribute(r)}function s(){this.removeAttributeNS(r.space,r.local)}return za(this,"attr."+t,e,r.local?function(n){return null==n?s:(n+="",function(){var e,t=this.getAttributeNS(r.space,r.local);return t!==n&&(e=i(t,n),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}:function(n){return null==n?o:(n+="",function(){var e,t=this.getAttribute(r);return t!==n&&(e=i(t,n),function(t){this.setAttribute(r,e(t))})})})},Ha.attrTween=function(t,i){var r=I.ns.qualify(t);return this.tween("attr."+t,r.local?function(t,e){var n=i.call(this,t,e,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}:function(t,e){var n=i.call(this,t,e,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}})},Ha.style=function(i,t,r){var e=arguments.length;if(e<3){if("string"!=typeof i){for(r in e<2&&(t=""),i)this.style(r,i[r],t);return this}r=""}function o(){this.style.removeProperty(i)}return za(this,"style."+i,t,function(n){return null==n?o:(n+="",function(){var e,t=O(this).getComputedStyle(this,null).getPropertyValue(i);return t!==n&&(e=bo(t,n),function(t){this.style.setProperty(i,e(t),r)})})})},Ha.styleTween=function(i,r,o){return arguments.length<3&&(o=""),this.tween("style."+i,function(t,e){var n=r.call(this,t,e,O(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(t){this.style.setProperty(i,n(t),o)}})},Ha.text=function(t){return za(this,"text",t,ja)},Ha.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Ha.ease=function(e){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof e&&(e=I.ease.apply(I,arguments)),lt(this,function(t){t[i][n].ease=e}))},Ha.delay=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].delay:lt(this,"function"==typeof i?function(t,e,n){t[o][r].delay=+i.call(t,t.__data__,e,n)}:(i=+i,function(t){t[o][r].delay=i}))},Ha.duration=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].duration:lt(this,"function"==typeof i?function(t,e,n){t[o][r].duration=Math.max(1,i.call(t,t.__data__,e,n))}:(i=Math.max(1,i),function(t){t[o][r].duration=i}))},Ha.each=function(i,n){var r=this.id,o=this.namespace;if(arguments.length<2){var t=La,e=Ra;try{Ra=r,lt(this,function(t,e,n){La=t[o][r],i.call(t,t.__data__,e,n)})}finally{La=t,Ra=e}}else lt(this,function(t){var e=t[o][r];(e.event||(e.event=I.dispatch("start","end","interrupt"))).on(i,n)});return this},Ha.transition=function(){for(var t,e,n,i=this.id,r=++Fa,o=this.namespace,s=[],a=0,l=this.length;a<l;a++){s.push(t=[]);for(var c,u=0,h=(c=this[a]).length;u<h;u++)(e=c[u])&&Ba(e,u,o,r,{time:(n=e[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Oa(s,o,r)},I.svg.axis=function(){var D,E=I.scale.linear(),T=Ya,M=6,$=6,N=3,A=[10],P=null;function n(t){t.each(function(){var t,e=I.select(this),n=this.__chart__||E,i=this.__chart__=E.copy(),r=null==P?i.ticks?i.ticks.apply(i,A):i.domain():P,o=null==D?i.tickFormat?i.tickFormat.apply(i,A):R:D,s=e.selectAll(".tick").data(r,i),a=s.enter().insert("g",".domain").attr("class","tick").style("opacity",xt),l=I.transition(s.exit()).style("opacity",xt).remove(),c=I.transition(s.order()).style("opacity",1),u=Math.max(M,0)+N,h=Ps(i),d=e.selectAll(".domain").data([0]),f=(d.enter().append("path").attr("class","domain"),I.transition(d));a.append("line"),a.append("text");var p,g,m,v,y=a.select("line"),b=c.select("line"),w=s.select("text").text(o),x=a.select("text"),_=c.select("text"),C="top"===T||"left"===T?-1:1;if("bottom"===T||"top"===T?(t=Ua,p="x",m="y",g="x2",v="y2",w.attr("dy",C<0?"0em":".71em").style("text-anchor","middle"),f.attr("d","M"+h[0]+","+C*$+"V0H"+h[1]+"V"+C*$)):(t=Va,p="y",m="x",g="y2",v="x2",w.attr("dy",".32em").style("text-anchor",C<0?"end":"start"),f.attr("d","M"+C*$+","+h[0]+"H0V"+h[1]+"H"+C*$)),y.attr(v,C*M),x.attr(m,C*u),b.attr(g,0).attr(v,C*M),_.attr(p,0).attr(m,C*u),i.rangeBand){var k=i,S=k.rangeBand()/2;n=i=function(t){return k(t)+S}}else n.rangeBand?n=i:l.call(t,i,n);a.call(t,n,i),c.call(t,i,i)})}return n.scale=function(t){return arguments.length?(E=t,n):E},n.orient=function(t){return arguments.length?(T=t in qa?t+"":Ya,n):T},n.ticks=function(){return arguments.length?(A=h(arguments),n):A},n.tickValues=function(t){return arguments.length?(P=t,n):P},n.tickFormat=function(t){return arguments.length?(D=t,n):D},n.tickSize=function(t){var e=arguments.length;return e?(M=+t,$=+arguments[e-1],n):M},n.innerTickSize=function(t){return arguments.length?(M=+t,n):M},n.outerTickSize=function(t){return arguments.length?($=+t,n):$},n.tickPadding=function(t){return arguments.length?(N=+t,n):N},n.tickSubdivide=function(){return arguments.length&&n},n};var Ya="bottom",qa={top:1,right:1,bottom:1,left:1};function Ua(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:i(t))+",0)"})}function Va(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:i(t))+")"})}I.svg.brush=function(){var y,b,w=F(E,"brushstart","brush","brushend"),x=null,_=null,C=[0,0],k=[0,0],S=!0,D=!0,s=Xa[0];function E(t){t.each(function(){var t=I.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(s,R);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ga[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",E.empty()?"none":null);var i,r=I.transition(t),o=I.transition(e);x&&(i=Ps(x),o.attr("x",i[0]).attr("width",i[1]-i[0]),M(r)),_&&(i=Ps(_),o.attr("y",i[0]).attr("height",i[1]-i[0]),$(r)),T(r)})}function T(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+C[+/e$/.test(t)]+","+k[+/^s/.test(t)]+")"})}function M(t){t.select(".extent").attr("x",C[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",C[1]-C[0])}function $(t){t.select(".extent").attr("y",k[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1]-k[0])}function a(){var h,n,i=this,t=I.select(I.event.target),r=w.of(i,arguments),o=I.select(i),e=t.datum(),s=!/^(n|s)$/.test(e)&&x,a=!/^(e|w)$/.test(e)&&_,d=t.classed("extent"),l=vt(i),f=I.mouse(i),c=I.select(O(i)).on("keydown.brush",function(){32==I.event.keyCode&&(d||(h=null,f[0]-=C[1],f[1]-=k[1],d=2),L())}).on("keyup.brush",function(){32==I.event.keyCode&&2==d&&(f[0]+=C[1],f[1]+=k[1],d=0,L())});if(I.event.changedTouches?c.on("touchmove.brush",g).on("touchend.brush",v):c.on("mousemove.brush",g).on("mouseup.brush",v),o.interrupt().selectAll("*").interrupt(),d)f[0]=C[0]-f[0],f[1]=k[0]-f[1];else if(e){var u=+/w$/.test(e),p=+/^n/.test(e);n=[C[1-u]-f[0],k[1-p]-f[1]],f[0]=C[u],f[1]=k[p]}else I.event.altKey&&(h=f.slice());function g(){var t=I.mouse(i),e=!1;n&&(t[0]+=n[0],t[1]+=n[1]),d||(I.event.altKey?(h=h||[(C[0]+C[1])/2,(k[0]+k[1])/2],f[0]=C[+(t[0]<h[0])],f[1]=k[+(t[1]<h[1])]):h=null),s&&m(t,x,0)&&(M(o),e=!0),a&&m(t,_,1)&&($(o),e=!0),e&&(T(o),r({type:"brush",mode:d?"move":"resize"}))}function m(t,e,n){var i,r,o=Ps(e),s=o[0],a=o[1],l=f[n],c=n?k:C,u=c[1]-c[0];if(d&&(s-=l,a-=u+l),i=(n?D:S)?Math.max(s,Math.min(a,t[n])):t[n],d?r=(i+=l)+u:(h&&(l=Math.max(s,Math.min(a,2*h[n]-i))),l<i?(r=i,i=l):r=l),c[0]!=i||c[1]!=r)return n?b=null:y=null,c[0]=i,c[1]=r,!0}function v(){g(),o.style("pointer-events","all").selectAll(".resize").style("display",E.empty()?"none":null),I.select("body").style("cursor",null),c.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),l(),r({type:"brushend"})}o.style("pointer-events","none").selectAll(".resize").style("display",null),I.select("body").style("cursor",t.style("cursor")),r({type:"brushstart"}),g()}return E.event=function(t){t.each(function(){var i=w.of(this,arguments),r={x:C,y:k,i:y,j:b},t=this.__chart__||r;this.__chart__=r,Ra?I.select(this).transition().each("start.brush",function(){y=t.i,b=t.j,C=t.x,k=t.y,i({type:"brushstart"})}).tween("brush:brush",function(){var e=wo(C,r.x),n=wo(k,r.y);return y=b=null,function(t){C=r.x=e(t),k=r.y=n(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=r.i,b=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},E.x=function(t){return arguments.length?(s=Xa[!(x=t)<<1|!_],E):x},E.y=function(t){return arguments.length?(s=Xa[!x<<1|!(_=t)],E):_},E.clamp=function(t){return arguments.length?(x&&_?(S=!!t[0],D=!!t[1]):x?S=!!t:_&&(D=!!t),E):x&&_?[S,D]:x?S:_?D:null},E.extent=function(t){var e,n,i,r,o;return arguments.length?(x&&(e=t[0],n=t[1],_&&(e=e[0],n=n[0]),y=[e,n],x.invert&&(e=x(e),n=x(n)),n<e&&(o=e,e=n,n=o),e==C[0]&&n==C[1]||(C=[e,n])),_&&(i=t[0],r=t[1],x&&(i=i[1],r=r[1]),b=[i,r],_.invert&&(i=_(i),r=_(r)),r<i&&(o=i,i=r,r=o),i==k[0]&&r==k[1]||(k=[i,r])),E):(x&&(y?(e=y[0],n=y[1]):(e=C[0],n=C[1],x.invert&&(e=x.invert(e),n=x.invert(n)),n<e&&(o=e,e=n,n=o))),_&&(b?(i=b[0],r=b[1]):(i=k[0],r=k[1],_.invert&&(i=_.invert(i),r=_.invert(r)),r<i&&(o=i,i=r,r=o))),x&&_?[[e,i],[n,r]]:x?[e,n]:_&&[i,r])},E.clear=function(){return E.empty()||(C=[0,0],k=[0,0],y=b=null),E},E.empty=function(){return!!x&&C[0]==C[1]||!!_&&k[0]==k[1]},I.rebind(E,w,"on")};var Ga={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xa=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ka=Ne.format=an.timeFormat,Qa=Ka.utc,Za=Qa("%Y-%m-%dT%H:%M:%S.%LZ");function Ja(t){return t.toISOString()}function tl(e,r,t){function s(t){return e(t)}function a(t,e){var n=(t[1]-t[0])/e,i=I.bisect(nl,n);return i==nl.length?[r.year,js(t.map(function(t){return t/31536e6}),e)[2]]:i?r[n/nl[i-1]<nl[i]/n?i-1:i]:[ol,js(t,e)[2]]}return s.invert=function(t){return el(e.invert(t))},s.domain=function(t){return arguments.length?(e.domain(t),s):e.domain().map(el)},s.nice=function(e,n){var t=s.domain(),i=As(t),r=null==e?a(i,10):"number"==typeof e&&a(i,e);function o(t){return!isNaN(t)&&!e.range(t,el(+t+1),n).length}return r&&(e=r[0],n=r[1]),s.domain(Os(t,1<n?{floor:function(t){for(;o(t=e.floor(t));)t=el(t-1);return t},ceil:function(t){for(;o(t=e.ceil(t));)t=el(+t+1);return t}}:e))},s.ticks=function(t,e){var n=As(s.domain()),i=null==t?a(n,10):"number"==typeof t?a(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],el(+n[1]+1),e<1?1:e)},s.tickFormat=function(){return t},s.copy=function(){return tl(e.copy(),r,t)},Fs(s,e)}function el(t){return new Date(t)}Ka.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ja:Za,Ja.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ja.toString=Za.toString,Ne.second=Oe(function(t){return new Ae(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Ne.seconds=Ne.second.range,Ne.seconds.utc=Ne.second.utc.range,Ne.minute=Oe(function(t){return new Ae(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Ne.minutes=Ne.minute.range,Ne.minutes.utc=Ne.minute.utc.range,Ne.hour=Oe(function(t){var e=t.getTimezoneOffset()/60;return new Ae(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Ne.hours=Ne.hour.range,Ne.hours.utc=Ne.hour.utc.range,Ne.month=Oe(function(t){return(t=Ne.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Ne.months=Ne.month.range,Ne.months.utc=Ne.month.utc.range;var nl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],il=[[Ne.second,1],[Ne.second,5],[Ne.second,15],[Ne.second,30],[Ne.minute,1],[Ne.minute,5],[Ne.minute,15],[Ne.minute,30],[Ne.hour,1],[Ne.hour,3],[Ne.hour,6],[Ne.hour,12],[Ne.day,1],[Ne.day,2],[Ne.week,1],[Ne.month,1],[Ne.month,3],[Ne.year,1]],rl=Ka.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",pi]]),ol={range:function(t,e,n){return I.range(Math.ceil(t/n)*n,+e,n).map(el)},floor:R,ceil:R};il.year=Ne.year,Ne.scale=function(){return tl(I.scale.linear(),il,rl)};var sl=il.map(function(t){return[t[0].utc,t[1]]}),al=Qa.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",pi]]);function ll(t){return JSON.parse(t.responseText)}function cl(t){var e=b.createRange();return e.selectNode(b.body),e.createContextualFragment(t.responseText)}sl.year=Ne.year.utc,Ne.scale.utc=function(){return tl(I.scale.linear(),sl,al)},I.text=ge(function(t){return t.responseText}),I.json=function(t,e){return me(t,"application/json",ll,e)},I.html=function(t,e){return me(t,"text/html",cl,e)},I.xml=ge(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=I,define(I)):"object"==typeof module&&module.exports?module.exports=I:this.d3=I}(),function(t){"use strict";function n(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}var i,r,o;function e(t,e){(i(t,e)?o:r)(t,e)}o="classList"in document.documentElement?(i=function(t,e){return t.classList.contains(e)},r=function(t,e){t.classList.add(e)},function(t,e){t.classList.remove(e)}):(i=function(t,e){return n(e).test(t.className)},r=function(t,e){i(t,e)||(t.className=t.className+" "+e)},function(t,e){t.className=t.className.replace(n(e)," ")});var s={hasClass:i,addClass:r,removeClass:o,toggleClass:e,has:i,add:r,remove:o,toggle:e};"function"==typeof define&&define.amd?define(s):t.classie=s}(window),window.Modernizr=function(t,h,o){function e(t){p.cssText=t}function s(t,e){return typeof t===e}function a(t,e){for(var n in t){var i=t[n];if(!~(""+i).indexOf("-")&&p[i]!==o)return"pfx"!=e||i}return!1}function i(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+v.join(i+" ")+i).split(" ");return s(e,"string")||s(e,"undefined")?a(r,e):function(t,e,n){for(var i in t){var r=e[t[i]];if(r!==o)return!1===n?t[i]:s(r,"function")?r.bind(n||e):r}return!1}(r=(t+" "+y.join(i+" ")+i).split(" "),e,n)}function r(t,e,n,i){var r,o,s,a,l=h.createElement("div"),c=h.body,u=c||h.createElement("body");if(parseInt(n,10))for(;n--;)(s=h.createElement("div")).id=i?i[n]:f+(n+1),l.appendChild(s);return r=["&#173;",'<style id="s',f,'">',t,"</style>"].join(""),l.id=f,(c?l:u).innerHTML+=r,u.appendChild(l),c||(u.style.background="",u.style.overflow="hidden",a=d.style.overflow,d.style.overflow="hidden",d.appendChild(u)),o=e(l,t),c?l.parentNode.removeChild(l):(u.parentNode.removeChild(u),d.style.overflow=a),!!o}var n,l,c={},d=h.documentElement,f="modernizr",u=h.createElement(f),p=u.style,g=" -webkit- -moz- -o- -ms- ".split(" "),m="Webkit Moz O ms",v=m.split(" "),y=m.toLowerCase().split(" "),b={},w=[],x=w.slice,_={}.hasOwnProperty;for(var C in l=s(_,"undefined")||s(_.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(t,e){return _.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(i){var r=this;if("function"!=typeof r)throw new TypeError;var o=x.call(arguments,1),s=function(){if(this instanceof s){function t(){}t.prototype=r.prototype;var e=new t,n=r.apply(e,o.concat(x.call(arguments)));return Object(n)===n?n:e}return r.apply(i,o.concat(x.call(arguments)))};return s}),b.touch=function(){var e;return"ontouchstart"in t||t.DocumentTouch&&h instanceof DocumentTouch?e=!0:r(["@media (",g.join("touch-enabled),("),f,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){e=9===t.offsetTop}),e},b.csstransforms3d=function(){var n=!!i("perspective");return n&&"webkitPerspective"in d.style&&r("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,e){n=9===t.offsetLeft&&3===t.offsetHeight}),n},b.csstransitions=function(){return i("transition")},b)l(b,C)&&(n=C.toLowerCase(),c[n]=b[C](),w.push((c[n]?"":"no-")+n));return c.addTest=function(t,e){if("object"==typeof t)for(var n in t)l(t,n)&&c.addTest(n,t[n]);else{if(t=t.toLowerCase(),c[t]!==o)return c;e="function"==typeof e?e():e,d.className+=" "+(e?"":"no-")+t,c[t]=e}return c},e(""),u=null,function(t,s){function a(){var t=p.elements;return"string"==typeof t?t.split(" "):t}function l(t){var e=f[t[h]];return e||(e={},d++,t[h]=d,f[d]=e),e}function i(t,e,n){return e=e||s,c?e.createElement(t):!(i=(n=n||l(e)).cache[t]?n.cache[t].cloneNode():u.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t)).canHaveChildren||o.test(t)||i.tagUrn?i:n.frag.appendChild(i);var i}function e(t){var e=l(t=t||s);return!p.shivCSS||n||e.hasCSS||(e.hasCSS=!!function(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||function(e,n){n.cache||(n.cache={},n.createElem=e.createElement,n.createFrag=e.createDocumentFragment,n.frag=n.createFrag()),e.createElement=function(t){return p.shivMethods?i(t,e,n):n.createElem(t)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+a().join().replace(/[\w\-]+/g,function(t){return n.createElem(t),n.frag.createElement(t),'c("'+t+'")'})+");return n}")(p,n.frag)}(t,e),t}var n,c,r=t.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,u=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",d=0,f={};!function(){try{var t=s.createElement("a");t.innerHTML="<xyz></xyz>",n="hidden"in t,c=1==t.childNodes.length||function(){s.createElement("a");var t=s.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){c=n=!0}}();var p={elements:r.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==r.shivCSS,supportsUnknownElements:c,shivMethods:!1!==r.shivMethods,type:"default",shivDocument:e,createElement:i,createDocumentFragment:function(t,e){if(t=t||s,c)return t.createDocumentFragment();for(var n=(e=e||l(t)).frag.cloneNode(),i=0,r=a(),o=r.length;i<o;i++)n.createElement(r[i]);return n}};t.html5=p,e(s)}(this,h),c._version="2.8.3",c._prefixes=g,c._domPrefixes=y,c._cssomPrefixes=v,c.testProp=function(t){return a([t])},c.testAllProps=i,c.testStyles=r,c.prefixed=function(t,e,n){return e?i(t,e,n):i(t,"pfx")},d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+w.join(" "),c}(this,this.document),function(t,d){function h(t){return"[object Function]"==r.call(t)}function f(t){return"string"==typeof t}function p(){}function g(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function m(){var t=w.shift();x=1,t?t.t?y(function(){("c"==t.t?v.injectCss:v.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),m()):x=0}function e(t,e,n,i,r){return x=0,e=e||"j",f(t)?function(n,i,t,e,r,o,s){function a(t){if(!c&&g(l.readyState)&&(h.r=c=1,x||m(),l.onload=l.onreadystatechange=null,t))for(var e in"img"!=n&&y(function(){C.removeChild(l)},50),S[i])S[i].hasOwnProperty(e)&&S[i][e].onload()}s=s||v.errorTimeout;var l=d.createElement(n),c=0,u=0,h={t:t,s:i,e:r,a:o,x:s};1===S[i]&&(u=1,S[i]=[]),"object"==n?l.data=i:(l.src=i,l.type=n),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){a.call(this,u)},w.splice(e,0,h),"img"!=n&&(u||2===S[i]?(C.insertBefore(l,_?null:b),y(a,s)):S[i].push(l))}("c"==e?l:s,t,e,this.i++,n,i,r):(w.splice(this.i++,0,t),1==w.length&&m()),this}function a(){var t=v;return t.loader={load:e,i:0},t}var n,v,i=d.documentElement,y=t.setTimeout,b=d.getElementsByTagName("script")[0],r={}.toString,w=[],x=0,o="MozAppearance"in i.style,_=o&&!!d.createRange().compareNode,C=_?i:b.parentNode,s=(i=t.opera&&"[object Opera]"==r.call(t.opera),i=!!d.attachEvent&&!i,o?"object":i?"script":"img"),l=i?"script":s,c=Array.isArray||function(t){return"[object Array]"==r.call(t)},k=[],S={},D={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};(v=function(t){function u(t,e,n,i,r){var o=function(t){t=t.split("!");var e,n,i,r=k.length,o=t.pop(),s=t.length;for(o={url:o,origUrl:o,prefixes:t},n=0;n<s;n++)i=t[n].split("="),(e=D[i.shift()])&&(o=e(o,i));for(n=0;n<r;n++)o=k[n](o);return o}(t),s=o.autoCallback;o.url.split(".").pop().split("?").shift(),o.bypass||(e=e&&(h(e)?e:e[t]||e[i]||e[t.split("/").pop().split("?")[0]]),o.instead?o.instead(t,e,n,i,r):(S[o.url]?o.noexec=!0:S[o.url]=1,n.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":void 0,o.noexec,o.attrs,o.timeout),(h(e)||h(s))&&n.load(function(){a(),e&&e(o.origUrl,r,i),s&&s(o.origUrl,r,i),S[o.url]=2})))}function e(t,e){function n(n,t){if(n){if(f(n))t||(a=function(){var t=[].slice.call(arguments);l.apply(this,t),c()}),u(n,a,e,0,o);else if(Object(n)===n)for(r in i=function(){var t,e=0;for(t in n)n.hasOwnProperty(t)&&e++;return e}(),n)n.hasOwnProperty(r)&&(t||--i||(h(a)?a=function(){var t=[].slice.call(arguments);l.apply(this,t),c()}:a[r]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[r])),u(n[r],a,e,r,o))}else t||c()}var i,r,o=!!t.test,s=t.load||t.both,a=t.callback||p,l=a,c=t.complete||p;n(o?t.yep:t.nope,!!s),s&&n(s)}var n,i,r=this.yepnope.loader;if(f(t))u(t,0,r,0);else if(c(t))for(n=0;n<t.length;n++)f(i=t[n])?u(i,0,r,0):c(i)?v(i):Object(i)===i&&e(i,r);else Object(t)===t&&e(t,r)}).addPrefix=function(t,e){D[t]=e},v.addFilter=function(t){k.push(t)},v.errorTimeout=1e4,null==d.readyState&&d.addEventListener&&(d.readyState="loading",d.addEventListener("DOMContentLoaded",n=function(){d.removeEventListener("DOMContentLoaded",n,0),d.readyState="complete"},0)),t.yepnope=a(),t.yepnope.executeStack=m,t.yepnope.injectJs=function(t,e,n,i,r,o){var s,a,l=d.createElement("script");i=i||v.errorTimeout;for(a in l.src=t,n)l.setAttribute(a,n[a]);e=o?m:e||p,l.onreadystatechange=l.onload=function(){!s&&g(l.readyState)&&(s=1,e(),l.onload=l.onreadystatechange=null)},y(function(){s||e(s=1)},i),r?l.onload():b.parentNode.insertBefore(l,b)},t.yepnope.injectCss=function(t,e,n,i,r,o){var s;i=d.createElement("link"),e=o?m:e||p;for(s in i.href=t,i.rel="stylesheet",i.type="text/css",n)i.setAttribute(s,n[s]);r||(b.parentNode.insertBefore(i,b),y(e,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(){function h(t){var e=h.modules[t];if(!e)throw new Error('failed to require "'+t+'"');return"exports"in e||"function"!=typeof e.definition||(e.client=e.component=!0,e.definition.call(this,e.exports={},e),delete e.definition),e.exports}h.loader="component",(h.helper={}).semVerSort=function(t,e){for(var n=t.version.split("."),i=e.version.split("."),r=0;r<n.length;++r){var o=parseInt(n[r],10),s=parseInt(i[r],10);if(o!==s)return s<o?1:-1;var a=n[r].substr((""+o).length),l=i[r].substr((""+s).length);if(""===a&&""!==l)return 1;if(""!==a&&""===l)return-1;if(""!==a&&""!==l)return l<a?1:-1}return 0},h.latest=function(t,e){function n(t){throw new Error('failed to find latest module of "'+t+'"')}var i=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/;/(.*)~(.*)/.test(t)||n(t);for(var r=Object.keys(h.modules),o=[],s=[],a=0;a<r.length;a++){var l=r[a];if(new RegExp(t+"@").test(l)){var c=l.substr(t.length+1);null!=i.exec(l)?o.push({version:c,name:l}):s.push({version:c,name:l})}}if(0===o.concat(s).length&&n(t),0<o.length){var u=o.sort(h.helper.semVerSort).pop().name;return!0===e?u:h(u)}u=s.pop().name;return!0===e?u:h(u)},h.modules={},h.register=function(t,e){h.modules[t]={definition:e}},h.define=function(t,e){h.modules[t]={exports:e}},h.register("abpetkov~transitionize@0.0.3",function(t,e){function n(t,e){if(!(this instanceof n))return new n(t,e);this.element=t,this.props=e||{},this.init()}(e.exports=n).prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},n.prototype.init=function(){var t=[];for(var e in this.props)t.push(e+" "+this.props[e]);this.element.style.transition=t.join(", "),this.isSafari()&&(this.element.style.webkitTransition=t.join(", "))}}),h.register("ftlabs~fastclick@v0.6.11",function(t,e){function i(r){"use strict";var e,t=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,!(this.layer=r)||!r.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return i.prototype.onClick.apply(t,arguments)},this.onMouse=function(){return i.prototype.onMouse.apply(t,arguments)},this.onTouchStart=function(){return i.prototype.onTouchStart.apply(t,arguments)},this.onTouchMove=function(){return i.prototype.onTouchMove.apply(t,arguments)},this.onTouchEnd=function(){return i.prototype.onTouchEnd.apply(t,arguments)},this.onTouchCancel=function(){return i.prototype.onTouchCancel.apply(t,arguments)},i.notNeeded(r)||(this.deviceIsAndroid&&(r.addEventListener("mouseover",this.onMouse,!0),r.addEventListener("mousedown",this.onMouse,!0),r.addEventListener("mouseup",this.onMouse,!0)),r.addEventListener("click",this.onClick,!0),r.addEventListener("touchstart",this.onTouchStart,!1),r.addEventListener("touchmove",this.onTouchMove,!1),r.addEventListener("touchend",this.onTouchEnd,!1),r.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(r.removeEventListener=function(t,e,n){var i=Node.prototype.removeEventListener;"click"===t?i.call(r,t,e.hijacked||e,n):i.call(r,t,e,n)},r.addEventListener=function(t,e,n){var i=Node.prototype.addEventListener;"click"===t?i.call(r,t,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),n):i.call(r,t,e,n)}),"function"==typeof r.onclick&&(e=r.onclick,r.addEventListener("click",function(t){e(t)},!1),r.onclick=null))}i.prototype.deviceIsAndroid=0<navigator.userAgent.indexOf("Android"),i.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),i.prototype.deviceIsIOS4=i.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),i.prototype.deviceIsIOSWithBadTarget=i.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),i.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},i.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},i.prototype.sendClick=function(t,e){"use strict";var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},i.prototype.determineEventType=function(t){"use strict";return this.deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},i.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},i.prototype.updateScrollParent=function(t){"use strict";var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},i.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},i.prototype.onTouchStart=function(t){"use strict";var e,n,i;if(1<t.targetTouches.length)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],this.deviceIsIOS){if((i=window.getSelection()).rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},i.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},i.prototype.onTouchMove=function(t){"use strict";return this.trackingClick&&(this.targetElement===this.getTargetElementFromEventTarget(t.target)&&!this.touchHasMoved(t)||(this.trackingClick=!1,this.targetElement=null)),!0},i.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},i.prototype.onTouchEnd=function(t){"use strict";var e,n,i,r,o,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(o=t.changedTouches[0],(s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||s).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(i=s.tagName.toLowerCase())){if(e=this.findControl(s)){if(this.focus(s),this.deviceIsAndroid)return!1;s=e}}else if(this.needsFocus(s))return 100<t.timeStamp-n||this.deviceIsIOS&&window.top!==window&&"input"===i?this.targetElement=null:(this.focus(s),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,t.preventDefault())),!1;return!(!this.deviceIsIOS||this.deviceIsIOS4||!(r=s.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},i.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},i.prototype.onMouse=function(t){"use strict";return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},i.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},i.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},i.notNeeded=function(t){"use strict";var e,n;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i.prototype.deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(31<n&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction},i.attach=function(t){"use strict";return new i(t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return i}):void 0!==e&&e.exports?(e.exports=i.attach,e.exports.FastClick=i):window.FastClick=i}),h.register("component~indexof@0.0.3",function(t,e){e.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}}),h.register("component~classes@1.2.1",function(t,e){var i=h("component~indexof@0.0.3"),n=/\s+/,r=Object.prototype.toString;function o(t){if(!t)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}e.exports=function(t){return new o(t)},o.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~i(e,t)||e.push(t),this.el.className=e.join(" "),this},o.prototype.remove=function(t){if("[object RegExp]"==r.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),n=i(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this},o.prototype.removeMatching=function(t){for(var e=this.array(),n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this},o.prototype.toggle=function(t,e){return this.list?void 0!==e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t):void 0!==e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this},o.prototype.array=function(){var t=this.el.className.replace(/^\s+|\s+$/g,"").split(n);return""===t[0]&&t.shift(),t},o.prototype.has=o.prototype.contains=function(t){return this.list?this.list.contains(t):!!~i(this.array(),t)}}),h.register("switchery",function(t,e){var n=h("abpetkov~transitionize@0.0.3"),i=h("ftlabs~fastclick@v0.6.11"),r=h("component~classes@1.2.1");e.exports=s;var o={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"};function s(t,e){if(!(this instanceof s))return new s(t,e);for(var n in this.element=t,this.options=e||{},o)null==this.options[n]&&(this.options[n]=o[n]);null!=this.element&&"checkbox"==this.element.type&&this.init()}s.prototype.hide=function(){this.element.style.display="none"},s.prototype.show=function(){var t=this.create();this.insertAfter(this.element,t)},s.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.switcher},s.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},s.prototype.isChecked=function(){return this.element.checked},s.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly},s.prototype.setPosition=function(t){var e=this.isChecked(),n=this.switcher,i=this.jack;t&&e?e=!1:t&&!e&&(e=!0),!0===e?(this.element.checked=!0,window.getComputedStyle?i.style.left=parseInt(window.getComputedStyle(n).width)-parseInt(window.getComputedStyle(i).width)+"px":i.style.left=parseInt(n.currentStyle.width)-parseInt(i.currentStyle.width)+"px",this.options.color&&this.colorize()):(i.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor=this.options.secondaryColor!==o.secondaryColor?this.options.secondaryColor:"#fff",this.jack.style.backgroundColor=this.options.jackColor),this.setSpeed()},s.prototype.setSpeed=function(){var t={},e={left:this.options.speed.replace(/[a-z]/,"")/2+"s"};t=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed},n(this.switcher,t),n(this.jack,e)},s.prototype.setSize=function(){switch(this.options.size){case"small":r(this.switcher).add("switchery-small");break;case"large":r(this.switcher).add("switchery-large");break;default:r(this.switcher).add("switchery-default")}},s.prototype.colorize=function(){var t=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 "+t+"px "+this.options.color,this.jack.style.backgroundColor=this.options.jackColor},s.prototype.handleOnchange=function(t){if(document.dispatchEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!0),this.element.dispatchEvent(e)}else this.element.fireEvent("onchange")},s.prototype.handleChange=function(){var t=this,e=this.element;e.addEventListener?e.addEventListener("change",function(){t.setPosition()}):e.attachEvent("onchange",function(){t.setPosition()})},s.prototype.handleClick=function(){var e=this,t=this.switcher,n="label"!==e.element.parentNode.tagName.toLowerCase();!1===this.isDisabled()?(i(t),t.addEventListener?t.addEventListener("click",function(t){e.setPosition(n),e.handleOnchange(e.element.checked)}):t.attachEvent("onclick",function(){e.setPosition(n),e.handleOnchange(e.element.checked)})):(this.element.disabled=!0,this.switcher.style.opacity=this.options.disabledOpacity)},s.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},s.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},s.prototype.init=function(){this.hide(),this.show(),this.setSize(),this.setPosition(),this.markAsSwitched(),this.handleChange(),this.handleClick()}}),"object"==typeof exports?module.exports=h("switchery"):"function"==typeof define&&define.amd?define("Switchery",[],function(){return h("switchery")}):(this||window).Switchery=h("switchery")}(),function(r){void 0===r.fn.each2&&r.extend(r.fn,{each2:function(t){for(var e=r([0]),n=-1,i=this.length;++n<i&&(e.context=e[0]=this[n])&&!1!==t.call(e[0],n,e););return this}})}(jQuery),function(x,w){"use strict";function s(t){var e=x(document.createTextNode(""));t.before(e),e.before(t),e.remove()}function a(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return $[t]||t})}function u(t,e){for(var n=0,i=e.length;n<i;n+=1)if(f(t,e[n]))return n;return-1}function f(t,e){return t===e||t!==w&&e!==w&&(null!==t&&null!==e&&(t.constructor===String?t+""==e+"":e.constructor===String&&e+""==t+""))}function r(t,e){var n,i,r;if(null===t||t.length<1)return[];for(i=0,r=(n=t.split(e)).length;i<r;i+=1)n[i]=x.trim(n[i]);return n}function o(t){return t.outerWidth(!1)-t.width()}function l(e){var n="keyup-change-value";e.on("keydown",function(){x.data(e,n)===w&&x.data(e,n,e.val())}),e.on("keyup",function(){var t=x.data(e,n);t!==w&&e.val()!==t&&(x.removeData(e,n),e.trigger("keyup-change"))})}function c(e,n,i){var r;return i=i||w,function(){var t=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,t)},e)}}function h(t){t.preventDefault(),t.stopPropagation()}function d(t,e,n){var i,r,o=[];(i=x.trim(t.attr("class")))&&x((i=""+i).split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&o.push(this)}),(i=x.trim(e.attr("class")))&&x((i=""+i).split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&((r=n(this))&&o.push(r))}),t.attr("class",o.join(" "))}function p(t,e,n,i){var r=a(t.toUpperCase()).indexOf(a(e.toUpperCase())),o=e.length;return r<0?void n.push(i(t)):(n.push(i(t.substring(0,r))),n.push("<span class='select2-match'>"),n.push(i(t.substring(r,r+o))),n.push("</span>"),void n.push(i(t.substring(r+o,t.length))))}function t(t){var e={"\\":"&#92;","&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function i(s){var t,a=null,e=s.quietMillis||100,l=s.url,c=this;return function(o){window.clearTimeout(t),t=window.setTimeout(function(){var t=s.data,e=l,n=s.transport||x.fn.select2.ajaxDefaults.transport,i={type:s.type||"GET",cache:s.cache||!1,jsonpCallback:s.jsonpCallback||w,dataType:s.dataType||"json"},r=x.extend({},x.fn.select2.ajaxDefaults.params,i);t=t?t.call(c,o.term,o.page,o.context):null,e="function"==typeof e?e.call(c,o.term,o.page,o.context):e,a&&"function"==typeof a.abort&&a.abort(),s.params&&(x.isFunction(s.params)?x.extend(r,s.params.call(c)):x.extend(r,s.params)),x.extend(r,{url:e,dataType:s.dataType,data:t,success:function(t){var e=s.results(t,o.page,o);o.callback(e)},error:function(t,e,n){var i={hasError:!0,jqXHR:t,textStatus:e,errorThrown:n};o.callback(i)}}),a=n.call(c,r)},e)}}function g(t){var e,n,i=t,a=function(t){return""+t.text};x.isArray(i)&&(i={results:n=i}),!1===x.isFunction(i)&&(n=i,i=function(){return n});var r=i();return r.text&&(a=r.text,x.isFunction(a)||(e=r.text,a=function(t){return t[e]})),function(r){var o,s=r.term,n={results:[]};return""===s?void r.callback(i()):(o=function(t,e){var n,i;if((t=t[0]).children){for(i in n={},t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.children=[],x(t.children).each2(function(t,e){o(e,n.children)}),(n.children.length||r.matcher(s,a(n),t))&&e.push(n)}else r.matcher(s,a(t),t)&&e.push(t)},x(i().results).each2(function(t,e){o(e,n.results)}),void r.callback(n))}}function m(e){var o=x.isFunction(e);return function(n){var i=n.term,r={results:[]},t=o?e(n):e;x.isArray(t)&&(x(t).each(function(){var t=this.text!==w,e=t?this.text:this;""!==i&&!n.matcher(i,e)||r.results.push(t?this:{id:this,text:this})}),n.callback(r))}}function v(t,e){if(x.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(e+" must be a string, function, or falsy value")}function _(t,e){if(x.isFunction(t)){var n=Array.prototype.slice.call(arguments,2);return t.apply(e,n)}return t}function y(){var n=this;x.each(arguments,function(t,e){n[e].remove(),n[e]=null})}function e(t,e){function n(){}return((n.prototype=new t).constructor=n).prototype.parent=t.prototype,n.prototype=x.extend(n.prototype,e),n}if(window.Select2===w){var n,b,C,k,S,D,E,T={x:0,y:0},M={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case M.LEFT:case M.RIGHT:case M.UP:case M.DOWN:return!0}return!1},isControl:function(t){switch(t.which){case M.SHIFT:case M.CTRL:case M.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return 112<=(t=t.which?t.which:t)&&t<=123}},$={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};D=x(document),N=1,k=function(){return N++},b=e(n=e(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(t){var o,e,n=".select2-results";this.opts=t=this.prepareOpts(t),this.id=t.id,t.element.data("select2")!==w&&null!==t.element.data("select2")&&t.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=x("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(t.element.attr("id")||"autogen"+k()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",t.element.attr("title")),this.body=x("body"),d(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",t.element.attr("style")),this.container.css(_(t.containerCss,this.opts.element)),this.container.addClass(_(t.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",h),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),d(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(_(t.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",h),this.results=o=this.container.find(n),this.search=e=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",h),function(t){t.on("mousemove",function(t){var e=T;e!==w&&e.x===t.pageX&&e.y===t.pageY||x(t.target).trigger("mousemove-filtered",t)})}(this.results),this.dropdown.on("mousemove-filtered",n,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",n,this.bind(function(t){this._touchEvent=!0,this.highlightUnderEvent(t)})),this.dropdown.on("touchmove",n,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",n,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),function(t,e){var n=c(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){0<=u(t.target,e.get())&&n(t)})}(80,this.results),this.dropdown.on("scroll-debounced",n,this.bind(this.loadMoreIfNeeded)),x(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),x(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),x.fn.mousewheel&&o.mousewheel(function(t,e,n,i){var r=o.scrollTop();0<i&&r-i<=0?(o.scrollTop(0),h(t)):i<0&&o.get(0).scrollHeight-o.scrollTop()+i<=o.height()&&(o.scrollTop(o.get(0).scrollHeight-o.height()),h(t))}),l(e),e.on("keyup-change input paste",this.bind(this.updateResults)),e.on("focus",function(){e.addClass("select2-focused")}),e.on("blur",function(){e.removeClass("select2-focused")}),this.dropdown.on("mouseup",n,this.bind(function(t){0<x(t.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(t){t.stopPropagation()}),this.nextSearchTerm=w,x.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==t.maximumInputLength&&this.search.attr("maxlength",t.maximumInputLength);var i=t.element.prop("disabled");i===w&&(i=!1),this.enable(!i);var r=t.element.prop("readonly");r===w&&(r=!1),this.readonly(r),E=E||function(){var t=x("<div class='select2-measure-scrollbar'></div>");t.appendTo("body");var e={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),e}(),this.autofocus=t.element.prop("autofocus"),t.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",t.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,e=t.data("select2"),n=this;this.close(),t.length&&t[0].detachEvent&&t.each(function(){this.detachEvent("onpropertychange",n._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,e!==w&&(e.container.remove(),e.liveRegion.remove(),e.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show()),y.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:f(t.attr("locked"),"locked")||f(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(y){var s,t,e,n,b=this;if("select"===(s=y.element).get(0).tagName.toLowerCase()&&(this.select=t=y.element),t&&x.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in y)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),"function"!=typeof(y=x.extend({},{populateResults:function(t,e,p){var g,m=this.opts.id,v=this.liveRegion;(g=function(t,e,n){var i,r,o,s,a,l,c,u,h,d,f=[];for(i=0,r=(t=y.sortResults(t,e,p)).length;i<r;i+=1)s=!(a=!0===(o=t[i]).disabled)&&m(o)!==w,l=o.children&&0<o.children.length,(c=x("<li></li>")).addClass("select2-results-dept-"+n),c.addClass("select2-result"),c.addClass(s?"select2-result-selectable":"select2-result-unselectable"),a&&c.addClass("select2-disabled"),l&&c.addClass("select2-result-with-children"),c.addClass(b.opts.formatResultCssClass(o)),c.attr("role","presentation"),(u=x(document.createElement("div"))).addClass("select2-result-label"),u.attr("id","select2-result-label-"+k()),u.attr("role","option"),(d=y.formatResult(o,u,p,b.opts.escapeMarkup))!==w&&(u.html(d),c.append(u)),l&&((h=x("<ul></ul>")).addClass("select2-result-sub"),g(o.children,h,n+1),c.append(h)),c.data("select2-data",o),f.push(c[0]);e.append(f),v.text(y.formatMatches(t.length))})(e,t,0)}},x.fn.select2.defaults,y)).id&&(e=y.id,y.id=function(t){return t[e]}),x.isArray(y.element.data("select2Tags"))){if("tags"in y)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+y.element.attr("id");y.tags=y.element.data("select2Tags")}if(t?(y.query=this.bind(function(i){var t,e,r,n={results:[],more:!1},o=i.term;r=function(t,e){var n;t.is("option")?i.matcher(o,t.text(),t)&&e.push(b.optionToData(t)):t.is("optgroup")&&(n=b.optionToData(t),t.children().each2(function(t,e){r(e,n.children)}),0<n.children.length&&e.push(n))},t=s.children(),this.getPlaceholder()!==w&&0<t.length&&((e=this.getPlaceholderOption())&&(t=t.not(e))),t.each2(function(t,e){r(e,n.results)}),i.callback(n)}),y.id=function(t){return t.id}):"query"in y||("ajax"in y?((n=y.element.data("ajax-url"))&&0<n.length&&(y.ajax.url=n),y.query=i.call(y.element,y.ajax)):"data"in y?y.query=g(y.data):"tags"in y&&(y.query=m(y.tags),y.createSearchChoice===w&&(y.createSearchChoice=function(t){return{id:x.trim(t),text:x.trim(t)}}),y.initSelection===w&&(y.initSelection=function(t,e){var n=[];x(r(t.val(),y.separator)).each(function(){var t={id:this,text:this},e=y.tags;x.isFunction(e)&&(e=e()),x(e).each(function(){return f(this.id,t.id)?(t=this,!1):void 0}),n.push(t)}),e(n)}))),"function"!=typeof y.query)throw"query function not defined for Select2 "+y.element.attr("id");if("top"===y.createSearchChoicePosition)y.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===y.createSearchChoicePosition)y.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof y.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return y},monitorSource:function(){var t,n=this.opts.element,e=this;n.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var t=n.prop("disabled");t===w&&(t=!1),this.enable(!t);var e=n.prop("readonly");e===w&&(e=!1),this.readonly(e),d(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(_(this.opts.containerCssClass,this.opts.element)),d(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(_(this.opts.dropdownCssClass,this.opts.element))}),n.length&&n[0].attachEvent&&n.each(function(){this.attachEvent("onpropertychange",e._sync)}),(t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==w&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new t(function(t){x.each(t,e._sync)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var e=x.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(e),!e.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=x.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===w&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===w&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,e,n,i,r,o=this.dropdown,s=this.container.offset(),a=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=o.outerHeight(!1),u=x(window),h=u.width(),d=u.height(),f=u.scrollLeft()+h,p=u.scrollTop()+d,g=s.top+a,m=s.left,v=g+c<=p,y=s.top-c>=u.scrollTop(),b=o.outerWidth(!1),w=m+b<=f;o.hasClass("select2-drop-above")?(e=!0,!y&&v&&(e=!(n=!0))):(e=!1,!v&&y&&(e=n=!0)),n&&(o.hide(),s=this.container.offset(),a=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=o.outerHeight(!1),f=u.scrollLeft()+h,p=u.scrollTop()+d,g=s.top+a,w=(m=s.left)+(b=o.outerWidth(!1))<=f,o.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(r=x(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),l<(b=o.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:E.width))?l=b:b=l,c=o.outerHeight(!1),w=m+b<=f):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(g-=(t=this.body.offset()).top,m-=t.left),w||(m=s.left+this.container.outerWidth(!1)-b),i={left:m,width:l},e?(i.top=s.top-c,i.bottom="auto",this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(i.top=g,i.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),i=x.extend(i,_(this.opts.dropdownCss,this.opts.element)),o.css(i)},shouldOpen:function(){var t;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(t=x.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),D.on("mousemove.select2Event",function(t){T.x=t.pageX,T.y=t.pageY}),!0)},opening:function(){var i,t=this.containerEventName,e="scroll."+t,n="resize."+t,r="orientationchange."+t;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0==(i=x("#select2-drop-mask")).length&&((i=x(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),i.hide(),i.appendTo(this.body),i.on("mousedown touchstart click",function(t){s(i);var e,n=x("#select2-drop");0<n.length&&((e=n.data("select2")).opts.selectOnBlur&&e.selectHighlighted({noFocus:!0}),e.close(),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==i[0]&&this.dropdown.before(i),x("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),i.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each(function(){x(this).on(n+" "+e+" "+r,function(){o.opened()&&o.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,e="scroll."+t,n="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){x(this).off(e).off(n).off(i)}),this.clearDropdownAlignmentPreference(),x("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),D.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(x.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return _(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,e,n,i,r,o,s,a,l=this.results;if(!((e=this.highlight())<0)){if(0==e)return void l.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),i=(a=((n=x(t[e])).offset()||{}).top||0)+n.outerHeight(!0),e===t.length-1&&(0<(s=l.find("li.select2-more-results")).length&&(i=s.offset().top+s.outerHeight(!0))),(r=l.offset().top+l.outerHeight(!0))<i&&l.scrollTop(l.scrollTop()+(i-r)),(o=a-l.offset().top)<0&&"none"!=n.css("display")&&l.scrollTop(l.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var e=this.findHighlightableChoices(),n=this.highlight();-1<n&&n<e.length;){var i=x(e[n+=t]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var e,n,i=this.findHighlightableChoices();return 0===arguments.length?u(i.filter(".select2-highlighted")[0],i.get()):(t>=i.length&&(t=i.length-1),t<0&&(t=0),this.removeHighlight(),(e=x(i[t])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",e.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(e.text()),void((n=e.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var e=x(t.target).closest(".select2-result-selectable");if(0<e.length&&!e.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(e))}else 0==e.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,n=e.find("li.select2-more-results"),i=this.resultsPage+1,r=this,o=this.search.val(),s=this.context;0===n.length||n.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:s,matcher:this.opts.matcher,callback:this.bind(function(t){r.opened()&&(r.opts.populateResults.call(this,e,t.results,{term:o,page:i,context:s}),r.postprocessResults(t,!1,!1),!0===t.more?(n.detach().appendTo(e).text(_(r.opts.formatLoadMore,r.opts.element,i+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i,r.context=t.context,this.opts.element.trigger({type:"select2-loaded",items:t}))})}))},tokenize:function(){},updateResults:function(n){function i(){s.removeClass("select2-active"),c.positionDropdown(),c.liveRegion.text(a.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?a.text():c.opts.formatMatches(a.find(".select2-result-selectable").length))}function r(t){a.html(t),i()}var t,e,o,s=this.search,a=this.results,l=this.opts,c=this,u=s.val(),h=x.data(this.container,"select2-last-term");if((!0===n||!h||!f(u,h))&&(x.data(this.container,"select2-last-term",u),!0===n||!1!==this.showSearchInput&&this.opened())){o=++this.queryCount;var d=this.getMaximumSelectionSize();if(1<=d&&(t=this.data(),x.isArray(t)&&t.length>=d&&v(l.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+_(l.formatSelectionTooBig,l.element,d)+"</li>");if(s.val().length<l.minimumInputLength)return r(v(l.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+_(l.formatInputTooShort,l.element,s.val(),l.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(l.maximumInputLength&&s.val().length>l.maximumInputLength)return void r(v(l.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+_(l.formatInputTooLong,l.element,s.val(),l.maximumInputLength)+"</li>":"");l.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+_(l.formatSearching,l.element)+"</li>"),s.addClass("select2-active"),this.removeHighlight(),(e=this.tokenize())!=w&&null!=e&&s.val(e),this.resultsPage=1,l.query({element:l.element,term:s.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(t){var e;if(o==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(t.hasError!==w&&v(l.formatAjaxError,"formatAjaxError"))return void r("<li class='select2-ajax-error'>"+_(l.formatAjaxError,l.element,t.jqXHR,t.textStatus,t.errorThrown)+"</li>");if(this.context=t.context===w?null:t.context,this.opts.createSearchChoice&&""!==s.val()&&((e=this.opts.createSearchChoice.call(c,s.val(),t.results))!==w&&null!==e&&c.id(e)!==w&&null!==c.id(e)&&0===x(t.results).filter(function(){return f(c.id(this),c.id(e))}).length&&this.opts.createSearchChoicePosition(t.results,e)),0===t.results.length&&v(l.formatNoMatches,"formatNoMatches"))return void r("<li class='select2-no-results'>"+_(l.formatNoMatches,l.element,s.val())+"</li>");a.empty(),c.opts.populateResults.call(this,a,t.results,{term:s.val(),page:this.resultsPage,context:null}),!0===t.more&&v(l.formatLoadMore,"formatLoadMore")&&(a.append("<li class='select2-more-results'>"+l.escapeMarkup(_(l.formatLoadMore,l.element,this.resultsPage))+"</li>"),window.setTimeout(function(){c.loadMoreIfNeeded()},10)),this.postprocessResults(t,n),i(),this.opts.element.trigger({type:"select2-loaded",items:t})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){!function(i){i[0]!==document.activeElement&&window.setTimeout(function(){var t,e=i[0],n=i.val().length;i.focus(),(0<e.offsetWidth||0<e.offsetHeight)&&e===document.activeElement&&(e.setSelectionRange?e.setSelectionRange(n,n):e.createTextRange&&((t=e.createTextRange()).collapse(!1),t.select()))},0)}(this.search)},selectHighlighted:function(t){if(this._touchMoved)this.clearTouchMoved();else{var e=this.highlight(),n=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");n?(this.highlight(e),this.onSelect(n,t)):t&&t.noFocus&&this.close()}},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==w?t.text():w)},getPlaceholderOption:function(){if(this.select){var t=this.select.children("option").first();if(this.opts.placeholderOption!==w)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===x.trim(t.text())&&""===t.val())return t}},initContainerWidth:function(){var t=function(){var t,e,n,i,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"!==this.opts.width&&"resolve"!==this.opts.width)return x.isFunction(this.opts.width)?this.opts.width():this.opts.width;if((t=this.opts.element.attr("style"))!==w)for(i=0,r=(e=t.split(";")).length;i<r;i+=1)if(null!==(n=e[i].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&1<=n.length)return n[1];return"resolve"===this.opts.width?0<(t=this.opts.element.css("width")).indexOf("%")?t:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}.call(this);null!==t&&this.container.css("width",t)}}),{createContainer:function(){return x(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,e,n;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(t=this.search.get(0)).createTextRange?((e=t.createTextRange()).collapse(!1),e.select()):t.setSelectionRange&&(n=this.search.val().length,t.setSelectionRange(n,n))),""===this.search.val()&&this.nextSearchTerm!=w&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(x.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){x("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),y.call(this,"selection","focusser")},initContainer:function(){var e,t,n=this.container,i=this.dropdown,r=k();this.showSearch(!(this.opts.minimumResultsForSearch<0)),this.selection=e=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+r),this.focusser.attr("aria-labelledby","select2-chosen-"+r),this.results.attr("id","select2-results-"+r),this.search.attr("aria-owns","select2-results-"+r),this.focusser.attr("id","s2id_autogen"+r),t=x("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(t.text()).attr("for",this.focusser.attr("id"));var o=this.opts.element.attr("title");this.opts.element.attr("title",o||t.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(x("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&229!=t.keyCode){if(t.which===M.PAGE_UP||t.which===M.PAGE_DOWN)return void h(t);switch(t.which){case M.UP:case M.DOWN:return this.moveHighlight(t.which===M.UP?-1:1),void h(t);case M.ENTER:return this.selectHighlighted(),void h(t);case M.TAB:return void this.selectHighlighted({noFocus:!0});case M.ESC:return this.cancel(t),void h(t)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==M.TAB&&!M.isControl(t)&&!M.isFunctionKey(t)&&t.which!==M.ESC){if(!1===this.opts.openOnEnter&&t.which===M.ENTER)return void h(t);if(t.which==M.DOWN||t.which==M.UP||t.which==M.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void h(t)}return t.which==M.DELETE||t.which==M.BACKSPACE?(this.opts.allowClear&&this.clear(),void h(t)):void 0}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(0<=this.opts.minimumResultsForSearch){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),function(t){t.preventDefault(),t.stopImmediatePropagation()}(t),this.close(),this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(t){s(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(x.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),h(t)})),i.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),e.on("focus",this.bind(function(t){h(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(x.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(x.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(x.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");if(e){var n=x.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(t){t!==w&&null!==t&&(e.updateSelection(t),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(t,e.search.val()))})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()!==w&&((t=this.getPlaceholderOption())!==w&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===w||null===this.opts.element.val())},prepareOpts:function(){var s=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===s.element.get(0).tagName.toLowerCase()?s.initSelection=function(t,e){var n=t.find("option").filter(function(){return this.selected&&!this.disabled});e(i.optionToData(n))}:"data"in s&&(s.initSelection=s.initSelection||function(t,e){var r=t.val(),o=null;s.query({matcher:function(t,e,n){var i=f(r,s.id(n));return i&&(o=n),i},callback:x.isFunction(e)?function(){e(o)}:x.noop})}),s},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===w?w:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==w){if(this.select&&this.getPlaceholderOption()===w)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,n){var i=0,r=this;if(this.findHighlightableChoices().each2(function(t,e){return f(r.id(e.data("select2-data")),r.opts.element.val())?(i=t,!1):void 0}),!1!==n&&this.highlight(!0===e&&0<=i?i:0),!0===e){var o=this.opts.minimumResultsForSearch;0<=o&&this.showSearch(function n(t){var i=0;return x.each(t,function(t,e){e.children?i+=n(e.children):i++}),i}(t.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),x(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(t,e){if(this.triggerSelect(t)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),f(n,this.id(t))||this.triggerChange({added:t,removed:i})}},updateSelection:function(t){var e,n,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),i.empty(),null!==t&&(e=this.opts.formatSelection(t,i,this.opts.escapeMarkup)),e!==w&&i.append(e),(n=this.opts.formatSelectionCssClass(t,i))!==w&&i.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==w&&this.container.addClass("select2-allowclear")},val:function(){var t,e=!1,n=null,i=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],1<arguments.length&&(e=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return n=i.optionToData(e),!1}),this.updateSelection(n),this.setPlaceholder(),e&&this.triggerChange({added:n,removed:r});else{if(!t&&0!==t)return void this.clear(e);if(this.opts.initSelection===w)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){i.opts.element.val(t?i.id(t):""),i.updateSelection(t),i.setPlaceholder(),e&&i.triggerChange({added:t,removed:r})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var e,n=!1;return 0===arguments.length?((e=this.selection.data("select2-data"))==w&&(e=null),e):(1<arguments.length&&(n=arguments[1]),void(t?(e=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),n&&this.triggerChange({added:t,removed:e})):this.clear(n)))}}),C=e(n,{createContainer:function(){return x(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var l=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===l.element.get(0).tagName.toLowerCase()?l.initSelection=function(t,e){var n=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,e){n.push(i.optionToData(e))}),e(n)}:"data"in l&&(l.initSelection=l.initSelection||function(t,o){var s=r(t.val(),l.separator),a=[];l.query({matcher:function(t,e,n){var i=x.grep(s,function(t){return f(t,l.id(n))}).length;return i&&a.push(n),i},callback:x.isFunction(o)?function(){for(var t=[],e=0;e<s.length;e++)for(var n=s[e],i=0;i<a.length;i++){var r=a[i];if(f(n,l.id(r))){t.push(r),a.splice(i,1);break}}o(t)}:x.noop})}),l},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){x("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),y.call(this,"searchContainer","selection")},initContainer:function(){var s,t=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=s=this.container.find(t);var e=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){e.search[0].focus(),e.selectChoice(x(this))}),this.search.attr("id","s2id_autogen"+k()),this.search.prev().text(x("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var e=s.find(".select2-search-choice-focus"),n=e.prev(".select2-search-choice:not(.select2-locked)"),i=e.next(".select2-search-choice:not(.select2-locked)"),r=function(t){var e=0,n=0;if("selectionStart"in(t=x(t)[0]))e=t.selectionStart,n=t.selectionEnd-e;else if("selection"in document){t.focus();var i=document.selection.createRange();n=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),e=i.text.length-n}return{offset:e,length:n}}(this.search);if(e.length&&(t.which==M.LEFT||t.which==M.RIGHT||t.which==M.BACKSPACE||t.which==M.DELETE||t.which==M.ENTER)){var o=e;return t.which==M.LEFT&&n.length?o=n:t.which==M.RIGHT?o=i.length?i:null:t.which===M.BACKSPACE?this.unselect(e.first())&&(this.search.width(10),o=n.length?n:i):t.which==M.DELETE?this.unselect(e.first())&&(this.search.width(10),o=i.length?i:null):t.which==M.ENTER&&(o=null),this.selectChoice(o),h(t),void(o&&o.length||this.open())}if((t.which===M.BACKSPACE&&1==this.keydowns||t.which==M.LEFT)&&0==r.offset&&!r.length)return this.selectChoice(s.find(".select2-search-choice:not(.select2-locked)").last()),void h(t);if(this.selectChoice(null),this.opened())switch(t.which){case M.UP:case M.DOWN:return this.moveHighlight(t.which===M.UP?-1:1),void h(t);case M.ENTER:return this.selectHighlighted(),void h(t);case M.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case M.ESC:return this.cancel(t),void h(t)}if(t.which!==M.TAB&&!M.isControl(t)&&!M.isFunctionKey(t)&&t.which!==M.BACKSPACE&&t.which!==M.ESC){if(t.which===M.ENTER){if(!1===this.opts.openOnEnter)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),t.which!==M.PAGE_UP&&t.which!==M.PAGE_DOWN||h(t),t.which===M.ENTER&&h(t)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(x.Event("select2-blur"))})),this.container.on("click",t,this.bind(function(t){this.isInterfaceEnabled()&&(0<x(t.target).closest(".select2-search-choice").length||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(x.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",t,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(x.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(t){t!==w&&null!==t&&(e.updateSelection(t),e.close(),e.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),e=this.getMaxSearchWidth();t!==w&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(t).addClass("select2-default"),this.search.width(0<e?e:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=w&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(x.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var e=[],n=[],i=this;x(t).each(function(){u(i.id(this),e)<0&&(e.push(i.id(this)),n.push(this))}),t=n,this.selection.find(".select2-search-choice").remove(),x(t).each(function(){i.addSelectedChoice(this)}),i.postprocessResults()},tokenize:function(){var t=this.search.val();null!=(t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts))&&t!=w&&(this.search.val(t),0<t.length&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&""!==t.text&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(t,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),0<this.getMaximumSelectionSize()&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=w&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var e,n,i=!t.locked,r=x("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=x("<li class='select2-search-choice select2-locked'><div></div></li>"),s=i?r:o,a=this.id(t),l=this.getVal();(e=this.opts.formatSelection(t,s.find("div"),this.opts.escapeMarkup))!=w&&s.find("div").replaceWith("<div>"+e+"</div>"),(n=this.opts.formatSelectionCssClass(t,s.find("div")))!=w&&s.addClass(n),i&&s.find(".select2-search-choice-close").on("mousedown",h).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(x(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),h(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),s.data("select2-data",t),s.insertBefore(this.searchContainer),l.push(a),this.setVal(l)},unselect:function(t){var e,n,i=this.getVal();if(0===(t=t.closest(".select2-search-choice")).length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(e=t.data("select2-data")){var r=x.Event("select2-removing");if(r.val=this.id(e),r.choice=e,this.opts.element.trigger(r),r.isDefaultPrevented())return!1;for(;0<=(n=u(this.id(e),i));)i.splice(n,1),this.setVal(i),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}),!0}},postprocessResults:function(t,e,n){var i=this.getVal(),r=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),s=this;r.each2(function(t,e){0<=u(s.id(e.data("select2-data")),i)&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&!1!==n&&s.highlight(0),!this.opts.createSearchChoice&&0<!r.filter(".select2-result:not(.select2-selected)").length&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&v(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+_(s.opts.formatNoMatches,s.opts.element,s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-o(this.search)},resizeSearch:function(){var t,e,n,i,r=o(this.search);t=function(t){if(!S){var e=t[0].currentStyle||window.getComputedStyle(t[0],null);(S=x(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:e.fontSize,fontFamily:e.fontFamily,fontStyle:e.fontStyle,fontWeight:e.fontWeight,letterSpacing:e.letterSpacing,textTransform:e.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),x("body").append(S)}return S.text(t.val()),S.width()}(this.search)+10,e=this.search.offset().left,(i=(n=this.selection.width())-(e-this.selection.offset().left)-r)<t&&(i=n-r),i<40&&(i=n-r),i<=0&&(i=t),this.search.width(Math.floor(i))},getVal:function(){var t;return this.select?null===(t=this.select.val())?[]:t:r(t=this.opts.element.val(),this.opts.separator)},setVal:function(t){var e;this.select?this.select.val(t):(e=[],x(t).each(function(){u(this,e)<0&&e.push(this)}),this.opts.element.val(0===e.length?"":e.join(this.opts.separator)))},buildChangeDetails:function(t,e){e=e.slice(0),t=t.slice(0);for(var n=0;n<e.length;n++)for(var i=0;i<t.length;i++)f(this.opts.id(e[n]),this.opts.id(t[i]))&&(e.splice(n,1),0<n&&n--,t.splice(i,1),i--);return{added:e,removed:t}},val:function(t,n){var i,r=this;if(0===arguments.length)return this.getVal();if((i=this.data()).length||(i=[]),!t&&0!==t)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:i}));if(this.setVal(t),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===w)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var e=x.map(t,r.id);r.setVal(e),r.updateSelection(t),r.clearSearch(),n&&r.triggerChange(r.buildChangeDetails(i,r.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],e=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(e.opts.id(x(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,e){var n,i,r=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return x(this).data("select2-data")}).get():(i=this.data(),t=t||[],n=x.map(t,function(t){return r.opts.id(t)}),this.setVal(n),this.updateSelection(t),this.clearSearch(),void(e&&this.triggerChange(this.buildChangeDetails(i,this.data()))))}}),x.fn.select2=function(){var t,e,n,i,r,o=Array.prototype.slice.call(arguments,0),s=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],a=["opened","isFocused","container","dropdown"],l=["val","data"],c={search:"externalSearch"};return this.each(function(){if(0===o.length||"object"==typeof o[0])(t=0===o.length?{}:x.extend({},o[0])).element=x(this),"select"===t.element.get(0).tagName.toLowerCase()?r=t.element.prop("multiple"):(r=t.multiple||!1,"tags"in t&&(t.multiple=r=!0)),(e=r?new window.Select2.class.multi:new window.Select2.class.single).init(t);else{if("string"!=typeof o[0])throw"Invalid arguments to select2 plugin: "+o;if(u(o[0],s)<0)throw"Unknown method: "+o[0];if(i=w,(e=x(this).data("select2"))===w)return;if(n=o[0],i="container"===n?e.container:"dropdown"===n?e.dropdown:(c[n]&&(n=c[n]),e[n].apply(e,o.slice(1))),0<=u(o[0],a)||0<=u(o[0],l)&&1==o.length)return!1}}),i===w?this:i},x.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,i){var r=[];return p(t.text,n.term,r,i),r.join("")},formatSelection:function(t,e,n){return t?n(t.text):w},sortResults:function(t){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(){return w},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==w?null:t.id},matcher:function(t,e){return 0<=a(""+e).toUpperCase().indexOf(a(""+t).toUpperCase())},separator:",",tokenSeparators:[],tokenizer:function(t,e,n,i){var r,o,s,a,l,c=t,u=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return w;for(;;){for(o=-1,s=0,a=i.tokenSeparators.length;s<a&&(l=i.tokenSeparators[s],!(0<=(o=t.indexOf(l))));s++);if(o<0)break;if(r=t.substring(0,o),t=t.substring(o+l.length),0<r.length&&((r=i.createSearchChoice.call(this,r,e))!==w&&null!==r&&i.id(r)!==w&&null!==i.id(r))){for(u=!1,s=0,a=e.length;s<a;s++)if(f(i.id(r),i.id(e[s]))){u=!0;break}u||n(r)}}return c!==t?t:void 0},escapeMarkup:t,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return w},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){return!(("ontouchstart"in window||0<navigator.msMaxTouchPoints)&&t.opts.minimumResultsForSearch<0)}},x.fn.select2.locales=[],x.fn.select2.locales.en={formatMatches:function(t){return 1===t?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results…"},formatSearching:function(){return"Searching…"}},x.extend(x.fn.select2.defaults,x.fn.select2.locales.en),x.fn.select2.ajaxDefaults={transport:x.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:i,local:g,tags:m},util:{debounce:c,markMatch:p,escapeMarkup:t,stripDiacritics:a},class:{abstract:n,single:b,multi:C}}}var N}(jQuery),function(r){"use strict";r(document).ready(function(){r(".list-view-wrapper").scrollbar(),r('[data-pages="search"]').search({searchField:"#overlay-search",closeButton:".overlay-close",suggestions:"#overlay-suggestions",brand:".brand",onSearchSubmit:function(t){console.log("Search for: "+t)},onKeyEnter:function(t){console.log("Live search for: "+t);var e=r("#overlay-search"),n=r(".search-results");clearTimeout(r.data(this,"timer")),n.fadeOut("fast");var i=setTimeout(function(){n.find(".result-name").each(function(){0!=e.val().length&&(r(this).html(e.val()),n.fadeIn("fast"))})},500);r(this).data("timer",i)}})}),r(".panel-collapse label").on("click",function(t){t.stopPropagation()})}(window.jQuery),function(o){"use strict";function t(){this.VERSION="2.0.0",this.AUTHOR="Revox",this.SUPPORT="support@revox.io",this.pageScrollElement="html, body",this.$body=o("body"),this.setUserOS(),this.setUserAgent()}t.prototype.setUserOS=function(){var t="";-1!=navigator.appVersion.indexOf("Win")&&(t="windows"),-1!=navigator.appVersion.indexOf("Mac")&&(t="mac"),-1!=navigator.appVersion.indexOf("X11")&&(t="unix"),-1!=navigator.appVersion.indexOf("Linux")&&(t="linux"),this.$body.addClass(t)},t.prototype.setUserAgent=function(){navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?this.$body.addClass("mobile"):(this.$body.addClass("desktop"),navigator.userAgent.match(/MSIE 9.0/)&&this.$body.addClass("ie9"))},t.prototype.isVisibleXs=function(){return o("#pg-visible-xs").length||this.$body.append('<div id="pg-visible-xs" class="visible-xs" />'),o("#pg-visible-xs").is(":visible")},t.prototype.isVisibleSm=function(){return o("#pg-visible-sm").length||this.$body.append('<div id="pg-visible-sm" class="visible-sm" />'),o("#pg-visible-sm").is(":visible")},t.prototype.isVisibleMd=function(){return o("#pg-visible-md").length||this.$body.append('<div id="pg-visible-md" class="visible-md" />'),o("#pg-visible-md").is(":visible")},t.prototype.isVisibleLg=function(){return o("#pg-visible-lg").length||this.$body.append('<div id="pg-visible-lg" class="visible-lg" />'),o("#pg-visible-lg").is(":visible")},t.prototype.getUserAgent=function(){return o("body").hasClass("mobile")?"mobile":"desktop"},t.prototype.setFullScreen=function(t){var e=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen;if(e)e.call(t);else if(void 0!==window.ActiveXObject){var n=new ActiveXObject("WScript.Shell");null!==n&&n.SendKeys("{F11}")}},t.prototype.getColor=function(t,e){e=parseFloat(e)||1;var n=o(".pg-colors").length?o(".pg-colors"):o('<div class="pg-colors"></div>').appendTo("body"),i=(t=(n.find('[data-color="'+t+'"]').length?n.find('[data-color="'+t+'"]'):o('<div class="bg-'+t+'" data-color="'+t+'"></div>').appendTo(n)).css("background-color")).match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"rgba("+i[1]+", "+i[2]+", "+i[3]+", "+e+")"},t.prototype.initSidebar=function(){o('[data-pages="sidebar"]').each(function(){var t=o(this);t.sidebar(t.data())})},t.prototype.initDropDown=function(){o(".dropdown-default").each(function(){var t=o(this).find(".dropdown-menu").siblings(".dropdown-toggle"),e=(t.actual("innerWidth"),t.actual("width"),o(this).find(".dropdown-menu").actual("outerWidth"));t.actual("outerWidth")<e&&t.width(e-0),o(this).find(".dropdown-menu").width(t.actual("outerWidth"))})},t.prototype.initFormGroupDefault=function(){o(".form-group.form-group-default").click(function(){o(this).find("input").focus()}),o("body").on("focus",".form-group.form-group-default :input",function(){o(".form-group.form-group-default").removeClass("focused"),o(this).parents(".form-group").addClass("focused")}),o("body").on("blur",".form-group.form-group-default :input",function(){o(this).parents(".form-group").removeClass("focused"),o(this).val()?o(this).closest(".form-group").find("label").addClass("fade"):o(this).closest(".form-group").find("label").removeClass("fade")}),o(".form-group.form-group-default .checkbox, .form-group.form-group-default .radio").hover(function(){o(this).parents(".form-group").addClass("focused")},function(){o(this).parents(".form-group").removeClass("focused")})},t.prototype.initSlidingTabs=function(){o('a[data-toggle="tab"]').on("show.bs.tab",function(t){var e=((t=o(t.target).parent().find("a[data-toggle=tab]")).attr("href"),t.attr("href"));o(e).is(".slide-left, .slide-right")&&(o(e).addClass("sliding"),setTimeout(function(){o(e).removeClass("sliding")},100))})},t.prototype.initNotificationCenter=function(){o(".notification-list .dropdown-menu").on("click",function(t){t.stopPropagation()}),o(".toggle-more-details").on("click",function(t){var e=o(this).closest(".heading");e.closest(".heading").children(".more-details").stop().slideToggle("fast",function(){e.toggleClass("open")})})},t.prototype.initProgressBars=function(){o(window).on("load",function(){o(".progress-bar-indeterminate, .progress-circle-indeterminate, .mapplic-pin").hide().show(0)})},t.prototype.initView=function(){o('[data-navigate="view"]').on("click",function(t){t.preventDefault();var e=o(this).attr("data-view-port");return null!=o(this).attr("data-toggle-view")&&(o(e).children().last().children(".view").hide(),o(o(this).attr("data-toggle-view")).show()),o(e).toggleClass(o(this).attr("data-view-animation")),!1})},t.prototype.initInputFile=function(){o(document).on("change",".btn-file :file",function(){var t=o(this),e=t.get(0).files?t.get(0).files.length:1,n=t.val().replace(/\\/g,"/").replace(/.*\//,"");t.trigger("fileselect",[e,n])}),o(".btn-file :file").on("fileselect",function(t,e,n){var i=o(this).parents(".input-group").find(":text"),r=1<e?e+" files selected":n;i.length?i.val(r):o(this).parent().html(r)})},t.prototype.initTooltipPlugin=function(){o.fn.tooltip&&o('[data-toggle="tooltip"]').tooltip()},t.prototype.initSelect2Plugin=function(){o.fn.select2&&o('[data-init-plugin="select2"]').each(function(){o(this).select2({minimumResultsForSearch:"true"==o(this).attr("data-disable-search")?-1:1}).on("select2-opening",function(){o.fn.scrollbar&&o(".select2-results").scrollbar({ignoreMobile:!1})})})},t.prototype.initScrollBarPlugin=function(){o.fn.scrollbar&&o(".scrollable").scrollbar({ignoreOverlay:!1})},t.prototype.initListView=function(){o.fn.ioslist&&o('[data-init-list-view="ioslist"]').ioslist(),o.fn.scrollbar&&o(".list-view-wrapper").scrollbar({ignoreOverlay:!1})},t.prototype.initSwitcheryPlugin=function(){window.Switchery&&o('[data-init-plugin="switchery"]').each(function(){new Switchery(o(this).get(0),{color:o.Pages.getColor("success")})})},t.prototype.initSelectFxPlugin=function(){window.SelectFx&&o('select[data-init-plugin="cs-select"]').each(function(){var t=o(this).get(0);o(t).wrap('<div class="cs-wrapper"></div>'),new SelectFx(t)})},t.prototype.initUnveilPlugin=function(){o.fn.unveil&&o("img").unveil()},t.prototype.initValidatorPlugin=function(){o.validator&&o.validator.setDefaults({ignore:"",showErrors:function(t,e){var i=this;return o.each(this.successList,function(t,e){return o(this).closest(".form-group-attached").length?o(e).popover("hide"):void 0}),o.each(e,function(t,e){var n;if(!(n=o(e.element).closest(".form-group-attached")).length)return i.defaultShowErrors();o(e.element).popover({trigger:"manual",placement:"top",html:!0,container:n.closest("form"),content:e.message}).data("bs.popover").options.content=e.message,(n=o(e.element).closest(".form-group")).addClass("has-error"),o(e.element).popover("show")})},onfocusout:function(t){var e=o(t).closest(".form-group");o(t).valid()&&(e.removeClass("has-error"),e.next(".error").remove())},onkeyup:function(t){var e=o(t).closest(".form-group");o(t).valid()?(o(t).removeClass("error"),e.removeClass("has-error"),e.next("label.error").remove(),e.find("label.error").remove()):e.addClass("has-error")},errorPlacement:function(t,e){var n=o(e).closest(".form-group");n.hasClass("form-group-default")?(n.addClass("has-error"),t.insertAfter(n)):t.insertAfter(e)}})},t.prototype.init=function(){this.initSidebar(),this.initDropDown(),this.initFormGroupDefault(),this.initSlidingTabs(),this.initNotificationCenter(),this.initProgressBars(),this.initTooltipPlugin(),this.initSelect2Plugin(),this.initScrollBarPlugin(),this.initSwitcheryPlugin(),this.initSelectFxPlugin(),this.initUnveilPlugin(),this.initValidatorPlugin(),this.initView(),this.initListView(),this.initInputFile()},o.Pages=new t,o.Pages.Constructor=t}(window.jQuery),function(m){"use strict";function n(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function t(t,e){this.el=t,this.options=n({},this.options),n(this.options,e),this._init()}function v(t,e){e.parentNode.insertBefore(t,e.nextSibling)}t.prototype.options={newTab:!0,stickyPlaceholder:!0,container:"body",onChange:function(t){console.log(t);var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),t.dispatchEvent(e)}},t.prototype._init=function(){var t=this.el.querySelector("option[selected]");this.hasDefaultPlaceholder=t&&t.disabled,this.selectedOpt=t||this.el.querySelector("option"),this._createSelectEl(),this.selOpts=[].slice.call(this.selEl.querySelectorAll("li[data-option]")),this.selOptsCount=this.selOpts.length,this.current=this.selOpts.indexOf(this.selEl.querySelector("li.cs-selected"))||-1,this.selPlaceholder=this.selEl.querySelector("span.cs-placeholder"),this._initEvents(),this.el.onchange=function(){var t=this.selectedIndex,e=this.children[t].innerHTML.trim();console.log(e)}},t.prototype._createSelectEl=function(){function n(t){var e="",n="",i="";return!t.selectedOpt||this.foundSelected||this.hasDefaultPlaceholder||(n+="cs-selected ",this.foundSelected=!0),t.getAttribute("data-class")&&(n+=t.getAttribute("data-class")),t.getAttribute("data-link")&&(i="data-link="+t.getAttribute("data-link")),""!==n&&(e='class="'+n+'" '),"<li "+e+i+' data-option data-value="'+t.value+'"><span>'+t.textContent+"</span></li>"}var i="";[].slice.call(this.el.children).forEach(function(t){if(!t.disabled){var e=t.tagName.toLowerCase();"option"===e?i+=n(t):"optgroup"===e&&(i+='<li class="cs-optgroup"><span>'+t.label+"</span><ul>",[].slice.call(t.children).forEach(function(t){i+=n(t)}),i+="</ul></li>")}});var t='<div class="cs-options"><ul>'+i+"</ul></div>";this.selEl=document.createElement("div"),this.selEl.className=this.el.className,this.selEl.tabIndex=this.el.tabIndex,this.selEl.innerHTML='<span class="cs-placeholder">'+this.selectedOpt.textContent+"</span>"+t,this.el.parentNode.appendChild(this.selEl),this.selEl.appendChild(this.el);var e=document.createElement("div");e.className="cs-backdrop",this.selEl.appendChild(e)},t.prototype._initEvents=function(){var n=this;this.selPlaceholder.addEventListener("click",function(){n._toggleSelect()}),this.selOpts.forEach(function(t,e){t.addEventListener("click",function(){n.current=e,n._changeOption(),n._toggleSelect()})}),document.addEventListener("click",function(t){var e=t.target;n._isOpen()&&e!==n.selEl&&!function(t,e){if(!t)return!1;for(var n=t.target||t.srcElement||t||!1;n&&n!=e;)n=n.parentNode||!1;return!1!==n}(e,n.selEl)&&n._toggleSelect()}),this.selEl.addEventListener("keydown",function(t){switch(t.keyCode||t.which){case 38:t.preventDefault(),n._navigateOpts("prev");break;case 40:t.preventDefault(),n._navigateOpts("next");break;case 32:t.preventDefault(),n._isOpen()&&void 0!==n.preSelCurrent&&-1!==n.preSelCurrent&&n._changeOption(),n._toggleSelect();break;case 13:t.preventDefault(),n._isOpen()&&void 0!==n.preSelCurrent&&-1!==n.preSelCurrent&&(n._changeOption(),n._toggleSelect());break;case 27:t.preventDefault(),n._isOpen()&&n._toggleSelect()}})},t.prototype._navigateOpts=function(t){this._isOpen()||this._toggleSelect();var e=void 0!==this.preSelCurrent&&-1!==this.preSelCurrent?this.preSelCurrent:this.current;("prev"===t&&0<e||"next"===t&&e<this.selOptsCount-1)&&(this.preSelCurrent="next"===t?e+1:e-1,this._removeFocus(),classie.add(this.selOpts[this.preSelCurrent],"cs-focus"))},t.prototype._toggleSelect=function(){var t=this.selEl.querySelector(".cs-backdrop"),e=document.querySelector(this.options.container),n=e.querySelector(".dropdown-mask"),i=this.selEl.querySelector(".cs-options"),r=this.selEl.querySelector(".cs-placeholder"),o=r.offsetWidth,s=r.offsetHeight,a=i.scrollWidth;if(this._isOpen()){-1!==this.current&&(this.selPlaceholder.textContent=this.selOpts[this.current].textContent);var l=(u=this.selEl.data).parentNode;v(this.selEl,u),this.selEl.removeAttribute("style"),l.removeChild(u),this.selEl.clientHeight,t.style.transform=t.style.webkitTransform=t.style.MozTransform=t.style.msTransform=t.style.OTransform="scale3d(1,1,1)",classie.remove(this.selEl,"cs-active"),n.style.display="none",i.style.overflowY="hidden",i.style.width="auto";var c=function(t,e){for(var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1}(this.selEl,".form-group");c&&classie.removeClass(c,"focused")}else{var u;this.hasDefaultPlaceholder&&this.options.stickyPlaceholder&&(this.selPlaceholder.textContent=this.selectedOpt.textContent),this.selEl.parentNode.querySelector(".dropdown-placeholder")?u=this.selEl.parentNode.querySelector(".dropdown-placeholder"):(u=document.createElement("div"),classie.add(u,"dropdown-placeholder"),v(u,this.selEl)),u.style.height=s+"px",u.style.width=this.selEl.offsetWidth+"px",this.selEl.data=u,this.selEl.style.position="absolute";var h=function(t){return{left:t.getBoundingClientRect().left+m.pageXOffset-t.ownerDocument.documentElement.clientLeft,top:t.getBoundingClientRect().top+m.pageYOffset-t.ownerDocument.documentElement.clientTop}}(this.selEl);this.selEl.style.left=h.left+"px",this.selEl.style.top=h.top+"px",e.appendChild(this.selEl);var d=i.offsetHeight,f=r.offsetHeight,p=(i.offsetWidth,r.offsetWidth,d/f);t.style.transform=t.style.webkitTransform=t.style.MozTransform=t.style.msTransform=t.style.OTransform="scale3d(1, "+p+", 1)",n||(n=document.createElement("div"),classie.add(n,"dropdown-mask"),e.appendChild(n)),n.style.display="block",classie.add(this.selEl,"cs-active");var g=o<a?a:o;this.selEl.style.width=g+"px",this.selEl.style.height=f+"px",i.style.width="100%",setTimeout(function(){i.style.overflowY="auto"},300)}},t.prototype._changeOption=function(){void 0!==this.preSelCurrent&&-1!==this.preSelCurrent&&(this.current=this.preSelCurrent,this.preSelCurrent=-1);var t=this.selOpts[this.current];this.selPlaceholder.textContent=t.textContent,this.el.value=t.getAttribute("data-value");var e=this.selEl.querySelector("li.cs-selected");e&&classie.remove(e,"cs-selected"),classie.add(t,"cs-selected"),t.getAttribute("data-link")&&(this.options.newTab?m.open(t.getAttribute("data-link"),"_blank"):m.location=t.getAttribute("data-link")),this.options.onChange(this.el)},t.prototype._isOpen=function(t){return classie.has(this.selEl,"cs-active")},t.prototype._removeFocus=function(t){var e=this.selEl.querySelector("li.cs-focus");e&&classie.remove(e,"cs-focus")},m.SelectFx=t}(window),function(n){"use strict";n("[data-chat-input]").on("keypress",function(t){if(13==t.which){var e=n(this).attr("data-chat-conversation");n(e).append('<div class="message clearfix"><div class="chat-bubble from-me">'+n(this).val()+"</div></div>"),n(this).val("")}})}(window.jQuery),function(r){"use strict";function i(t){return parseInt(t/100*360)}function o(t,e){this.$element=r(t),this.options=r.extend(!0,{},r.fn.circularProgress.defaults,e),this.$container=r('<div class="progress-circle"></div>'),this.$element.attr("data-color")&&this.$container.addClass("progress-circle-"+this.$element.attr("data-color")),this.$element.attr("data-thick")&&this.$container.addClass("progress-circle-thick"),this.$pie=r('<div class="pie"></div>'),this.$pie.$left=r('<div class="left-side half-circle"></div>'),this.$pie.$right=r('<div class="right-side half-circle"></div>'),this.$pie.append(this.$pie.$left).append(this.$pie.$right),this.$container.append(this.$pie).append('<div class="shadow"></div>'),this.$element.after(this.$container),this.val=this.$element.val();var n=i(this.val);this.val<=50?this.$pie.$right.css("transform","rotate("+n+"deg)"):(this.$pie.css("clip","rect(auto, auto, auto, auto)"),this.$pie.$right.css("transform","rotate(180deg)"),this.$pie.$left.css("transform","rotate("+n+"deg)"))}o.VERSION="1.0.0",o.prototype.value=function(t){if(void 0!==t){var e=i(t);this.$pie.removeAttr("style"),this.$pie.$right.removeAttr("style"),this.$pie.$left.removeAttr("style"),t<=50?this.$pie.$right.css("transform","rotate("+e+"deg)"):(this.$pie.css("clip","rect(auto, auto, auto, auto)"),this.$pie.$right.css("transform","rotate(180deg)"),this.$pie.$left.css("transform","rotate("+e+"deg)"))}};var t=r.fn.circularProgress;r.fn.circularProgress=function(i){return this.filter(":input").each(function(){var t=r(this),e=t.data("pg.circularProgress"),n="object"==typeof i&&i;e||t.data("pg.circularProgress",e=new o(this,n)),"string"==typeof i?e[i]():n.hasOwnProperty("value")&&e.value(n.value)})},r.fn.circularProgress.Constructor=o,r.fn.circularProgress.defaults={value:0},r.fn.circularProgress.noConflict=function(){return r.fn.circularProgress=t,this},r(window).on("load",function(){r('[data-pages-progress="circle"]').each(function(){var t=r(this);t.circularProgress(t.data())})})}(window.jQuery),function(i){"use strict";function e(t,e){var n=this;return n.container=i(t),n.notification=i('<div class="pgn"></div>'),n.options=i.extend(!0,{},i.fn.pgNotification.defaults,e),n.container.find(".pgn-wrapper[data-position="+this.options.position+"]").length?n.wrapper=i(".pgn-wrapper[data-position="+this.options.position+"]"):(n.wrapper=i('<div class="pgn-wrapper" data-position="'+this.options.position+'"></div>'),n.container.append(n.wrapper)),n.alert=i('<div class="alert"></div>'),n.alert.addClass("alert-"+n.options.type),"bar"==n.options.style?new function(){if(n.notification.addClass("pgn-bar"),n.alert.append("<span>"+n.options.message+"</span>"),n.alert.addClass("alert-"+n.options.type),n.options.showClose){var t=i('<button type="button" class="close" data-dismiss="alert"></button>').append('<span aria-hidden="true">&times;</span>').append('<span class="sr-only">Close</span>');n.alert.prepend(t)}}:"flip"==n.options.style?new function(){if(n.notification.addClass("pgn-flip"),n.alert.append("<span>"+n.options.message+"</span>"),n.options.showClose){var t=i('<button type="button" class="close" data-dismiss="alert"></button>').append('<span aria-hidden="true">&times;</span>').append('<span class="sr-only">Close</span>');n.alert.prepend(t)}}:"circle"==n.options.style?new function(){n.notification.addClass("pgn-circle");var t="<div>";n.options.thumbnail&&(t+='<div class="pgn-thumbnail"><div>'+n.options.thumbnail+"</div></div>"),t+='<div class="pgn-message"><div>',n.options.title&&(t+='<p class="bold">'+n.options.title+"</p>"),t+="<p>"+n.options.message+"</p></div></div>",t+="</div>",n.options.showClose&&(t+='<button type="button" class="close" data-dismiss="alert">',t+='<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>',t+="</button>"),n.alert.append(t),n.alert.after('<div class="clearfix"></div>')}:(n.options.style,new function(){if(n.notification.addClass("pgn-simple"),n.alert.append(n.options.message),n.options.showClose){var t=i('<button type="button" class="close" data-dismiss="alert"></button>').append('<span aria-hidden="true">&times;</span>').append('<span class="sr-only">Close</span>');n.alert.prepend(t)}}),n.notification.append(n.alert),n.alert.on("closed.bs.alert",function(){n.notification.remove(),n.options.onClosed()}),this}e.VERSION="1.0.0",e.prototype.show=function(){if(this.wrapper.prepend(this.notification),this.options.onShown(),0!=this.options.timeout){var t=this;setTimeout(function(){this.notification.fadeOut("slow",function(){i(this).remove(),t.options.onClosed()})}.bind(this),this.options.timeout)}},i.fn.pgNotification=function(t){return new e(this,t)},i.fn.pgNotification.defaults={style:"simple",message:null,position:"top-right",type:"info",showClose:!0,timeout:4e3,onShown:function(){},onClosed:function(){}}}(window.jQuery),function(a){"use strict";function r(t,e){this.$element=a(t),this.options=a.extend(!0,{},a.fn.portlet.defaults,e),this.$loader=null,this.$body=this.$element.find(".panel-body")}r.VERSION="1.0.0",r.prototype.collapse=function(){var t=this.$element.find(this.options.collapseButton+" > i");return this.$element.find(".panel-heading"),this.$body.stop().slideToggle("fast"),this.$element.hasClass("panel-collapsed")?(this.$element.removeClass("panel-collapsed"),t.removeClass().addClass("pg-arrow_maximize"),void(a.isFunction(this.options.onExpand)&&this.options.onExpand())):(this.$element.addClass("panel-collapsed"),t.removeClass().addClass("pg-arrow_minimize"),void(a.isFunction(this.options.onCollapse)&&this.options.onCollapse()))},r.prototype.close=function(){this.$element.remove(),a.isFunction(this.options.onClose)&&this.options.onClose()},r.prototype.maximize=function(){var t=this.$element.find(this.options.maximizeButton+" > i");this.$element.hasClass("panel-maximized")?(this.$element.removeClass("panel-maximized"),t.removeClass("pg-fullscreen_restore").addClass("pg-fullscreen"),a.isFunction(this.options.onRestore)&&this.options.onRestore()):(this.$element.addClass("panel-maximized"),t.removeClass("pg-fullscreen").addClass("pg-fullscreen_restore"),a.isFunction(this.options.onMaximize)&&this.options.onMaximize())},r.prototype.refresh=function(t){var n=this.$element.find(this.options.refreshButton);if(t){if(this.$loader&&this.$loader.is(":visible"))return;if(!a.isFunction(this.options.onRefresh))return;this.$loader=a('<div class="portlet-progress"></div>'),this.$loader.css({"background-color":"rgba("+this.options.overlayColor+","+this.options.overlayOpacity+")"});var e="";if("circle"==this.options.progress)e+='<div class="progress-circle-indeterminate progress-circle-'+this.options.progressColor+'"></div>';else if("bar"==this.options.progress)e+='<div class="progress progress-small">',e+='    <div class="progress-bar-indeterminate progress-bar-'+this.options.progressColor+'"></div>',e+="</div>";else if("circle-lg"==this.options.progress){n.addClass("refreshing");var i,r=n.find("> i").first();n.find('[class$="-animated"]').length?i=n.find('[class$="-animated"]'):((i=a("<i/>")).css({position:"absolute",top:r.position().top,left:r.position().left}),i.addClass("portlet-icon-refresh-lg-"+this.options.progressColor+"-animated"),n.append(i)),r.addClass("fade"),i.addClass("active")}else e+='<div class="progress progress-small">',e+='    <div class="progress-bar-indeterminate progress-bar-'+this.options.progressColor+'"></div>',e+="</div>";this.$loader.append(e),this.$element.append(this.$loader);var o=this.$loader;setTimeout(function(){this.$loader.remove(),this.$element.append(o)}.bind(this),300),this.$loader.fadeIn(),a.isFunction(this.options.onRefresh)&&this.options.onRefresh()}else{var s=this;this.$loader.fadeOut(function(){if(a(this).remove(),"circle-lg"==s.options.progress){var t=n.find(".active"),e=n.find(".fade");t.removeClass("active"),e.removeClass("fade"),n.removeClass("refreshing")}s.options.refresh=!1})}},r.prototype.error=function(t){if(t){var e=this;this.$element.pgNotification({style:"bar",message:t,position:"top",timeout:0,type:"danger",onShown:function(){e.$loader.find("> div").fadeOut()},onClosed:function(){e.refresh(!1)}}).show()}};var t=a.fn.portlet;a.fn.portlet=function(i){return this.each(function(){var t=a(this),e=t.data("pg.portlet"),n="object"==typeof i&&i;e||t.data("pg.portlet",e=new r(this,n)),"string"==typeof i?e[i]():n.hasOwnProperty("refresh")?e.refresh(n.refresh):n.hasOwnProperty("error")&&e.error(n.error)})},a.fn.portlet.Constructor=r,a.fn.portlet.defaults={progress:"circle",progressColor:"master",refresh:!1,error:null,overlayColor:"255,255,255",overlayOpacity:.8,refreshButton:'[data-toggle="refresh"]',maximizeButton:'[data-toggle="maximize"]',collapseButton:'[data-toggle="collapse"]',closeButton:'[data-toggle="close"]'},a.fn.portlet.noConflict=function(){return a.fn.portlet=t,this},a(document).on("click.pg.portlet.data-api",'[data-toggle="collapse"]',function(t){var e=a(this),n=e.closest(".panel");e.is("a")&&t.preventDefault(),n.data("pg.portlet")&&n.portlet("collapse")}),a(document).on("click.pg.portlet.data-api",'[data-toggle="close"]',function(t){var e=a(this),n=e.closest(".panel");e.is("a")&&t.preventDefault(),n.data("pg.portlet")&&n.portlet("close")}),a(document).on("click.pg.portlet.data-api",'[data-toggle="refresh"]',function(t){var e=a(this),n=e.closest(".panel");e.is("a")&&t.preventDefault(),n.data("pg.portlet")&&n.portlet({refresh:!0})}),a(document).on("click.pg.portlet.data-api",'[data-toggle="maximize"]',function(t){var e=a(this),n=e.closest(".panel");e.is("a")&&t.preventDefault(),n.data("pg.portlet")&&n.portlet("maximize")}),a(window).on("load",function(){a('[data-pages="portlet"]').each(function(){var t=a(this);t.portlet(t.data())})})}(window.jQuery),function(r){"use strict";function o(t,e){this.$element=r(t),this.options=r.extend(!0,{},r.fn.quickview.defaults,e),this.bezierEasing=[.05,.74,.27,.99];var n=this;r(this.options.notes).on("click",".list > ul > li",function(t){var e=r(this).find(".note-preview");e=r(this).find(".note-preview");r(n.options.noteEditor).html(e.html()),r(n.options.notes).toggleClass("push")}),r(this.options.notes).on("click",".list > ul > li .checkbox",function(t){t.stopPropagation()}),r(this.options.notes).on("click",n.options.backButton,function(t){r(n.options.notes).find(".toolbar > li > a").removeClass("active"),r(n.options.notes).toggleClass("push")}),r(this.options.deleteNoteButton).click(function(t){t.preventDefault(),r(this).toggleClass("selected"),r(n.options.notes).find(".list > ul > li .checkbox").fadeToggle("fast"),r(n.options.deleteNoteConfirmButton).fadeToggle("fast").removeClass("hide")}),r(this.options.newNoteButton).click(function(t){t.preventDefault(),r(n.options.noteEditor).html("")}),r(this.options.deleteNoteConfirmButton).click(function(){r(n.options.notes).find("input[type=checkbox]:checked").each(function(){r(this).parents("li").remove()})}),r(this.options.notes).on("click",".toolbar > li > a",function(t){var e=r(this).attr("data-action");document.execCommand(e,!1,null),r(this).toggleClass("active")})}o.VERSION="1.0.0";var t=r.fn.quickview;r.fn.quickview=function(i){return this.each(function(){var t=r(this),e=t.data("pg.quickview"),n="object"==typeof i&&i;e||t.data("pg.quickview",e=new o(this,n)),"string"==typeof i&&e[i]()})},r.fn.quickview.Constructor=o,r.fn.quickview.defaults={notes:"#note-views",alerts:"#alerts",chat:"#chat",notesList:".list",noteEditor:".quick-note-editor",deleteNoteButton:".delete-note-link",deleteNoteConfirmButton:".btn-remove-notes",newNoteButton:".new-note-link",backButton:".close-note-link"},r.fn.quickview.noConflict=function(){return r.fn.quickview=t,this},r(window).on("load",function(){r('[data-pages="quickview"]').each(function(){var t=r(this);t.quickview(t.data())})}),r(document).on("click.pg.quickview.data-api touchstart",'[data-toggle="quickview"]',function(t){var e=r(this).attr("data-toggle-element");if(Modernizr.csstransitions)r(e).toggleClass("open");else{var n=r(e).width();r(e).hasClass("open-ie")?r(e).stop().animate({right:0},400,r.bez([.05,.74,.27,.99]),function(){r(e).removeClass("open-ie")}):r(e).stop().animate({right:-1*n},400,r.bez([.05,.74,.27,.99]),function(){r(e).addClass("open-ie")})}t.preventDefault()})}(window.jQuery),function(r){"use strict";function o(t,e){if(this.$element=r(t),this.options=r.extend(!0,{},r.fn.parallax.defaults,e),this.$coverPhoto=this.$element.find(".cover-photo"),this.$content=this.$element.find(".inner"),this.$coverPhoto.find("> img").length){var n=this.$coverPhoto.find("> img");this.$coverPhoto.css("background-image","url("+n.attr("src")+")"),n.remove()}}o.VERSION="1.0.0",o.prototype.animate=function(){var t,e,n=50*this.$element.height()/100;t=r(window).scrollTop(),e="translateY",this.$coverPhoto.css({transform:e+"("+t*this.options.speed.coverPhoto+"px)"}),this.$content.css({transform:e+"("+t*this.options.speed.content+"px)"}),this.$content.css(n<t?{opacity:1-t/1200}:{opacity:1})};var t=r.fn.parallax;r.fn.parallax=function(i){return this.each(function(){var t=r(this),e=t.data("pg.parallax"),n="object"==typeof i&&i;e||t.data("pg.parallax",e=new o(this,n)),"string"==typeof i&&e[i]()})},r.fn.parallax.Constructor=o,r.fn.parallax.defaults={speed:{coverPhoto:.3,content:.17}},r.fn.parallax.noConflict=function(){return r.fn.parallax=t,this},r(window).on("load",function(){r('[data-pages="parallax"]').each(function(){var t=r(this);t.parallax(t.data())})}),r(window).on("scroll",function(){Modernizr.touch||r('[data-pages="parallax"]').parallax("animate")})}(window.jQuery),function(r){"use strict";function o(t,e){if(this.$element=r(t),this.options=r.extend(!0,{},r.fn.sidebar.defaults,e),this.bezierEasing=[.05,.74,.27,.99],this.cssAnimation=!0,this.menuClosedCSS,this.menuOpenCSS,this.css3d=!0,this.sideBarWidth=280,this.sideBarWidthCondensed=210,this.$sidebarMenu=this.$element.find(".sidebar-menu > ul"),this.$pageContainer=r(this.options.pageContainer),this.$body=r("body"),this.$sidebarMenu.length){"desktop"==r.Pages.getUserAgent()&&this.$sidebarMenu.scrollbar({ignoreOverlay:!1}),Modernizr.csstransitions||(this.cssAnimation=!1),Modernizr.csstransforms3d||(this.css3d=!1),this.menuOpenCSS=1==this.css3d?"translate3d("+this.sideBarWidthCondensed+"px, 0,0)":"translate("+this.sideBarWidthCondensed+"px, 0)",this.menuClosedCSS=1==this.css3d?"translate3d(0, 0,0)":"translate(0, 0)",r("body").on("click",".sidebar-menu a",function(t){if(!1!==r(this).parent().children(".sub-menu")){var e=r(this).parent().parent();r(this).parent(),e.children("li.open").children("a").children(".arrow").removeClass("open"),e.children("li.open").children("a").children(".arrow").removeClass("active"),e.children("li.open").children(".sub-menu").slideUp(200,function(){}),e.children("li").removeClass("open");var n=r(this).parent().children(".sub-menu");n.is(":visible")?(r(".arrow",r(this)).removeClass("open"),n.slideUp(200,function(){r(this).parent().removeClass("active")})):(r(".arrow",r(this)).addClass("open"),r(this).parent().addClass("open"),n.slideDown(200,function(){}))}}),r(".sidebar-slide-toggle").on("click touchend",function(t){t.preventDefault(),r(this).toggleClass("active");var e=r(this).attr("data-pages-toggle");null!=e&&r(e).toggleClass("show")});var n=this;this.$element.bind("mouseenter mouseleave",function(t){return!r.Pages.isVisibleSm()&&!r.Pages.isVisibleXs()&&void(r(".close-sidebar").data("clicked")||n.$body.hasClass("menu-pin")||(n.cssAnimation?(n.$element.css({transform:n.menuOpenCSS}),n.$body.addClass("sidebar-visible")):n.$element.stop().animate({left:"0px"},400,r.bez(n.bezierEasing),function(){n.$body.addClass("sidebar-visible")})))}),this.$pageContainer.bind("mouseover",function(t){if(r.Pages.isVisibleSm()||r.Pages.isVisibleXs())return!1;if(void 0!==t&&r(t.target).parent(".page-sidebar").length)return;n.$body.hasClass("menu-pin")||(r(".sidebar-overlay-slide").hasClass("show")&&(r(".sidebar-overlay-slide").removeClass("show"),r("[data-pages-toggle']").removeClass("active")),n.cssAnimation?(n.$element.css({transform:n.menuClosedCSS}),n.$body.removeClass("sidebar-visible")):n.$element.stop().animate({left:"-"+n.sideBarWidthCondensed+"px"},400,r.bez(n.bezierEasing),function(){n.$body.removeClass("sidebar-visible"),setTimeout(function(){r(".close-sidebar").data({clicked:!1})},100)}))})}}o.prototype.toggleSidebar=function(t){var e,n=r("body").css("background-color");r(".page-container").css("background-color",n),this.$body.hasClass("sidebar-open")?(this.$body.removeClass("sidebar-open"),e=setTimeout(function(){this.$element.removeClass("visible")}.bind(this),400)):(clearTimeout(e),this.$element.addClass("visible"),setTimeout(function(){this.$body.addClass("sidebar-open")}.bind(this),10),setTimeout(function(){r(".page-container").css({"background-color":""})},1e3))},o.prototype.togglePinSidebar=function(t){"hide"==t?this.$body.removeClass("menu-pin"):"show"==t?this.$body.addClass("menu-pin"):this.$body.toggleClass("menu-pin")};var t=r.fn.sidebar;r.fn.sidebar=function(i){return this.each(function(){var t=r(this),e=t.data("pg.sidebar"),n="object"==typeof i&&i;e||t.data("pg.sidebar",e=new o(this,n)),"string"==typeof i&&e[i]()})},r.fn.sidebar.Constructor=o,r.fn.sidebar.defaults={pageContainer:".page-container"},r.fn.sidebar.noConflict=function(){return r.fn.sidebar=t,this},r(document).on("click.pg.sidebar.data-api",'[data-toggle-pin="sidebar"]',function(t){return t.preventDefault(),(r(this),r('[data-pages="sidebar"]')).data("pg.sidebar").togglePinSidebar(),!1}),r(document).on("click.pg.sidebar.data-api touchstart",'[data-toggle="sidebar"]',function(t){return t.preventDefault(),(r(this),r('[data-pages="sidebar"]')).data("pg.sidebar").toggleSidebar(),!1})}(window.jQuery),function(r){"use strict";function o(t,e){this.$element=r(t),this.options=r.extend(!0,{},r.fn.search.defaults,e),this.init()}o.VERSION="1.0.0",o.prototype.init=function(){var e=this;this.pressedKeys=[],this.ignoredKeys=[],this.$searchField=this.$element.find(this.options.searchField),this.$closeButton=this.$element.find(this.options.closeButton),this.$suggestions=this.$element.find(this.options.suggestions),this.$brand=this.$element.find(this.options.brand),this.$searchField.on("keyup",function(t){e.$suggestions&&e.$suggestions.html(r(this).val())}),this.$searchField.on("keyup",function(t){return e.options.onKeyEnter&&e.options.onKeyEnter(e.$searchField.val()),13==t.keyCode&&(t.preventDefault(),e.options.onSearchSubmit&&e.options.onSearchSubmit(e.$searchField.val())),r("body").hasClass("overlay-disabled")?0:void 0}),this.$closeButton.on("click",function(){e.toggleOverlay("hide")}),this.$element.on("click",function(t){"search"==r(t.target).data("pages")&&e.toggleOverlay("hide")}),r(document).on("keypress.pg.search",function(t){e.keypress(t)}),r(document).on("keyup",function(t){e.$element.is(":visible")&&27==t.keyCode&&e.toggleOverlay("hide")})},o.prototype.keypress=function(t){var e=(t=t||event).target.nodeName;r("body").hasClass("overlay-disabled")||r(t.target).hasClass("js-input")||"INPUT"==e||"TEXTAREA"==e||0===t.which||0===t.charCode||t.ctrlKey||t.metaKey||t.altKey||27==t.keyCode||this.toggleOverlay("show",String.fromCharCode(t.keyCode|t.charCode))},o.prototype.toggleOverlay=function(t,e){var n=this;"show"==t?(this.$element.removeClass("hide"),this.$element.fadeIn("fast"),this.$searchField.is(":focus")||(this.$searchField.val(e),setTimeout(function(){this.$searchField.focus();var t=this.$searchField.val();this.$searchField.val(""),this.$searchField.val(t)}.bind(this),100)),this.$element.removeClass("closed"),this.$brand.toggleClass("invisible"),r(document).off("keypress.pg.search")):(this.$element.fadeOut("fast").addClass("closed"),this.$searchField.val("").blur(),setTimeout(function(){this.$element.is(":visible")&&this.$brand.toggleClass("invisible"),r(document).on("keypress.pg.search",function(t){n.keypress(t)})}.bind(this),100))};var t=r.fn.search;r.fn.search=function(i){return this.each(function(){var t=r(this),e=t.data("pg.search"),n="object"==typeof i&&i;e||t.data("pg.search",e=new o(this,n)),"string"==typeof i&&e[i]()})},r.fn.search.Constructor=o,r.fn.search.defaults={searchField:'[data-search="searchField"]',closeButton:'[data-search="closeButton"]',suggestions:'[data-search="suggestions"]',brand:'[data-search="brand"]'},r.fn.search.noConflict=function(){return r.fn.search=t,this},r(document).on("click.pg.search.data-api",'[data-toggle="search"]',function(t){var e=r(this),n=r('[data-pages="search"]');e.is("a")&&t.preventDefault(),n.data("pg.search").toggleOverlay("show")})}(window.jQuery),function(t){"use strict";"undefined"==typeof angular&&t.Pages.init()}(window.jQuery),function(){function t(t,e){function n(){this.constructor=t}for(var i in e)Q.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t}var l,c,e,n,o,i,r,s,a,y,u,h,b,d,f,p,g,w,x,m,v,_,C,k,S,D,E,T,M,$,N,A,P,I,O,R,L,H,F,z,j,W,B,Y,q,U,V,G,X,K=[].slice,Q={}.hasOwnProperty,Z=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};for(v={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},M=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},N=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,m=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==N&&(N=function(t){return setTimeout(t,50)},m=function(t){return clearTimeout(t)}),P=function(e){var n,i;return n=M(),(i=function(){var t;return 33<=(t=M()-n)?(n=M(),e(t,function(){return N(i)})):setTimeout(i,33-t)})()},A=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=3<=arguments.length?K.call(arguments,2):[],"function"==typeof n[e]?n[e].apply(n,t):n[e]},_=function(){var t,e,n,i,r,o,s;for(e=arguments[0],o=0,s=(i=2<=arguments.length?K.call(arguments,1):[]).length;o<s;o++)if(n=i[o])for(t in n)Q.call(n,t)&&(r=n[t],null!=e[t]&&"object"==typeof e[t]&&null!=r&&"object"==typeof r?_(e[t],r):e[t]=r);return e},g=function(t){var e,n,i,r,o;for(n=e=0,r=0,o=t.length;r<o;r++)i=t[r],n+=Math.abs(i),e++;return n/e},k=function(t,e){var n,i,r;if(null==t&&(t="options"),null==e&&(e=!0),r=document.querySelector("[data-pace-"+t+"]")){if(n=r.getAttribute("data-pace-"+t),!e)return n;try{return JSON.parse(n)}catch(t){return i=t,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",i):void 0}}},J.prototype.on=function(t,e,n,i){var r;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(r=this.bindings)[t]&&(r[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})},J.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},J.prototype.off=function(t,e){var n,i,r;if(null!=(null!=(i=this.bindings)?i[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,r=[];n<this.bindings[t].length;)r.push(this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):n++);return r}},J.prototype.trigger=function(){var t,e,n,i,r,o,s,a,l;if(n=arguments[0],t=2<=arguments.length?K.call(arguments,1):[],null!=(s=this.bindings)?s[n]:void 0){for(r=0,l=[];r<this.bindings[n].length;)i=(a=this.bindings[n][r]).handler,e=a.ctx,o=a.once,i.apply(null!=e?e:this,t),l.push(o?this.bindings[n].splice(r,1):r++);return l}},r=J,y=window.Pace||{},window.Pace=y,_(y,r.prototype),$=y.options=_({},v,window.paceOptions,k()),B=0,q=(V=["ajax","document","eventLag","elements"]).length;B<q;B++)!0===$[L=V[B]]&&($[L]=v[L]);function J(){}function tt(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=$.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=A(this.source,"progress"))}function et(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}function nt(t){this.selector=t,this.progress=0,this.check()}function it(){var t=this;this.elements=[],S().on("request",function(){return t.watch.apply(t,arguments)})}function rt(){var n,r=this;rt.__super__.constructor.apply(this,arguments),n=function(n){var i;return i=n.open,n.open=function(t,e){return R(t)&&r.trigger("request",{type:t,url:e,request:n}),i.apply(n,arguments)}},window.XMLHttpRequest=function(t){var e;return e=new W(t),n(e),e};try{C(window.XMLHttpRequest,W)}catch(t){}if(null!=j){window.XDomainRequest=function(){var t;return t=new j,n(t),t};try{C(window.XDomainRequest,j)}catch(t){}}if(null!=z&&$.ajax.trackWebSockets){window.WebSocket=function(t,e){var n;return n=null!=e?new z(t,e):new z(t),R("socket")&&r.trigger("request",{type:"socket",url:t,protocols:e,request:n}),n};try{C(window.WebSocket,z)}catch(t){}}}function ot(){this.bindings={}}function st(){this.progress=0}function at(){return at.__super__.constructor.apply(this,arguments)}X=Error,t(at,X),a=at,st.prototype.getElement=function(){var t;if(null==this.el){if(!(t=document.querySelector($.target)))throw new a;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},st.prototype.finish=function(){var t;return(t=this.getElement()).className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},st.prototype.update=function(t){return this.progress=t,this.render()},st.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){a=t}return this.el=void 0},st.prototype.render=function(){var t,e,n,i,r,o,s;if(null==document.querySelector($.target))return!1;for(t=this.getElement(),i="translate3d("+this.progress+"%, 0, 0)",r=0,o=(s=["webkitTransform","msTransform","transform"]).length;r<o;r++)e=s[r],t.children[0].style[e]=i;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),100<=this.progress?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),t.children[0].setAttribute("data-progress",""+n)),this.lastRenderedProgress=this.progress},st.prototype.done=function(){return 100<=this.progress},c=st,ot.prototype.trigger=function(t,e){var n,i,r,o,s;if(null!=this.bindings[t]){for(s=[],i=0,r=(o=this.bindings[t]).length;i<r;i++)n=o[i],s.push(n.call(this,e));return s}},ot.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},s=ot,W=window.XMLHttpRequest,j=window.XDomainRequest,z=window.WebSocket,C=function(t,e){var n,i;for(n in i=[],e.prototype)try{i.push(null==t[n]&&"function"!=typeof e[n]?"function"==typeof Object.defineProperty?Object.defineProperty(t,n,{get:function(){return e.prototype[n]},configurable:!0,enumerable:!0}):t[n]=e.prototype[n]:void 0)}catch(t){t}return i},E=[],y.ignore=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?K.call(arguments,1):[],E.unshift("ignore"),n=e.apply(null,t),E.shift(),n},y.track=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?K.call(arguments,1):[],E.unshift("track"),n=e.apply(null,t),E.shift(),n},R=function(t){var e;if(null==t&&(t="GET"),"track"===E[0])return"force";if(!E.length&&$.ajax){if("socket"===t&&$.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),0<=Z.call($.ajax.trackMethods,e))return!0}return!1},t(rt,s),u=rt,Y=null,O=function(t){var e,n,i,r;for(n=0,i=(r=$.ajax.ignoreURLs).length;n<i;n++)if("string"==typeof(e=r[n])){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},(S=function(){return null==Y&&(Y=new u),Y})().on("request",function(t){var e,o,s,a,n;return a=t.type,s=t.request,n=t.url,O(n)?void 0:y.running||!1===$.restartOnRequestAfter&&"force"!==R(a)?void 0:(o=arguments,"boolean"==typeof(e=$.restartOnRequestAfter||0)&&(e=0),setTimeout(function(){var t,e,n,i,r;if("socket"===a?s.readyState<2:0<(n=s.readyState)&&n<4){for(y.restart(),r=[],t=0,e=(i=y.sources).length;t<e;t++){if((L=i[t])instanceof l){L.watch.apply(L,o);break}r.push(void 0)}return r}},e))}),it.prototype.watch=function(t){var e,n,i,r;return i=t.type,e=t.request,r=t.url,O(r)?void 0:(n="socket"===i?new d(e):new f(e),this.elements.push(n))},l=it,f=function(e){var t,n,i,r,o,s=this;if(this.progress=0,null!=window.ProgressEvent)for(e.addEventListener("progress",function(t){return s.progress=t.lengthComputable?100*t.loaded/t.total:s.progress+(100-s.progress)/2},!1),n=0,i=(o=["load","abort","timeout","error"]).length;n<i;n++)t=o[n],e.addEventListener(t,function(){return s.progress=100},!1);else r=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?s.progress=100:3===e.readyState&&(s.progress=50),"function"==typeof r?r.apply(null,arguments):void 0}},d=function(t){var e,n,i,r,o=this;for(n=this.progress=0,i=(r=["error","open"]).length;n<i;n++)e=r[n],t.addEventListener(e,function(){return o.progress=100},!1)},n=function(t){var e,n,i,r;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),n=0,i=(r=t.selectors).length;n<i;n++)e=r[n],this.elements.push(new o(e))},nt.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},$.elements.checkInterval)},nt.prototype.done=function(){return this.progress=100},o=nt,et.prototype.states={loading:0,interactive:50,complete:100},e=et,i=function(){var e,n,i,r,o,s=this;this.progress=0,o=[],r=e=0,i=M(),n=setInterval(function(){var t;return t=M()-i-50,i=M(),o.push(t),o.length>$.eventLag.sampleCount&&o.shift(),e=g(o),++r>=$.eventLag.minSamples&&e<$.eventLag.lagThreshold?(s.progress=100,clearInterval(n)):s.progress=3/(e+3)*100},50)},tt.prototype.tick=function(t,e){var n;return null==e&&(e=A(this.source,"progress")),100<=e&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/$.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),n=1-Math.pow(this.progress/100,$.easeFactor),this.progress+=n*this.rate*t,this.progress=Math.min(this.lastProgress+$.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},b=tt,x=p=F=w=I=H=null,y.running=!1,D=function(){return $.restartOnPushState?y.restart():void 0},null!=window.history.pushState&&(U=window.history.pushState,window.history.pushState=function(){return D(),U.apply(window.history,arguments)}),null!=window.history.replaceState&&(G=window.history.replaceState,window.history.replaceState=function(){return D(),G.apply(window.history,arguments)}),h={ajax:l,elements:n,document:e,eventLag:i},(T=function(){var t,e,n,i,r,o,s,a;for(y.sources=H=[],e=0,i=(o=["ajax","elements","document","eventLag"]).length;e<i;e++)!1!==$[t=o[e]]&&H.push(new h[t]($[t]));for(n=0,r=(a=null!=(s=$.extraSources)?s:[]).length;n<r;n++)L=a[n],H.push(new L($));return y.bar=w=new c,I=[],F=new b})(),y.stop=function(){return y.trigger("stop"),y.running=!1,w.destroy(),x=!0,null!=p&&("function"==typeof m&&m(p),p=null),T()},y.restart=function(){return y.trigger("restart"),y.stop(),y.start()},y.go=function(){var v;return y.running=!0,w.render(),v=M(),x=!1,p=P(function(t,e){var n,i,r,o,s,a,l,c,u,h,d,f,p,g,m;for(100-w.progress,i=h=0,r=!0,a=d=0,p=H.length;d<p;a=++d)for(L=H[a],u=null!=I[a]?I[a]:I[a]=[],l=f=0,g=(s=null!=(m=L.elements)?m:[L]).length;f<g;l=++f)o=s[l],r&=(c=null!=u[l]?u[l]:u[l]=new b(o)).done,c.done||(i++,h+=c.tick(t));return n=h/i,w.update(F.tick(t,n)),w.done()||r||x?(w.update(100),y.trigger("done"),setTimeout(function(){return w.finish(),y.running=!1,y.trigger("hide")},Math.max($.ghostTime,Math.max($.minTime-(M()-v),0)))):e()})},y.start=function(t){_($,t),y.running=!0;try{w.render()}catch(t){a=t}return document.querySelector(".pace")?(y.trigger("start"),y.go()):setTimeout(y.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return y}):"object"==typeof exports?module.exports=y:$.startOnPageLoad&&y.start()}.call(this);var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=function(){function i(t,e){var n=typeof t[e];return n==u||!(n!=c||!t[e])||"unknown"==n}function r(t,e){return!(typeof t[e]!=c||!t[e])}function t(t,e){return typeof t[e]!=n}function e(i){return function(t,e){for(var n=e.length;n--;)if(!i(t,e[n]))return!1;return!0}}function o(t){return t&&g(t,p)&&v(t,f)}function s(t){window.alert("Rangy not supported in your browser. Reason: "+t),y.initialized=!0,y.supported=!1}function a(){if(!y.initialized){var t,e=!1,n=!1;for(i(document,"createRange")&&(t=document.createRange(),g(t,d)&&v(t,h)&&(e=!0),t.detach()),(t=r(document,"body")?document.body:document.getElementsByTagName("body")[0])&&i(t,"createTextRange")&&(o(t=t.createTextRange())&&(n=!0)),e||n||s("Neither Range nor TextRange are implemented"),y.initialized=!0,y.features={implementsDomRange:e,implementsTextRange:n},n=0,t=(e=w.concat(b)).length;n<t;++n)try{e[n](y)}catch(t){r(window,"console")&&i(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",t)}}}function l(t){this.name=t,this.supported=this.initialized=!1}var c="object",u="function",n="undefined",h="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer START_TO_START START_TO_END END_TO_START END_TO_END".split(" "),d="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),f="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),p="collapse compareEndPoints duplicate getBookmark moveToBookmark moveToElementText parentElement pasteHTML select setEndPoint getBoundingClientRect".split(" "),g=e(i),m=e(r),v=e(t),y={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:i,isHostObject:r,isHostProperty:t,areHostMethods:g,areHostObjects:m,areHostProperties:v,isTextRange:o},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};y.fail=s,y.warn=function(t){t="Rangy warning: "+t,y.config.alertOnWarn?window.alert(t):typeof window.console!=n&&typeof window.console.log!=n&&window.console.log(t)},{}.hasOwnProperty?y.util.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}:s("hasOwnProperty not supported");var b=[],w=[];y.init=a,y.addInitListener=function(t){y.initialized?t(y):b.push(t)};var x=[];y.addCreateMissingNativeApiListener=function(t){x.push(t)},y.createMissingNativeApi=function(t){t=t||window,a();for(var e=0,n=x.length;e<n;++e)x[e](t)},l.prototype.fail=function(t){throw this.initialized=!0,this.supported=!1,Error("Module '"+this.name+"' failed to load: "+t)},l.prototype.warn=function(t){y.warn("Module "+this.name+": "+t)},l.prototype.createError=function(t){return Error("Error in Rangy "+this.name+" module: "+t)},y.createModule=function(t,e){var n=new l(t);y.modules[t]=n,w.push(function(t){e(t,n),n.initialized=!0,n.supported=!0})};var _=!(y.requireModules=function(t){for(var e,n,i=0,r=t.length;i<r;++i){if(n=t[i],!((e=y.modules[n])&&e instanceof l))throw Error("Module '"+n+"' not found");if(!e.supported)throw Error("Module '"+n+"' not supported")}});m=function(){_||(_=!0,y.initialized||a())};if(typeof window==n)s("No window found");else{if(typeof document!=n)return i(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",m,!1),i(window,"addEventListener")?window.addEventListener("load",m,!1):i(window,"attachEvent")?window.attachEvent("onload",m):s("Window does not have required addEventListener or attachEvent method"),y;s("No document found")}}(),rangy.createModule("DomUtil",function(t,e){function o(t){for(var e=0;t=t.previousSibling;)e++;return e}function s(t,e){var n,i=[];for(n=t;n;n=n.parentNode)i.push(n);for(n=e;n;n=n.parentNode)if(g(i,n))return n;return null}function a(t,e,n){for(n=n?t:t.parentNode;n;){if((t=n.parentNode)===e)return n;n=t}return null}function n(t){return 3==(t=t.nodeType)||4==t||8==t}function i(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t}function r(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=d)return t.ownerDocument;if(typeof t.document!=d)return t.document;if(t.parentNode)return r(t.parentNode);throw Error("getDocument: no document found for node")}function l(t){return t?n(t)?'"'+t.data+'"':1==t.nodeType?"<"+t.nodeName+(t.id?' id="'+t.id+'"':"")+">["+t.childNodes.length+"]":t.nodeName:"[No node]"}function c(t){this._next=this.root=t}function u(t,e){this.node=t,this.offset=e}function h(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var d="undefined",f=t.util;f.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),f.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var p=document.createElement("div");f.areHostMethods(p,["insertBefore","appendChild","cloneNode"])||e.fail("Incomplete Element implementation"),f.isHostProperty(p,"innerHTML")||e.fail("Element is missing innerHTML property"),p=document.createTextNode("test"),f.areHostMethods(p,["splitText","deleteData","insertData","appendData","cloneNode"])||e.fail("Incomplete Text Node implementation");function g(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1}c.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e=this._current=this._next;if(this._current){if(!(t=e.firstChild))for(t=null;e!==this.root&&!(t=e.nextSibling);)e=e.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},u.prototype={equals:function(t){return this.node===t.node&this.offset==t.offset},inspect:function(){return"[DomPosition("+l(this.node)+":"+this.offset+")]"}},(h.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11}).toString=function(){return this.message},t.dom={arrayContains:g,isHtmlNamespace:function(t){var e;return typeof t.namespaceURI==d||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e},parentElement:function(t){return 1==(t=t.parentNode).nodeType?t:null},getNodeIndex:o,getNodeLength:function(t){var e;return n(t)?t.length:(e=t.childNodes)?e.length:0},getCommonAncestor:s,isAncestorOf:function(t,e,n){for(e=n?e:e.parentNode;e;){if(e===t)return!0;e=e.parentNode}return!1},getClosestAncestorIn:a,isCharacterDataNode:n,insertAfter:i,splitDataNode:function(t,e){var n=t.cloneNode(!1);return n.deleteData(0,e),t.deleteData(e,t.length-e),i(n,t),n},getDocument:r,getWindow:function(t){if(typeof(t=r(t)).defaultView!=d)return t.defaultView;if(typeof t.parentWindow!=d)return t.parentWindow;throw Error("Cannot get a window object for node")},getIframeWindow:function(t){if(typeof t.contentWindow!=d)return t.contentWindow;if(typeof t.contentDocument!=d)return t.contentDocument.defaultView;throw Error("getIframeWindow: No Window object found for iframe element")},getIframeDocument:function(t){if(typeof t.contentDocument!=d)return t.contentDocument;if(typeof t.contentWindow!=d)return t.contentWindow.document;throw Error("getIframeWindow: No Document object found for iframe element")},getBody:function(t){return f.isHostObject(t,"body")?t.body:t.getElementsByTagName("body")[0]},getRootContainer:function(t){for(var e;e=t.parentNode;)t=e;return t},comparePoints:function(t,e,n,i){var r;if(t==n)return e===i?0:e<i?-1:1;if(r=a(n,t,!0))return e<=o(r)?-1:1;if(r=a(t,n,!0))return o(r)<i?-1:1;if((t=t===(e=s(t,n))?e:a(t,e,!0))===(n=n===e?e:a(n,e,!0)))throw Error("comparePoints got to case 4 and childA and childB are the same!");for(e=e.firstChild;e;){if(e===t)return-1;if(e===n)return 1;e=e.nextSibling}throw Error("Should not be here!")},inspectNode:l,fragmentFromNodeChildren:function(t){for(var e,n=r(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n},createIterator:function(t){return new c(t)},DomPosition:u},t.DOMException=h}),rangy.createModule("DomRange",function(o){function s(t,e){return 3!=t.nodeType&&(A.isAncestorOf(t,e.startContainer,!0)||A.isAncestorOf(t,e.endContainer,!0))}function a(t){return A.getDocument(t.startContainer)}function l(t,e,n){if(e=t._listeners[e])for(var i=0,r=e.length;i<r;++i)e[i].call(t,{target:t,args:n})}function c(t){return new P(t.parentNode,A.getNodeIndex(t))}function u(t){return new P(t.parentNode,A.getNodeIndex(t)+1)}function n(t,e,n){var i=11==t.nodeType?t.firstChild:t;return A.isCharacterDataNode(e)?n==e.length?A.insertAfter(t,e):e.parentNode.insertBefore(t,0==n?e:A.splitDataNode(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),i}function h(t,e,n){var i,r;for(n=n||{stop:!1};i=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(i)){n.stop=!0;break}if(h(i=t.getSubtreeIterator(),e,n),i.detach(!0),n.stop)break}else for(i=A.createIterator(i);r=i.next();)if(!1===e(r))return void(n.stop=!0)}function d(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(d(e=t.getSubtreeIterator()),e.detach(!0)):t.remove()}function f(t){for(var e,n,i=a(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(f(n)),n.detach(!0)):t.remove(),10==e.nodeType)throw new I("HIERARCHY_REQUEST_ERR");i.appendChild(e)}return i}function i(t,e,n){var i,r=!(!e||!e.length),o=!!n;r&&(i=RegExp("^("+e.join("|")+")$"));var s=[];return h(new p(t,!1),function(t){r&&!i.test(t.nodeType)||o&&!n(t)||s.push(t)}),s}function t(t){return"["+(void 0===t.getName?"Range":t.getName())+"("+A.inspectNode(t.startContainer)+":"+t.startOffset+", "+A.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function p(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&A.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||A.isCharacterDataNode(this.sc)?A.getClosestAncestorIn(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||A.isCharacterDataNode(this.ec)?A.getClosestAncestorIn(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function r(t){this.code=this[t],this.codeName=t,this.message="RangeException: "+this.codeName}function g(t,e,n){this.nodes=i(t,e,n),this._next=this.nodes[0],this._position=0}function e(r){return function(t,e){for(var n,i=e?t:t.parentNode;i;){if(n=i.nodeType,A.arrayContains(r,n))return i;i=i.parentNode}return null}}function m(t,e){if(W(t,e))throw new r("INVALID_NODE_TYPE_ERR")}function v(t){if(!t.startContainer)throw new I("INVALID_STATE_ERR")}function y(t,e){if(!A.arrayContains(e,t.nodeType))throw new r("INVALID_NODE_TYPE_ERR")}function b(t,e){if(e<0||e>(A.isCharacterDataNode(t)?t.length:t.childNodes.length))throw new I("INDEX_SIZE_ERR")}function w(t,e){if(z(t,!0)!==z(e,!0))throw new I("WRONG_DOCUMENT_ERR")}function x(t){if(j(t,!0))throw new I("NO_MODIFICATION_ALLOWED_ERR")}function _(t,e){if(!t)throw new I(e)}function C(t){if(v(t),!((A.arrayContains(R,t.startContainer.nodeType)||z(t.startContainer,!0))&&(A.arrayContains(R,t.endContainer.nodeType)||z(t.endContainer,!0))&&t.startOffset<=(A.isCharacterDataNode(t.startContainer)?t.startContainer.length:t.startContainer.childNodes.length)&&t.endOffset<=(A.isCharacterDataNode(t.endContainer)?t.endContainer.length:t.endContainer.childNodes.length)))throw Error("Range error: Range is no longer valid after DOM mutation ("+t.inspect()+")")}function k(){}function S(t){t.START_TO_START=U,t.START_TO_END=V,t.END_TO_END=G,t.END_TO_START=X,t.NODE_BEFORE=K,t.NODE_AFTER=Q,t.NODE_BEFORE_AND_AFTER=Z,t.NODE_INSIDE=J}function D(t){S(t),S(t.prototype)}function E(r,o){return function(){C(this);var t=this.startContainer,e=this.startOffset,n=this.commonAncestorContainer,i=new p(this,!0);return t!==n&&(t=(e=u(t=A.getClosestAncestorIn(t,n,!0))).node,e=e.offset),h(i,x),i.reset(),n=r(i),i.detach(),o(this,t,e,t,e),n}}function T(t,a,e){function n(e,n){return function(t){v(this),y(t,O),y(F(t),R),t=(e?c:u)(t),(n?i:r)(this,t.node,t.offset)}}function i(t,e,n){var i=t.endContainer,r=t.endOffset;e===t.startContainer&&n===t.startOffset||(F(e)==F(i)&&1!=A.comparePoints(e,n,i,r)||(i=e,r=n),a(t,e,n,i,r))}function r(t,e,n){var i=t.startContainer,r=t.startOffset;e===t.endContainer&&n===t.endOffset||(F(e)==F(i)&&-1!=A.comparePoints(e,n,i,r)||(i=e,r=n),a(t,i,r,e,n))}t.prototype=new k,o.util.extend(t.prototype,{setStart:function(t,e){v(this),m(t,!0),b(t,e),i(this,t,e)},setEnd:function(t,e){v(this),m(t,!0),b(t,e),r(this,t,e)},setStartBefore:n(!0,!0),setStartAfter:n(!1,!0),setEndBefore:n(!0,!1),setEndAfter:n(!1,!1),collapse:function(t){C(this),t?a(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):a(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){v(this),m(t,!0),a(this,t,0,t,A.getNodeLength(t))},selectNode:function(t){v(this),m(t,!1),y(t,O);var e=c(t);t=u(t);a(this,e.node,e.offset,t.node,t.offset)},extractContents:E(f,a),deleteContents:E(d,a),canSurroundContents:function(){C(this),x(this.startContainer),x(this.endContainer);var t=new p(this,!0),e=t._first&&s(t._first,this)||t._last&&s(t._last,this);return t.detach(),!e},detach:function(){e(this)},splitBoundaries:function(){C(this);var t=this.startContainer,e=this.startOffset,n=this.endContainer,i=this.endOffset,r=t===n;A.isCharacterDataNode(n)&&0<i&&i<n.length&&A.splitDataNode(n,i),A.isCharacterDataNode(t)&&0<e&&e<t.length&&(t=A.splitDataNode(t,e),r?(i-=e,n=t):n==t.parentNode&&i>=A.getNodeIndex(t)&&i++,e=0),a(this,t,e,n,i)},normalizeBoundaries:function(){C(this);function t(t){var e=t.previousSibling;if(e&&e.nodeType==t.nodeType){var n=(i=t).length;r=e.length,t.insertData(0,e.data),e.parentNode.removeChild(e),i==o?(s+=r,o=i):o==t.parentNode&&(e=A.getNodeIndex(t),s==e?(o=t,s=n):e<s&&s--)}}var i=this.startContainer,r=this.startOffset,o=this.endContainer,s=this.endOffset,e=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(s=(o=t).length,t.appendData(e.data),e.parentNode.removeChild(e))},n=!0;A.isCharacterDataNode(o)?o.length==s&&e(o):(0<s&&(n=o.childNodes[s-1])&&A.isCharacterDataNode(n)&&e(n),n=!this.collapsed),n?A.isCharacterDataNode(i)?0==r&&t(i):r<i.childNodes.length&&(e=i.childNodes[r])&&A.isCharacterDataNode(e)&&t(e):(i=o,r=s),a(this,i,r,o,s)},collapseToPoint:function(t,e){v(this),m(t,!0),b(t,e),t===this.startContainer&&e===this.startOffset&&t===this.endContainer&&e===this.endOffset||a(this,t,e,t,e)}}),D(t)}function M(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:A.getCommonAncestor(t.startContainer,t.endContainer)}function $(t,e,n,i,r){var o=t.startContainer!==e||t.startOffset!==n,s=t.endContainer!==i||t.endOffset!==r;t.startContainer=e,t.startOffset=n,t.endContainer=i,t.endOffset=r,M(t),l(t,"boundarychange",{startMoved:o,endMoved:s})}function N(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},M(this)}o.requireModules(["DomUtil"]);var A=o.dom,P=A.DomPosition,I=o.DOMException;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,A.isCharacterDataNode(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!A.isCharacterDataNode(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(t=n===this.sc?this.so:0)!=(e=n===this.ec?this.eo:n.length)&&n.deleteData(t,e-t)},isPartiallySelectedSubtree:function(){return s(this._current,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)(t=this.range.cloneRange()).collapse();else{t=new N(a(this.range));var e=this._current,n=e,i=0,r=e,o=A.getNodeLength(e);A.isAncestorOf(e,this.sc,!0)&&(n=this.sc,i=this.so),A.isAncestorOf(e,this.ec,!0)&&(r=this.ec,o=this.eo),$(t,n,i,r,o)}return new p(t,this.clonePartiallySelectedTextNodes)},detach:function(t){t&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},(r.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2}).toString=function(){return this.message},g.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var O=[1,3,4,5,7,8,10],R=[2,9,11],L=[1,3,4,5,7,8,10,11],H=[1,3,4,5,7,8],F=A.getRootContainer,z=e([9,11]),j=e([5,6,10,12]),W=e([6,10,12]),B=document.createElement("style"),Y=!1;try{B.innerHTML="<b>x</b>",Y=3==B.firstChild.nodeType}catch(t){}o.features.htmlParsingConforms=Y;var q="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),U=0,V=1,G=2,X=3,K=0,Q=1,Z=2,J=3;k.prototype={attachListener:function(t,e){this._listeners[t].push(e)},compareBoundaryPoints:function(t,e){C(this),w(this.startContainer,e.startContainer);var n=t==X||t==U?"start":"end",i=t==V||t==U?"start":"end";return A.comparePoints(this[n+"Container"],this[n+"Offset"],e[i+"Container"],e[i+"Offset"])},insertNode:function(t){if(C(this),y(t,L),x(this.startContainer),A.isAncestorOf(t,this.startContainer,!0))throw new I("HIERARCHY_REQUEST_ERR");this.setStartBefore(n(t,this.startContainer,this.startOffset))},cloneContents:function(){var t,e;return C(this),this.collapsed?a(this).createDocumentFragment():this.startContainer===this.endContainer&&A.isCharacterDataNode(this.startContainer)?((t=this.startContainer.cloneNode(!0)).data=t.data.slice(this.startOffset,this.endOffset),(e=a(this).createDocumentFragment()).appendChild(t),e):(t=function t(e){for(var n,i,r=a(e.range).createDocumentFragment();i=e.next();){if(n=e.isPartiallySelectedSubtree(),i=i.cloneNode(!n),n&&(n=e.getSubtreeIterator(),i.appendChild(t(n)),n.detach(!0)),10==i.nodeType)throw new I("HIERARCHY_REQUEST_ERR");r.appendChild(i)}return r}(e=new p(this,!0)),e.detach(),t)},canSurroundContents:function(){C(this),x(this.startContainer),x(this.endContainer);var t=new p(this,!0),e=t._first&&s(t._first,this)||t._last&&s(t._last,this);return t.detach(),!e},surroundContents:function(t){if(y(t,H),!this.canSurroundContents())throw new r("BAD_BOUNDARYPOINTS_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);n(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){C(this);for(var t,e=new N(a(this)),n=q.length;n--;)e[t=q[n]]=this[t];return e},toString:function(){if(C(this),(t=this.startContainer)===this.endContainer&&A.isCharacterDataNode(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var t,e=[];return h(t=new p(this,!0),function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)}),t.detach(),e.join("")},compareNode:function(t){C(this);var e=t.parentNode,n=A.getNodeIndex(t);if(!e)throw new I("NOT_FOUND_ERR");return t=this.comparePoint(e,n),e=this.comparePoint(e,n+1),t<0?0<e?Z:K:0<e?Q:J},comparePoint:function(t,e){return C(this),_(t,"HIERARCHY_REQUEST_ERR"),w(t,this.startContainer),A.comparePoints(t,e,this.startContainer,this.startOffset)<0?-1:0<A.comparePoints(t,e,this.endContainer,this.endOffset)?1:0},createContextualFragment:Y?function(t){var e=this.startContainer,n=A.getDocument(e);if(!e)throw new I("INVALID_STATE_ERR");var i=null;return 1==e.nodeType?i=e:A.isCharacterDataNode(e)&&(i=A.parentElement(e)),(i=null===i||"HTML"==i.nodeName&&A.isHtmlNamespace(A.getDocument(i).documentElement)&&A.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1)).innerHTML=t,A.fragmentFromNodeChildren(i)}:function(t){v(this);var e=a(this).createElement("body");return e.innerHTML=t,A.fragmentFromNodeChildren(e)},toHtml:function(){C(this);var t=a(this).createElement("div");return t.appendChild(this.cloneContents()),t.innerHTML},intersectsNode:function(t,e){if(C(this),_(t,"NOT_FOUND_ERR"),A.getDocument(t)!==a(this))return!1;var n=t.parentNode,i=A.getNodeIndex(t);_(n,"NOT_FOUND_ERR");var r=A.comparePoints(n,i,this.endContainer,this.endOffset);n=A.comparePoints(n,i+1,this.startContainer,this.startOffset);return e?r<=0&&0<=n:r<0&&0<n},isPointInRange:function(t,e){return C(this),_(t,"HIERARCHY_REQUEST_ERR"),w(t,this.startContainer),0<=A.comparePoints(t,e,this.startContainer,this.startOffset)&&A.comparePoints(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t,e){if(C(this),a(t)!=a(this))throw new I("WRONG_DOCUMENT_ERR");var n=A.comparePoints(this.startContainer,this.startOffset,t.endContainer,t.endOffset),i=A.comparePoints(this.endContainer,this.endOffset,t.startContainer,t.startOffset);return e?n<=0&&0<=i:n<0&&0<i},intersection:function(t){if(this.intersectsRange(t)){var e=A.comparePoints(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=A.comparePoints(this.endContainer,this.endOffset,t.endContainer,t.endOffset),i=this.cloneRange();return-1==e&&i.setStart(t.startContainer,t.startOffset),1==n&&i.setEnd(t.endContainer,t.endOffset),i}return null},union:function(t){if(this.intersectsRange(t,!0)){var e=this.cloneRange();return-1==A.comparePoints(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==A.comparePoints(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new r("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==J},containsNodeContents:function(t){return 0<=this.comparePoint(t,0)&&this.comparePoint(t,A.getNodeLength(t))<=0},containsRange:function(t){return this.intersection(t).equals(t)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);return 0<n.length?(e.setStart(n[0],0),t=n.pop(),e.setEnd(t,t.length),t=this.containsRange(e),e.detach(),t):this.containsNodeContents(t)},createNodeIterator:function(t,e){return C(this),new g(this,t,e)},getNodes:function(t,e){return C(this),i(this,t,e)},getDocument:function(){return a(this)},collapseBefore:function(t){v(this),this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){v(this),this.setStartAfter(t),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(t){return N.rangesEqual(this,t)},inspect:function(){return t(this)}},T(N,$,function(t){v(t),t.startContainer=t.startOffset=t.endContainer=t.endOffset=null,t.collapsed=t.commonAncestorContainer=null,l(t,"detach",null),t._listeners=null}),o.rangePrototype=k.prototype,N.rangeProperties=q,N.RangeIterator=p,N.copyComparisonConstants=D,N.createPrototypeRange=T,N.inspect=t,N.getRangeDocument=a,N.rangesEqual=function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},o.DomRange=N,o.RangeException=r}),rangy.createModule("WrappedRange",function(s){function r(t,e,n,i){var r=t.duplicate();r.collapse(n);var o=r.parentElement();if(l.isAncestorOf(e,o,!0)||(o=e),!o.canHaveHTML)return new c(o.parentNode,l.getNodeIndex(o));e=l.getDocument(o).createElement("span");for(var s,a=n?"StartToStart":"StartToEnd";o.insertBefore(e,e.previousSibling),r.moveToElementText(e),0<(s=r.compareEndPoints(a,t))&&e.previousSibling;);if(a=e.nextSibling,-1==s&&a&&l.isCharacterDataNode(a)){if(r.setEndPoint(n?"EndToStart":"EndToEnd",t),/[\r\n]/.test(a.data))for(n=(o=r.duplicate()).text.replace(/\r\n/g,"\r").length,n=o.moveStart("character",n);-1==o.compareEndPoints("StartToEnd",o);)n++,o.moveStart("character",1);else n=r.text.length;o=new c(a,n)}else a=(i||!n)&&e.previousSibling,o=(n=(i||n)&&e.nextSibling)&&l.isCharacterDataNode(n)?new c(n,0):a&&l.isCharacterDataNode(a)?new c(a,a.length):new c(o,l.getNodeIndex(e));return e.parentNode.removeChild(e),o}function i(t,e){var n,i,r=t.offset,o=l.getDocument(t.node),s=o.body.createTextRange(),a=l.isCharacterDataNode(t.node);return i=a?(n=t.node).parentNode:(n=r<(n=t.node.childNodes).length?n[r]:null,t.node),(o=o.createElement("span")).innerHTML="&#feff;",n?i.insertBefore(o,n):i.appendChild(o),s.moveToElementText(o),s.collapse(!e),i.removeChild(o),a&&s[e?"moveStart":"moveEnd"]("character",r),s}s.requireModules(["DomUtil","DomRange"]);var a,l=s.dom,c=l.DomPosition,u=s.DomRange;if(!s.features.implementsDomRange||s.features.implementsTextRange&&s.config.preferTextRange){if(s.features.implementsTextRange){(a=function(t){this.textRange=t,this.refresh()}).prototype=new u(document),a.prototype.refresh=function(){var t,e,n=this.textRange;t=n.parentElement();var i=n.duplicate();i.collapse(!0),e=i.parentElement(),(i=n.duplicate()).collapse(!1),e=(e=e==(n=i.parentElement())?e:l.getCommonAncestor(e,n))==t?e:l.getCommonAncestor(t,e),e=0==this.textRange.compareEndPoints("StartToEnd",this.textRange)?t=r(this.textRange,e,!0,!0):(t=r(this.textRange,e,!0,!1),r(this.textRange,e,!1,!1)),this.setStart(t.node,t.offset),this.setEnd(e.node,e.offset)},u.copyComparisonConstants(a);var t=function(){return this}();void 0===t.Range&&(t.Range=a),s.createNativeRange=function(t){return(t=t||document).body.createTextRange()}}}else(function(){function r(t){for(var e,n=i.length;n--;)t[e=i[n]]=t.nativeRange[e]}var e,n,i=u.rangeProperties;a=function(t){if(!t)throw Error("Range must be specified");this.nativeRange=t,r(this)},u.createPrototypeRange(a,function(t,e,n,i,r){var o=t.endContainer!==i||t.endOffset!=r;t.startContainer===e&&t.startOffset==n&&!o||(t.setEnd(i,r),t.setStart(e,n))},function(t){t.nativeRange.detach(),t.detached=!0;for(var e=i.length;e--;)t[i[e]]=null}),(e=a.prototype).selectNode=function(t){this.nativeRange.selectNode(t),r(this)},e.deleteContents=function(){this.nativeRange.deleteContents(),r(this)},e.extractContents=function(){var t=this.nativeRange.extractContents();return r(this),t},e.cloneContents=function(){return this.nativeRange.cloneContents()},e.surroundContents=function(t){this.nativeRange.surroundContents(t),r(this)},e.collapse=function(t){this.nativeRange.collapse(t),r(this)},e.cloneRange=function(){return new a(this.nativeRange.cloneRange())},e.refresh=function(){r(this)},e.toString=function(){return this.nativeRange.toString()};var t=document.createTextNode("test");l.getBody(document).appendChild(t);var o=document.createRange();o.setStart(t,0),o.setEnd(t,0);try{o.setStart(t,1),e.setStart=function(t,e){this.nativeRange.setStart(t,e),r(this)},e.setEnd=function(t,e){this.nativeRange.setEnd(t,e),r(this)},n=function(e){return function(t){this.nativeRange[e](t),r(this)}}}catch(t){e.setStart=function(e,n){try{this.nativeRange.setStart(e,n)}catch(t){this.nativeRange.setEnd(e,n),this.nativeRange.setStart(e,n)}r(this)},e.setEnd=function(e,n){try{this.nativeRange.setEnd(e,n)}catch(t){this.nativeRange.setStart(e,n),this.nativeRange.setEnd(e,n)}r(this)},n=function(n,i){return function(e){try{this.nativeRange[n](e)}catch(t){this.nativeRange[i](e),this.nativeRange[n](e)}r(this)}}}e.setStartBefore=n("setStartBefore","setEndBefore"),e.setStartAfter=n("setStartAfter","setEndAfter"),e.setEndBefore=n("setEndBefore","setStartBefore"),e.setEndAfter=n("setEndAfter","setStartAfter"),o.selectNodeContents(t),e.selectNodeContents=o.startContainer==t&&o.endContainer==t&&0==o.startOffset&&o.endOffset==t.length?function(t){this.nativeRange.selectNodeContents(t),r(this)}:function(t){this.setStart(t,0),this.setEnd(t,u.getEndOffset(t))},o.selectNodeContents(t),o.setEnd(t,3),(n=document.createRange()).selectNodeContents(t),n.setEnd(t,4),n.setStart(t,2),e.compareBoundaryPoints=-1==o.compareBoundaryPoints(o.START_TO_END,n)&1==o.compareBoundaryPoints(o.END_TO_START,n)?function(t,e){return t==(e=e.nativeRange||e).START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)},s.util.isHostMethod(o,"createContextualFragment")&&(e.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),l.getBody(document).removeChild(t),o.detach(),n.detach()})(),s.createNativeRange=function(t){return(t=t||document).createRange()};s.features.implementsTextRange&&(a.rangeToTextRange=function(t){if(t.collapsed)return i(new c(t.startContainer,t.startOffset),!0);var e=i(new c(t.startContainer,t.startOffset),!0),n=i(new c(t.endContainer,t.endOffset),!1);return(t=l.getDocument(t.startContainer).body.createTextRange()).setEndPoint("StartToStart",e),t.setEndPoint("EndToEnd",n),t}),a.prototype.getName=function(){return"WrappedRange"},s.WrappedRange=a,s.createRange=function(t){return t=t||document,new a(s.createNativeRange(t))},s.createRangyRange=function(t){return t=t||document,new u(t)},s.createIframeRange=function(t){return s.createRange(l.getIframeDocument(t))},s.createIframeRangyRange=function(t){return s.createRangyRange(l.getIframeDocument(t))},s.addCreateMissingNativeApiListener(function(t){void 0===(t=t.document).createRange&&(t.createRange=function(){return s.createRange(this)}),t=t=null})}),rangy.createModule("WrappedSelection",function(o,t){function r(t){return(t||window).document.selection}function s(t,e,n){var i=n?"end":"start";n=n?"start":"end";t.anchorNode=e[i+"Container"],t.anchorOffset=e[i+"Offset"],t.focusNode=e[n+"Container"],t.focusOffset=e[n+"Offset"]}function a(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function i(t){var e;return t instanceof y?(e=t._selectionNativeRange)||((e=o.createNativeRange(v.getDocument(t.startContainer))).setEnd(t.endContainer,t.endOffset),e.setStart(t.startContainer,t.startOffset),t._selectionNativeRange=e,t.attachListener("detach",function(){this._selectionNativeRange=null})):t instanceof b?e=t.nativeRange:o.features.implementsDomRange&&t instanceof v.getWindow(t.startContainer).Range&&(e=t),e}function l(t){var e,n=t.getNodes();t:if(n.length&&1==n[0].nodeType){e=1;for(var i=n.length;e<i;++e)if(!v.isAncestorOf(n[0],n[e])){e=!1;break t}e=!0}else e=!1;if(!e)throw Error("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return n[0]}function c(t,e){var n=new b(e);t._ranges=[n],s(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function u(t){if(t._ranges.length=0,"None"==t.docSelection.type)a(t);else{var e=t.docSelection.createRange();if(e&&void 0!==e.text)c(t,e);else{t.rangeCount=e.length;for(var n,i=v.getDocument(e.item(0)),r=0;r<t.rangeCount;++r)(n=o.createRange(i)).selectNode(e.item(r)),t._ranges.push(n);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function h(t,e){for(var n=t.docSelection.createRange(),i=l(e),r=v.getDocument(n.item(0)),o=(r=v.getBody(r).createControlRange(),0),s=n.length;o<s;++o)r.add(n.item(o));try{r.add(i)}catch(t){throw Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}r.select(),u(t)}function d(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function f(t,e){for(var n,i=v.getDocument(e[0].startContainer),r=(i=v.getBody(i).createControlRange(),0);rangeCount>r;++r){n=l(e[r]);try{i.add(n)}catch(t){throw Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select(),u(t)}function p(t,e){if(t.anchorNode&&v.getDocument(t.anchorNode)!==v.getDocument(e))throw new w("WRONG_DOCUMENT_ERR")}function e(t){var e=[],n=new x(t.anchorNode,t.anchorOffset),i=new x(t.focusNode,t.focusOffset),r="function"==typeof t.getName?t.getName():"Selection";if(void 0!==t.rangeCount)for(var o=0,s=t.rangeCount;o<s;++o)e[o]=y.inspect(t.getRangeAt(o));return"["+r+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}o.requireModules(["DomUtil","DomRange","WrappedRange"]),o.config.checkSelectionRanges=!0;var g,m,v=o.dom,n=o.util,y=o.DomRange,b=o.WrappedRange,w=o.DOMException,x=v.DomPosition,_=o.util.isHostMethod(window,"getSelection"),C=o.util.isHostObject(document,"selection"),k=C&&(!_||o.config.preferTextRange);k?(g=r,o.isSelectionValid=function(t){var e=(t=(t||window).document).selection;return"None"!=e.type||v.getDocument(e.createRange().parentElement())==t}):_?(g=function(t){return(t||window).getSelection()},o.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected.");_=(o.getNativeSelection=g)();var S=o.createNativeRange(document),D=v.getBody(document),E=n.areHostObjects(_,n.areHostProperties(_,["anchorOffset","focusOffset"]));o.features.selectionHasAnchorAndFocus=E;var T=n.isHostMethod(_,"extend");o.features.selectionHasExtend=T;var M="number"==typeof _.rangeCount;o.features.selectionHasRangeCount=M;var $=!1,N=!0;n.areHostMethods(_,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof _.rangeCount&&o.features.implementsDomRange&&function(){var t=document.createElement("iframe");D.appendChild(t),(e=v.getIframeDocument(t)).open(),e.write("<html><head></head><body>12</body></html>"),e.close();var e,n=v.getIframeWindow(t).getSelection(),i=e.documentElement.lastChild.firstChild;(e=e.createRange()).setStart(i,1),e.collapse(!0),n.addRange(e),N=1==n.rangeCount,n.removeAllRanges();var r=e.cloneRange();e.setStart(i,0),r.setEnd(i,2),n.addRange(e),n.addRange(r),$=2==n.rangeCount,e.detach(),r.detach(),D.removeChild(t)}(),o.features.selectionSupportsMultipleRanges=$,o.features.collapsedNonEditableSelectionsSupported=N;var A,P,I,O=!1;if(D&&n.isHostMethod(D,"createControlRange")&&(A=D.createControlRange(),n.areHostProperties(A,["item","add"])&&(O=!0)),o.features.implementsControlRange=O,m=E?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed},n.isHostMethod(_,"getRangeAt")?P=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:E&&(P=function(t){var e=v.getDocument(t.anchorNode);return(e=o.createRange(e)).setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset),e.collapsed!==this.isCollapsed&&(e.setStart(t.focusNode,t.focusOffset),e.setEnd(t.anchorNode,t.anchorOffset)),e}),o.getSelection=function(t){var e=(t=t||window)._rangySelection,n=g(t),i=C?r(t):null;return e?(e.nativeSelection=n,e.docSelection=i,e.refresh(t)):(e=new d(n,i,t),t._rangySelection=e),e},o.getIframeSelection=function(t){return o.getSelection(v.getIframeWindow(t))},A=d.prototype,!k&&E&&n.areHostMethods(_,["removeAllRanges","addRange"])){A.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),a(this)};function R(t,e){var n=y.getRangeDocument(e);(n=o.createRange(n)).collapseToPoint(e.endContainer,e.endOffset),t.nativeSelection.addRange(i(n)),t.nativeSelection.extend(e.startContainer,e.startOffset),t.refresh()}A.addRange=M?function(t,e){if(O&&C&&"Control"==this.docSelection.type)h(this,t);else if(e&&T)R(this,t);else{var n;n=$?this.rangeCount:(this.removeAllRanges(),0),this.nativeSelection.addRange(i(t)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1?(o.config.checkSelectionRanges&&(n=P(this.nativeSelection,this.rangeCount-1))&&!y.rangesEqual(n,t)&&(t=new b(n)),this._ranges[this.rangeCount-1]=t,s(this,t,H(this.nativeSelection)),this.isCollapsed=m(this)):this.refresh()}}:function(t,e){e&&T?R(this,t):(this.nativeSelection.addRange(i(t)),this.refresh())},A.setRanges=function(t){if(O&&1<t.length)f(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)this.addRange(t[e])}}}else{if(!(n.isHostMethod(_,"empty")&&n.isHostMethod(S,"select")&&O&&k))return t.fail("No means of selecting a Range or TextRange was found"),!1;A.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=v.getDocument(this.anchorNode);else if("Control"==this.docSelection.type){var e=this.docSelection.createRange();e.length&&(t=v.getDocument(e.item(0)).body.createTextRange())}t&&(t.body.createTextRange().select(),this.docSelection.empty())}}catch(t){}a(this)},A.addRange=function(t){"Control"==this.docSelection.type?h(this,t):(b.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},A.setRanges=function(t){this.removeAllRanges();var e=t.length;1<e?f(this,t):e&&this.addRange(t[0])}}if(A.getRangeAt=function(t){if(t<0||t>=this.rangeCount)throw new w("INDEX_SIZE_ERR");return this._ranges[t]},k)I=function(t){var e;o.isSelectionValid(t.win)?e=t.docSelection.createRange():(e=v.getBody(t.win.document).createTextRange()).collapse(!0),"Control"==t.docSelection.type?u(t):e&&void 0!==e.text?c(t,e):a(t)};else if(n.isHostMethod(_,"getRangeAt")&&"number"==typeof _.rangeCount)I=function(t){if(O&&C&&"Control"==t.docSelection.type)u(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var e=0,n=t.rangeCount;e<n;++e)t._ranges[e]=new o.WrappedRange(t.nativeSelection.getRangeAt(e));s(t,t._ranges[t.rangeCount-1],H(t.nativeSelection)),t.isCollapsed=m(t)}else a(t)};else{if(!E||"boolean"!=typeof _.isCollapsed||"boolean"!=typeof S.collapsed||!o.features.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;I=function(t){var e;(e=t.nativeSelection).anchorNode?(e=P(e,0),t._ranges=[e],t.rangeCount=1,e=t.nativeSelection,t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset,t.isCollapsed=m(t)):a(t)}}A.refresh=function(t){var e=t?this._ranges.slice(0):null;if(I(this),t){if((t=e.length)!=this._ranges.length)return!1;for(;t--;)if(!y.rangesEqual(e[t],this._ranges[t]))return!1;return!0}};function L(t,e){var n=t.getAllRanges(),i=!1;t.removeAllRanges();for(var r=0,o=n.length;r<o;++r)i||e!==n[r]?t.addRange(n[r]):i=!0;t.rangeCount||a(t)}var H;A.removeRange=O?function(t){if("Control"==this.docSelection.type){for(var e=this.docSelection.createRange(),n=(t=l(t),v.getDocument(e.item(0))),i=(n=v.getBody(n).createControlRange(),!1),r=0,o=e.length;r<o;++r)e.item(r)!==t||i?n.add(e.item(r)):i=!0;n.select(),u(this)}else L(this,t)}:function(t){L(this,t)},!k&&E&&o.features.implementsDomRange?(H=function(t){var e=!1;return t.anchorNode&&(e=1==v.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e},A.isBackwards=function(){return H(this)}):H=A.isBackwards=function(){return!1},A.toString=function(){for(var t=[],e=0,n=this.rangeCount;e<n;++e)t[e]=""+this._ranges[e];return t.join("")},A.collapse=function(t,e){p(this,t);var n=o.createRange(v.getDocument(t));n.collapseToPoint(t,e),this.removeAllRanges(),this.addRange(n),this.isCollapsed=!0},A.collapseToStart=function(){if(!this.rangeCount)throw new w("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},A.collapseToEnd=function(){if(!this.rangeCount)throw new w("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},A.selectAllChildren=function(t){p(this,t);var e=o.createRange(v.getDocument(t));e.selectNodeContents(t),this.removeAllRanges(),this.addRange(e)},A.deleteFromDocument=function(){if(O&&C&&"Control"==this.docSelection.type){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount){e=this.getAllRanges(),this.removeAllRanges(),t=0;for(var n=e.length;t<n;++t)e[t].deleteContents();this.addRange(e[n-1])}},A.getAllRanges=function(){return this._ranges.slice(0)},A.setSingleRange=function(t){this.setRanges([t])},A.containsNode=function(t,e){for(var n=0,i=this._ranges.length;n<i;++n)if(this._ranges[n].containsNode(t,e))return!0;return!1},A.toHtml=function(){var t="";if(this.rangeCount){t=y.getRangeDocument(this._ranges[0]).createElement("div");for(var e=0,n=this._ranges.length;e<n;++e)t.appendChild(this._ranges[e].cloneContents());t=t.innerHTML}return t},A.getName=function(){return"WrappedSelection"},A.inspect=function(){return e(this)},A.detach=function(){this.win=this.anchorNode=this.focusNode=this.win._rangySelection=null},d.inspect=e,o.Selection=d,o.selectionPrototype=A,o.addCreateMissingNativeApiListener(function(t){void 0===t.getSelection&&(t.getSelection=function(){return o.getSelection(this)}),t=null})});var Base=function(){};Base.extend=function(t,e){var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,t),i.base=function(){},delete Base._prototyping;var r=i.constructor,o=i.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],i)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=i,o.toString=this.toString,o.valueOf=function(t){return"object"==t?o:r.valueOf()},n.call(o,e),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(t,e){if(1<arguments.length){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var i=e.valueOf();(e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=i.apply(this,arguments);return this.base=t,e}).valueOf=function(t){return"object"==t?e:i},e.toString=Base.toString}this[t]=e}else if(t){var r=Base.prototype.extend;Base._prototyping||"function"==typeof this||(r=this.extend||r);for(var o={toSource:null},s=["constructor","toString","valueOf"],a=Base._prototyping?0:1;l=s[a++];)t[l]!=o[l]&&r.call(this,l,t[l]);for(var l in t)o[l]||r.call(this,l,t[l])}return this}},Base=Base.extend({constructor:function(t){this.extend(t)}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var i in t)void 0===this.prototype[i]&&e.call(n,t[i],i,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return""+this.valueOf()}}),wysihtml5.browser=function(){var n,i,e=navigator.userAgent,r=document.createElement("div"),o=-1!==e.indexOf("MSIE")&&-1===e.indexOf("Opera"),t=-1!==e.indexOf("Gecko")&&-1===e.indexOf("KHTML"),s=-1!==e.indexOf("AppleWebKit/"),a=-1!==e.indexOf("Chrome/"),l=-1!==e.indexOf("Opera/");return{USER_AGENT:e,supported:function(){var t=this.USER_AGENT.toLowerCase(),e="contentEditable"in r,n=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,i=document.querySelector&&document.querySelectorAll;t=this.isIos()&&(/ipad|iphone|ipod/.test(t)&&t.match(/ os (\d+).+? like mac os x/)||[,0])[1]<5||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return e&&n&&i&&!t},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var t=this.USER_AGENT.toLowerCase();return-1!==t.indexOf("webkit")&&-1!==t.indexOf("mobile")},supportsSandboxedIframes:function(){return o},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!t},hasCurrentStyleProperty:function(){return"currentStyle"in r},insertsLineBreaksOnReturn:function(){return t},supportsPlaceholderAttributeOn:function(t){return"placeholder"in t},supportsEvent:function(t){var e;return(e="on"+t in r)||(r.setAttribute("on"+t,"return;"),e="function"==typeof r["on"+t]),e},supportsEventsInIframeCorrectly:function(){return!l},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return s||t},supportsDataTransfer:function(){try{return s&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(t){return!1}},supportsHTML5Tags:function(t){return((t=t.createElement("div")).innerHTML="<article>foo</article>")===t.innerHTML.toLowerCase()},supportsCommand:(n={formatBlock:o,insertUnorderedList:o||l||s,insertOrderedList:o||l||s},i={insertHTML:t},function(t,e){if(!n[e]){try{return t.queryCommandSupported(e)}catch(t){}try{return t.queryCommandEnabled(e)}catch(t){return!!i[e]}}return!1}),doesAutoLinkingInContentEditable:function(){return o},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return t||l||s},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return t||o||l},clearsListsInContentEditableCorrectly:function(){return t||o||s},autoScrollsToCaret:function(){return!s},autoClosesUnclosedTags:function(){var t,e=r.cloneNode(!1);return e.innerHTML="<p><div></div>",e=e.innerHTML.toLowerCase(),t="<p></p><div></div>"===e||"<p><div></div></p>"===e,this.autoClosesUnclosedTags=function(){return t},t},supportsNativeGetElementsByClassName:function(){return-1!==(""+document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in r},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(t){return 11<=(e.match(/Chrome\/(\d+)/)||[,0])[1]&&("onwebkitspeechchange"in t||"speech"in t)},crashesWhenDefineProperty:function(t){return o&&("XMLHttpRequest"===t||"XDomainRequest"===t)},doesAsyncFocus:function(){return o},hasProblemsSettingCaretAfterImg:function(){return o},hasUndoInContextMenu:function(){return t||a||l}}}(),wysihtml5.lang.array=function(r){return{contains:function(t){if(r.indexOf)return-1!==r.indexOf(t);for(var e=0,n=r.length;e<n;e++)if(r[e]===t)return!0;return!1},without:function(t){t=wysihtml5.lang.array(t);for(var e=[],n=0,i=r.length;n<i;n++)t.contains(r[n])||e.push(r[n]);return e},get:function(){for(var t=0,e=r.length,n=[];t<e;t++)n.push(r[t]);return n}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(t,e){return this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(t,e){this.events=this.events||{};for(var n=this.events[t]||[],i=0;i<n.length;i++)n[i].call(this,e);return this},stopObserving:function(t,e){this.events=this.events||{};var n,i,r=0;if(t){for(n=this.events[t]||[],i=[];r<n.length;r++)n[r]!==e&&e&&i.push(n[r]);this.events[t]=i}else this.events={};return this}}),wysihtml5.lang.object=function(n){return{merge:function(t){for(var e in t)n[e]=t[e];return this},get:function(){return n},clone:function(){var t,e={};for(t in n)e[t]=n[t];return e},isArray:function(){return"[object Array]"===Object.prototype.toString.call(n)}}},function(){var t=/^\s+/,e=/\s+$/;wysihtml5.lang.string=function(n){return n=""+n,{trim:function(){return n.replace(t,"").replace(e,"")},interpolate:function(t){for(var e in t)n=this.replace("#{"+e+"}").by(t[e]);return n},replace:function(e){return{by:function(t){return n.split(e).join(t)}}}}}}(),function(r){function o(t){if(!s.contains(t.nodeName)){if(t.nodeType!==r.TEXT_NODE||!t.data.match(a)){for(e=(n=r.lang.array(t.childNodes).get()).length,i=0;i<e;i++)o(n[i]);return t}var e,n=t.parentNode,i=(e=n.ownerDocument)._wysihtml5_tempElement;for((e=i=i||(e._wysihtml5_tempElement=e.createElement("div"))).innerHTML="<span></span>"+function(t){return t.replace(a,function(t,e){var n=(e.match(l)||[])[1]||"",i=u[n];(e=e.replace(l,"")).split(i).length>e.split(n).length&&(e+=n,n="");var r=i=e;return e.length>c&&(r=r.substr(0,c)+"..."),"www."===i.substr(0,4)&&(i="http://"+i),'<a href="'+i+'">'+r+"</a>"+n})}(t.data),e.removeChild(e.firstChild);e.firstChild;)n.insertBefore(e.firstChild,t);n.removeChild(t)}}var s=r.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")),a=/((https?:\/\/|www\.)[^\s<]{3,})/gi,l=/([^\w\/\-](,?))$/i,c=100,u={")":"(","]":"[","}":"{"};r.dom.autoLink=function(t){var e;t:{e=t;for(var n;e.parentNode;){if(n=(e=e.parentNode).nodeName,s.contains(n)){e=!0;break t}if("body"===n)break}e=!1}return e?t:(t===t.ownerDocument.documentElement&&(t=t.ownerDocument.body),o(t))},r.dom.autoLink.URL_REG_EXP=a}(wysihtml5),function(t){var i=t.browser.supportsClassList(),n=t.dom;n.addClass=function(t,e){return i?t.classList.add(e):void(n.hasClass(t,e)||(t.className+=" "+e))},n.removeClass=function(t,e){return i?t.classList.remove(e):void(t.className=t.className.replace(RegExp("(^|\\s+)"+e+"(\\s+|$)")," "))},n.hasClass=function(t,e){if(i)return t.classList.contains(e);var n=t.className;return 0<n.length&&(n==e||RegExp("(^|\\s)"+e+"(\\s|$)").test(n))}}(wysihtml5),wysihtml5.dom.contains=function(){var t=document.documentElement;return t.contains?function(t,e){return e.nodeType!==wysihtml5.ELEMENT_NODE&&(e=e.parentNode),t!==e&&t.contains(e)}:t.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:void 0}(),wysihtml5.dom.convertToList=function(){function h(t,e){var n=t.createElement("li");return e.appendChild(n),n}return function(t,e){if("UL"===t.nodeName||"OL"===t.nodeName||"MENU"===t.nodeName)return t;var n,i,r,o,s,a=t.ownerDocument,l=a.createElement(e),c=t.querySelectorAll("br"),u=c.length;for(s=0;s<u;s++)for(n=c[s];(i=n.parentNode)&&i!==t&&i.lastChild===n;){if("block"===wysihtml5.dom.getStyle("display").from(i)){i.removeChild(n);break}wysihtml5.dom.insert(n).after(n.parentNode)}for(u=(c=wysihtml5.lang.array(t.childNodes).get()).length,s=0;s<u;s++)o=o||h(a,l),n=c[s],i="block"===wysihtml5.dom.getStyle("display").from(n),r="BR"===n.nodeName,i?((o=o.firstChild?h(a,l):o).appendChild(n),o=null):r?o=o.firstChild?null:o:o.appendChild(n);return t.parentNode.replaceChild(l,t),l}}(),wysihtml5.dom.copyAttributes=function(o){return{from:function(r){return{to:function(t){for(var e,n=0,i=o.length;n<i;n++)e=o[n],void 0!==r[e]&&""!==r[e]&&(t[e]=r[e]);return{andTo:arguments.callee}}}}}},function(s){var a=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"];s.copyStyles=function(o){return{from:function(t){!function(t){var e;t:for(var n=0,i=a.length;n<i;n++)if("border-box"===s.getStyle(a[n]).from(t)){e=a[n];break t}return!!e&&parseInt(s.getStyle("width").from(t),10)<t.offsetWidth}(t)||(o=wysihtml5.lang.array(o).without(a));for(var e,n="",i=o.length,r=0;r<i;r++)e=o[r],n+=e+":"+s.getStyle(e).from(t)+";";return{to:function(t){return s.setStyles(n).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(s){s.dom.delegate=function(i,r,t,o){return s.dom.observe(i,t,function(t){for(var e=t.target,n=s.lang.array(i.querySelectorAll(r));e&&e!==i;){if(n.contains(e)){o.call(e,t);break}e=e.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var o="abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" ");return function(t,e){var n;e=e||document;if("object"==typeof t&&t.nodeType)(n=e.createElement("div")).appendChild(t);else if(wysihtml5.browser.supportsHTML5Tags(e))(n=e.createElement("div")).innerHTML=t;else{if(!(n=e)._wysihtml5_supportsHTML5Tags){for(var i=0,r=o.length;i<r;i++)n.createElement(o[i]);n._wysihtml5_supportsHTML5Tags=!0}(i=(n=e).createElement("div")).style.display="none",n.body.appendChild(i);try{i.innerHTML=t}catch(t){}n.body.removeChild(i),n=i}return n}}(),wysihtml5.dom.getParentElement=function(){function a(t,e){return!e||!e.length||("string"==typeof e?t===e:wysihtml5.lang.array(e).contains(t))}return function(t,e,n){if(n=n||50,e.className||e.classRegExp){t:{var i=e.nodeName,r=e.className;for(e=e.classRegExp;n--&&t&&"BODY"!==t.nodeName;){var o;if((o=t.nodeType===wysihtml5.ELEMENT_NODE)&&(o=a(t.nodeName,i))){o=r;var s=(t.className||"").match(e)||[];o=o?s[s.length-1]===o:!!s.length}if(o)break t;t=t.parentNode}t=null}return t}t:{for(i=e.nodeName,r=n;r--&&t&&"BODY"!==t.nodeName;){if(a(t.nodeName,i))break t;t=t.parentNode}t=null}return t}}(),wysihtml5.dom.getStyle=function(){var l={float:"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},c=/\-[a-z]/g;return function(a){return{from:function(t){if(t.nodeType===wysihtml5.ELEMENT_NODE){var e=t.ownerDocument,n=l[a]||function(t){return t.replace(c,function(t){return t.charAt(1).toUpperCase()})}(a),i=t.style,r=t.currentStyle,o=i[n];if(o)return o;if(r)try{return r[n]}catch(t){}var s;n=e.defaultView||e.parentWindow,e=("height"===a||"width"===a)&&"TEXTAREA"===t.nodeName;if(n.getComputedStyle)return e&&(s=i.overflow,i.overflow="hidden"),t=n.getComputedStyle(t,null).getPropertyValue(a),e&&(i.overflow=s||""),t}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){var r={},o=1;return function(t,e){var n=(t._wysihtml5_identifier||(t._wysihtml5_identifier=o++))+":"+e,i=r[n];return 0<(i=i||(r[n]=t.getElementsByTagName(e))).length}}(),function(r){var o={},s=1;r.dom.hasElementWithClassName=function(t,e){if(!r.browser.supportsNativeGetElementsByClassName())return!!t.querySelector("."+e);var n=(t._wysihtml5_identifier||(t._wysihtml5_identifier=s++))+":"+e,i=o[n];return 0<(i=i||(o[n]=t.getElementsByClassName(e))).length}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(i){return i=i.join("\n"),{into:function(t){var e=t.head||t.getElementsByTagName("head")[0],n=t.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=i:n.appendChild(t.createTextNode(i)),e&&e.appendChild(n)}}},wysihtml5.dom.observe=function(i,r,o){for(var s,t,e=0,n=(r="string"==typeof r?[r]:r).length;e<n;e++)t=r[e],i.addEventListener?i.addEventListener(t,o,!1):(s=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},o.call(i,t)},i.attachEvent("on"+t,s));return{stop:function(){for(var t,e=0,n=r.length;e<n;e++)t=r[e],i.removeEventListener?i.removeEventListener(t,o,!1):i.detachEvent("on"+t,s)}}},wysihtml5.dom.parse=function(){function s(t,e){var n,i=t.childNodes,r=i.length,o=0;if(!(n=(n=c[t.nodeType])&&n(t)))return null;for(o=0;o<r;o++)(newChild=s(i[o],e))&&n.appendChild(newChild);return e&&n.childNodes.length<=1&&n.nodeName.toLowerCase()===g&&!n.attributes.length?n.firstChild:n}function p(e,t){var n;t=t.toLowerCase();if((n="IMG"==e.nodeName)&&(n="src"==t)){var i;try{i=e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){e.complete&&"complete"===e.readyState&&(i=!0)}n=!0===i}return n?e.src:h&&"outerHTML"in e?-1!=e.outerHTML.toLowerCase().indexOf(" "+t+"=")?e.getAttribute(t):null:e.getAttribute(t)}var e,n,i,r,o,a,l,c={1:function(t){var e,n,i=v.tags;if(n=t.nodeName.toLowerCase(),e=t.scopeName,t._wysihtml5)return null;if(t._wysihtml5=1,"wysihtml5-temp"===t.className)return null;if(e&&"HTML"!=e&&(n=e+":"+n),"outerHTML"in t&&!wysihtml5.browser.autoClosesUnclosedTags()&&"P"===t.nodeName&&"</p>"!==t.outerHTML.slice(-4).toLowerCase()&&(n="div"),n in i){if(!(e=i[n])||e.remove)return null;e="string"==typeof e?{rename_tag:e}:e}else{if(!t.firstChild)return null;e={rename_tag:g}}n=t.ownerDocument.createElement(e.rename_tag||n);i={};var r=e.set_class,o=e.add_class,s=e.set_attributes,a=e.check_attributes,l=v.classes,c=0,u=[];e=[];var h,d=[],f=[];if(s&&(i=wysihtml5.lang.object(s).clone()),a)for(h in a)(s=y[a[h]])&&("string"==typeof(s=s(p(t,h)))&&(i[h]=s));if(r&&u.push(r),o)for(h in o)(s=b[o[h]])&&("string"==typeof(r=s(p(t,h)))&&u.push(r));for(l["_wysihtml5-temp-placeholder"]=1,(f=t.getAttribute("class"))&&(u=u.concat(f.split(m))),o=u.length;c<o;c++)l[t=u[c]]&&e.push(t);for(l=e.length;l--;)t=e[l],wysihtml5.lang.array(d).contains(t)||d.unshift(t);for(h in d.length&&(i.class=d.join(" ")),i)try{n.setAttribute(h,i[h])}catch(t){}return i.src&&(void 0!==i.width&&n.setAttribute("width",i.width),void 0!==i.height&&n.setAttribute("height",i.height)),n},3:function(t){return t.ownerDocument.createTextNode(t.data)}},g="span",m=/\s+/,u={tags:{},classes:{}},v={},h=!wysihtml5.browser.supportsGetAttributeCorrectly(),y={url:(l=/^https?:\/\//i,function(t){return t&&t.match(l)?t.replace(l,function(t){return t.toLowerCase()}):null}),alt:(a=/[^ a-z0-9_\-]/gi,function(t){return t?t.replace(a,""):""}),numbers:(o=/\D/g,function(t){return(t=(t||"").replace(o,""))||null})},b={align_img:(r={left:"wysiwyg-float-left",right:"wysiwyg-float-right"},function(t){return r[(""+t).toLowerCase()]}),align_text:(i={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"},function(t){return i[(""+t).toLowerCase()]}),clear_br:(n={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"},function(t){return n[(""+t).toLowerCase()]}),size_font:(e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"},function(t){return e[(""+t).charAt(0)]})};return function(t,e,n,i){wysihtml5.lang.object(v).merge(u).merge(e).get();e=(n=n||t.ownerDocument||document).createDocumentFragment();var r="string"==typeof t;for(t=r?wysihtml5.dom.getAsDom(t,n):t;t.firstChild;)n=t.firstChild,t.removeChild(n),(n=s(n,i))&&e.appendChild(n);return t.innerHTML="",t.appendChild(e),r?wysihtml5.quirks.getCorrectInnerHTML(t):t}}(),wysihtml5.dom.removeEmptyTextNodes=function(t){for(var e=wysihtml5.lang.array(t.childNodes).get(),n=e.length,i=0;i<n;i++)(t=e[i]).nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(t,e){for(var n,i=t.ownerDocument.createElement(e);n=t.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(t).to(i),t.parentNode.replaceChild(i,t),i},wysihtml5.dom.replaceWithChildNodes=function(t){if(t.parentNode)if(t.firstChild){for(var e=t.ownerDocument.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t.parentNode.replaceChild(e,t)}else t.parentNode.removeChild(t)},function(s){function a(t){var e=t.ownerDocument.createElement("br");t.appendChild(e)}s.resolveList=function(t){if("MENU"===t.nodeName||"UL"===t.nodeName||"OL"===t.nodeName){var e,n,i,r=t.ownerDocument.createDocumentFragment(),o=t.previousElementSibling||t.previousSibling;for(o&&"block"!==s.getStyle("display").from(o)&&a(r);i=t.firstChild;){for(e=i.lastChild;o=i.firstChild;)n=(n=o===e)&&"block"!==s.getStyle("display").from(o)&&"BR"!==o.nodeName,r.appendChild(o),n&&a(r);i.parentNode.removeChild(i)}t.parentNode.replaceChild(r,t)}}}(wysihtml5.dom),function(s){var a=document,l="parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "),c="open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "),u=["referrer","write","open","close"];s.dom.Sandbox=Base.extend({constructor:function(t,e){this.callback=t||s.EMPTY_FUNCTION,this.config=s.lang.object({}).merge(e).get(),this.iframe=this._createIframe()},insertInto:function(t){"string"==typeof t&&(t=a.getElementById(t)),t.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var t=this.getIframe();t.parentNode.removeChild(t)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var t=this,e=a.createElement("iframe");return e.className="wysihtml5-sandbox",s.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(e),s.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(e.src="javascript:'<html></html>'"),e.onload=function(){e.onreadystatechange=e.onload=null,t._onLoadIframe(e)},e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&(e.onreadystatechange=e.onload=null,t._onLoadIframe(e))},e},_onLoadIframe:function(t){if(s.dom.contains(a.documentElement,t)){var e=this,n=t.contentWindow,i=t.contentWindow.document,r=this._getHtml({charset:a.characterSet||a.charset||"utf-8",stylesheets:this.config.stylesheets});if(i.open("text/html","replace"),i.write(r),i.close(),this.getWindow=function(){return t.contentWindow},this.getDocument=function(){return t.contentWindow.document},n.onerror=function(t,e,n){throw Error("wysihtml5.Sandbox: "+t,e,n)},!s.browser.supportsSandboxedIframes()){var o;r=0;for(o=l.length;r<o;r++)this._unset(n,l[r]);for(r=0,o=c.length;r<o;r++)this._unset(n,c[r],s.EMPTY_FUNCTION);for(r=0,o=u.length;r<o;r++)this._unset(i,u[r]);this._unset(i,"cookie","",!0)}this.loaded=!0,setTimeout(function(){e.callback(e)},0)}},_getHtml:function(t){var e,n=t.stylesheets,i="",r=0;if(n="string"==typeof n?[n]:n)for(e=n.length;r<e;r++)i+='<link rel="stylesheet" href="'+n[r]+'">';return t.stylesheets=i,s.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,e,n,i){try{t[e]=n}catch(t){}try{t.__defineGetter__(e,function(){return n})}catch(t){}if(i)try{t.__defineSetter__(e,function(){})}catch(t){}if(!s.browser.crashesWhenDefineProperty(e))try{var r={get:function(){return n}};i&&(r.set=function(){}),Object.defineProperty(t,e,r)}catch(t){}}})}(wysihtml5),function(){var i={className:"class"};wysihtml5.dom.setAttributes=function(n){return{on:function(t){for(var e in n)t.setAttribute(i[e]||e,n[e])}}}}(),wysihtml5.dom.setStyles=function(n){return{on:function(t){if(t=t.style,"string"==typeof n)t.cssText+=";"+n;else for(var e in n)"float"===e?(t.cssFloat=n[e],t.styleFloat=n[e]):t[e]=n[e]}}},function(o){o.simulatePlaceholder=function(t,e,n){function i(){e.hasPlaceholderSet()&&e.clear(),o.removeClass(e.element,"placeholder")}function r(){e.isEmpty()&&(e.setValue(n),o.addClass(e.element,"placeholder"))}t.observe("set_placeholder",r).observe("unset_placeholder",i).observe("focus:composer",i).observe("paste:composer",i).observe("blur:composer",r),r()}}(wysihtml5.dom),function(t){var e=document.documentElement;"textContent"in e?(t.setTextContent=function(t,e){t.textContent=e},t.getTextContent=function(t){return t.textContent}):"innerText"in e?(t.setTextContent=function(t,e){t.innerText=e},t.getTextContent=function(t){return t.innerText}):(t.setTextContent=function(t,e){t.nodeValue=e},t.getTextContent=function(t){return t.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){var l={"a u":wysihtml5.dom.replaceWithChildNodes};return function(t,e,n){e=e||l,n=n||t.ownerDocument||document;var i,r,o,s="string"==typeof t,a=0;t=s?wysihtml5.dom.getAsDom(t,n):t;for(o in e)for(i=t.querySelectorAll(o),n=e[o],r=i.length;a<r;a++)n(i[a]);return s?t.innerHTML:t}}(),function(i){var r,o=i.dom;function e(){var e=this;setTimeout(function(){var t=e.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=t&&"<p>&nbsp;</p><p>&nbsp;</p>"!=t||(e.innerHTML="")},0)}i.quirks.ensureProperClearing=function(t){o.observe(t.element,["cut","keydown"],e)},i.quirks.ensureProperClearingOfLists=(r=["OL","UL","MENU"],function(n){o.observe(n.element,"keydown",function(t){if(t.keyCode===i.BACKSPACE_KEY){var e=n.selection.getSelectedNode();(t=n.element).firstChild&&i.lang.array(r).contains(t.firstChild.nodeName)&&(e=o.getParentElement(e,{nodeName:r}))&&e==t.firstChild&&e.childNodes.length<=1&&(!e.firstChild||""===e.firstChild.innerHTML)&&e.parentNode.removeChild(e)}})})}(wysihtml5),function(s){s.quirks.getCorrectInnerHTML=function(t){var e,n,i,r,o=t.innerHTML;if(-1===o.indexOf("%7E"))return o;for(r=0,i=(t=t.querySelectorAll("[href*='~'], [src*='~']")).length;r<i;r++)e=t[r].href||t[r].src,n=s.lang.string(e).replace("~").by("%7E"),o=s.lang.string(o).replace(n).by(e);return o}}(wysihtml5),function(o){var s=o.dom,a="LI P H1 H2 H3 H4 H5 H6".split(" "),l=["UL","OL","MENU"];o.quirks.insertLineBreakOnReturn=function(i){function r(t){if(t=s.getParentElement(t,{nodeName:["P","DIV"]},2)){var e=document.createTextNode(o.INVISIBLE_SPACE);s.insert(e).before(t),s.replaceWithChildNodes(t),i.selection.selectNode(e)}}s.observe(i.element.ownerDocument,"keydown",function(t){var e=t.keyCode;if(!(t.shiftKey||e!==o.ENTER_KEY&&e!==o.BACKSPACE_KEY)){var n=i.selection.getSelectedNode();(n=s.getParentElement(n,{nodeName:a},4))?"LI"!==n.nodeName||e!==o.ENTER_KEY&&e!==o.BACKSPACE_KEY?n.nodeName.match(/H[1-6]/)&&e===o.ENTER_KEY&&setTimeout(function(){r(i.selection.getSelectedNode())},0):setTimeout(function(){var t=i.selection.getSelectedNode();t&&(s.getParentElement(t,{nodeName:l},2)||r(t))},0):e!==o.ENTER_KEY||o.browser.insertsLineBreaksOnReturn()||(i.commands.exec("insertLineBreak"),t.preventDefault())}})}}(wysihtml5),function(n){n.quirks.redraw=function(t){n.dom.addClass(t,"wysihtml5-quirks-redraw"),n.dom.removeClass(t,"wysihtml5-quirks-redraw");try{var e=t.ownerDocument;e.execCommand("italic",!1,null),e.execCommand("italic",!1,null)}catch(t){}}}(wysihtml5),function(a){var s=a.dom;a.Selection=Base.extend({constructor:function(t){window.rangy.init(),this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},getBookmark:function(){var t=this.getRange();return t&&t.cloneRange()},setBookmark:function(t){t&&this.setSelection(t)},setBefore:function(t){var e=rangy.createRange(this.doc);return e.setStartBefore(t),e.setEndBefore(t),this.setSelection(e)},setAfter:function(t){var e=rangy.createRange(this.doc);return e.setStartAfter(t),e.setEndAfter(t),this.setSelection(e)},selectNode:function(t){var e=rangy.createRange(this.doc),n=t.nodeType===a.ELEMENT_NODE,i="canHaveHTML"in t?t.canHaveHTML:"IMG"!==t.nodeName,r=""===(r=n?t.innerHTML:t.data)||r===a.INVISIBLE_SPACE,o="block"===(o=s.getStyle("display").from(t))||"list-item"===o;if(r&&n&&i)try{t.innerHTML=a.INVISIBLE_SPACE}catch(t){}i?e.selectNodeContents(t):e.selectNode(t),i&&r&&n?e.collapse(o):i&&r&&(e.setStartAfter(t),e.setEndAfter(t)),this.setSelection(e)},getSelectedNode:function(t){return t&&this.doc.selection&&"Control"===this.doc.selection.type&&(t=this.doc.selection.createRange())&&t.length?t.item(0):(t=this.getSelection(this.doc)).focusNode===t.anchorNode?t.focusNode:(t=this.getRange(this.doc))?t.commonAncestorContainer:this.doc.body},executeAndRestore:function(t,e){var n=this.doc.body,i=e&&n.scrollTop,r=e&&n.scrollLeft,o='<span class="_wysihtml5-temp-placeholder">'+a.INVISIBLE_SPACE+"</span>",s=this.getRange(this.doc);if(s){o=s.createContextualFragment(o),s.insertNode(o);try{t(s.startContainer,s.endContainer)}catch(t){setTimeout(function(){throw t},0)}(caretPlaceholder=this.doc.querySelector("._wysihtml5-temp-placeholder"))?((s=rangy.createRange(this.doc)).selectNode(caretPlaceholder),s.deleteContents(),this.setSelection(s)):n.focus(),e&&(n.scrollTop=i,n.scrollLeft=r);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(t){}}else t(n,n)},executeAndRestoreSimple:function(t){var e,n,i,r=this.getRange(),o=this.doc.body;if(r){o=(e=r.getNodes([3]))[0]||r.startContainer,i=e[e.length-1]||r.endContainer,e=o===r.startContainer?r.startOffset:0,n=i===r.endContainer?r.endOffset:i.length;try{t(r.startContainer,r.endContainer)}catch(t){setTimeout(function(){throw t},0)}t=rangy.createRange(this.doc);try{t.setStart(o,e)}catch(t){}try{t.setEnd(i,n)}catch(t){}try{this.setSelection(t)}catch(t){}}else t(o,o)},insertHTML:function(t){var e=(t=rangy.createRange(this.doc).createContextualFragment(t)).lastChild;this.insertNode(t),e&&this.setAfter(e)},insertNode:function(t){var e=this.getRange();e&&e.insertNode(t)},surround:function(e){var n=this.getRange();if(n)try{n.surroundContents(e),this.selectNode(e)}catch(t){e.appendChild(n.extractContents()),n.insertNode(e)}},scrollIntoView:function(){var t,e=this.doc,n=e.documentElement.scrollHeight>e.documentElement.offsetHeight;if((t=e._wysihtml5ScrollIntoViewElement)||((t=e.createElement("span")).innerHTML=a.INVISIBLE_SPACE),t=e._wysihtml5ScrollIntoViewElement=t,n){this.insertNode(t);var i=0;if((n=t).parentNode)for(;i+=n.offsetTop||0,n=n.offsetParent;);n=i,t.parentNode.removeChild(t),n>e.body.scrollTop&&(e.body.scrollTop=n)}},selectLine:function(){a.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var t=this.doc.defaultView.getSelection();t.modify("extend","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var t,e=this.doc.selection.createRange(),n=e.boundingTop,i=this.doc.body.scrollWidth;if(e.moveToPoint){for(0===n&&(t=this.doc.createElement("span"),this.insertNode(t),n=t.offsetTop,t.parentNode.removeChild(t)),n+=1,t=-10;t<i;t+=2)try{e.moveToPoint(t,n);break}catch(t){}for(t=this.doc.selection.createRange();0<=i;i--)try{t.moveToPoint(i,n);break}catch(t){}e.setEndPoint("EndToEnd",t),e.select()}},getText:function(){var t=this.getSelection();return t?t.toString():""},getNodes:function(t,e){var n=this.getRange();return n?n.getNodes([t],e):[]},getRange:function(){var t=this.getSelection();return t&&t.rangeCount&&t.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(t){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow).setSingleRange(t)}})}(wysihtml5),function(a,s){function i(t,e){return s.dom.isCharacterDataNode(t)?0==e?!!t.previousSibling:e!=t.length||!!t.nextSibling:0<e&&e<t.childNodes.length}function o(t,e,n){var i;if(s.dom.isCharacterDataNode(e)&&(0==n?(n=s.dom.getNodeIndex(e),e=e.parentNode):n==e.length?(n=s.dom.getNodeIndex(e)+1,e=e.parentNode):i=s.dom.splitDataNode(e,n)),!i){(i=e.cloneNode(!1)).id&&i.removeAttribute("id");for(var r;r=e.childNodes[n];)i.appendChild(r);s.dom.insertAfter(i,e)}return e==t?i:o(t,i.parentNode,s.dom.getNodeIndex(i))}function p(t){this.firstTextNode=(this.isElementMerge=t.nodeType==a.ELEMENT_NODE)?t.lastChild:t,this.textNodes=[this.firstTextNode]}function t(t,e,n,i){this.tagNames=t||["span"],this.cssClass=e||"",this.similarClassRegExp=n,this.normalize=i,this.applyToAnyTagName=!1}var l=/\s+/g;p.prototype={doMerge:function(){for(var t,e,n=[],i=0,r=this.textNodes.length;i<r;++i)e=(t=this.textNodes[i]).parentNode,n[i]=t.data,i&&(e.removeChild(t),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=n.join("")},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){for(var t=[],e=0,n=this.textNodes.length;e<n;++e)t[e]="'"+this.textNodes[e].data+"'";return"[Merge("+t.join(",")+")]"}},t.prototype={getAncestorWithClass:function(t){for(var e;t;){if(this.cssClass)if(e=this.cssClass,t.className){var n=t.className.match(this.similarClassRegExp)||[];e=n[n.length-1]===e}else e=!1;else e=!0;if(t.nodeType==a.ELEMENT_NODE&&s.dom.arrayContains(this.tagNames,t.tagName.toLowerCase())&&e)return t;t=t.parentNode}return!1},postApply:function(t,e){for(var n,i,r,o=t[0],s=t[t.length-1],a=[],l=o,c=s,u=0,h=s.length,d=0,f=t.length;d<f;++d)i=t[d],(r=this.getAdjacentMergeableTextNode(i.parentNode,!1))?(n||(n=new p(r),a.push(n)),n.textNodes.push(i),i===o&&(u=(l=n.firstTextNode).length),i===s&&(c=n.firstTextNode,h=n.getLength())):n=null;if((o=this.getAdjacentMergeableTextNode(s.parentNode,!0))&&(n||(n=new p(s),a.push(n)),n.textNodes.push(o)),a.length){for(d=0,f=a.length;d<f;++d)a[d].doMerge();e.setStart(l,u),e.setEnd(c,h)}},getAdjacentMergeableTextNode:function(t,e){var n=t.nodeType==a.TEXT_NODE,i=n?t.parentNode:t,r=e?"nextSibling":"previousSibling";if(n){if((n=t[r])&&n.nodeType==a.TEXT_NODE)return n}else if((n=i[r])&&this.areElementsMergeable(t,n))return n[e?"firstChild":"lastChild"];return null},areElementsMergeable:function(t,e){var n;if((n=s.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase()))&&(n=s.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase()))&&(n=t.className.replace(l," ")==e.className.replace(l," ")))t:if(t.attributes.length!=e.attributes.length)n=!1;else{n=0;for(var i,r,o=t.attributes.length;n<o;++n)if("class"!=(r=(i=t.attributes[n]).name)&&(r=e.attributes.getNamedItem(r),i.specified!=r.specified||i.specified&&i.nodeValue!==r.nodeValue)){n=!1;break t}n=!0}return n},createContainer:function(t){return t=t.createElement(this.tagNames[0]),this.cssClass&&(t.className=this.cssClass),t},applyToTextNode:function(t){var e=t.parentNode;1==e.childNodes.length&&s.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())?this.cssClass&&(t=this.cssClass,e.className?(e.className&&(e.className=e.className.replace(this.similarClassRegExp,"")),e.className+=" "+t):e.className=t):(e=this.createContainer(s.dom.getDocument(t)),t.parentNode.insertBefore(e,t),e.appendChild(t))},isRemovable:function(t){return s.dom.arrayContains(this.tagNames,t.tagName.toLowerCase())&&a.lang.string(t.className).trim()==this.cssClass},undoToTextNode:function(t,e,n){if(e.containsNode(n)||((t=e.cloneRange()).selectNode(n),t.isPointInRange(e.endContainer,e.endOffset)&&i(e.endContainer,e.endOffset)&&(o(n,e.endContainer,e.endOffset),e.setEndAfter(n)),t.isPointInRange(e.startContainer,e.startOffset)&&i(e.startContainer,e.startOffset)&&(n=o(n,e.startContainer,e.startOffset))),this.similarClassRegExp&&n.className&&(n.className=n.className.replace(this.similarClassRegExp,"")),this.isRemovable(n)){for(n=(e=n).parentNode;e.firstChild;)n.insertBefore(e.firstChild,e);n.removeChild(e)}},applyToRange:function(t){var e=t.getNodes([a.TEXT_NODE]);if(!e.length)try{var n=this.createContainer(t.endContainer.ownerDocument);return t.surroundContents(n),void this.selectNode(t,n)}catch(t){}if(t.splitBoundaries(),(e=t.getNodes([a.TEXT_NODE])).length){for(var i=0,r=e.length;i<r;++i)n=e[i],this.getAncestorWithClass(n)||this.applyToTextNode(n);t.setStart(e[0],0),n=e[e.length-1],t.setEnd(n,n.length),this.normalize&&this.postApply(e,t)}},undoToRange:function(t){for(var e,n,i=t.getNodes([a.TEXT_NODE]),r=0,o=(i=i.length?(t.splitBoundaries(),t.getNodes([a.TEXT_NODE])):(i=t.endContainer.ownerDocument.createTextNode(a.INVISIBLE_SPACE),t.insertNode(i),t.selectNode(i),[i])).length;r<o;++r)e=i[r],(n=this.getAncestorWithClass(e))&&this.undoToTextNode(e,t,n);1==o?this.selectNode(t,i[0]):(t.setStart(i[0],0),e=i[i.length-1],t.setEnd(e,e.length),this.normalize&&this.postApply(i,t))},selectNode:function(t,e){var n=e.nodeType===a.ELEMENT_NODE,i=!("canHaveHTML"in e)||e.canHaveHTML,r=n?e.innerHTML:e.data;if((r=""===r||r===a.INVISIBLE_SPACE)&&n&&i)try{e.innerHTML=a.INVISIBLE_SPACE}catch(t){}t.selectNodeContents(e),r&&n?t.collapse(!1):r&&(t.setStartAfter(e),t.setEndAfter(e))},getTextSelectedByRange:function(t,e){var n=e.cloneRange();n.selectNodeContents(t);var i=(i=n.intersection(e))?i.toString():"";return n.detach(),i},isAppliedToRange:function(t){var e,n=[],i=t.getNodes([a.TEXT_NODE]);if(!i.length)return!!(e=this.getAncestorWithClass(t.startContainer))&&[e];for(var r,o=0,s=i.length;o<s;++o){if(r=this.getTextSelectedByRange(i[o],t),e=this.getAncestorWithClass(i[o]),""!=r&&!e)return!1;n.push(e)}return n},toggleRange:function(t){this.isAppliedToRange(t)?this.undoToRange(t):this.applyToRange(t)}},a.selection.HTMLApplier=t}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},support:function(t){return wysihtml5.browser.supportsCommand(this.doc,t)},exec:function(t,e){var n=wysihtml5.commands[t],i=wysihtml5.lang.array(arguments).get(),r=n&&n.exec,o=null;if(this.editor.fire("beforecommand:composer"),r)i.unshift(this.composer),o=r.apply(n,i);else try{o=this.doc.execCommand(t,!1,e)}catch(t){}return this.editor.fire("aftercommand:composer"),o},state:function(t){var e=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),i=e&&e.state;if(i)return n.unshift(this.composer),i.apply(e,n);try{return this.doc.queryCommandState(t)}catch(t){return!1}},value:function(t){var e=wysihtml5.commands[t],n=e&&e.value;if(n)return n.call(e,this.composer,t);try{return this.doc.queryCommandValue(t)}catch(t){return null}}}),function(n){n.commands.bold={exec:function(t,e){return n.commands.formatInline.exec(t,e,"b")},state:function(t,e){return n.commands.formatInline.state(t,e,"b")},value:function(){}}}(wysihtml5),function(l){var c=l.dom;l.commands.createLink={exec:function(t,e,n){var r=this.state(t,e);r?t.selection.executeAndRestore(function(){for(var t,e,n=r.length,i=0;i<n;i++)t=r[i],e=c.getParentElement(t,{nodeName:"code"}),c.getTextContent(t).match(c.autoLink.URL_REG_EXP)&&!e?c.renameElement(t,"code"):c.replaceWithChildNodes(t)}):function(t,e){var n,i,r,o=t.doc,s="_wysihtml5-temp-"+ +new Date,a=0;for(l.commands.formatInline.exec(t,void 0,"A",s,/non-matching-class/g),s=(n=o.querySelectorAll("A."+s)).length;a<s;a++)for(r in(i=n[a]).removeAttribute("class"),e)i.setAttribute(r,e[r]);a=i,1===s&&(r=c.getTextContent(i),s=!!i.querySelector("*"),r=""===r||r===l.INVISIBLE_SPACE,!s&&r&&(c.setTextContent(i,e.text||i.href),o=o.createTextNode(" "),t.selection.setAfter(i),t.selection.insertNode(o),a=o)),t.selection.setAfter(a)}(t,n="object"==typeof n?n:{href:n})},state:function(t,e){return l.commands.formatInline.state(t,e,"A")},value:function(){}}}(wysihtml5),function(i){var r=/wysiwyg-font-size-[a-z\-]+/g;i.commands.fontSize={exec:function(t,e,n){return i.commands.formatInline.exec(t,e,"span","wysiwyg-font-size-"+n,r)},state:function(t,e,n){return i.commands.formatInline.state(t,e,"span","wysiwyg-font-size-"+n,r)},value:function(){}}}(wysihtml5),function(i){var r=/wysiwyg-color-[a-z]+/g;i.commands.foreColor={exec:function(t,e,n){return i.commands.formatInline.exec(t,e,"span","wysiwyg-color-"+n,r)},state:function(t,e,n){return i.commands.formatInline.state(t,e,"span","wysiwyg-color-"+n,r)},value:function(){}}}(wysihtml5),function(l){function c(t){for(t=t.previousSibling;t&&t.nodeType===l.TEXT_NODE&&!l.lang.string(t.data).trim();)t=t.previousSibling;return t}function u(t){for(t=t.nextSibling;t&&t.nodeType===l.TEXT_NODE&&!l.lang.string(t.data).trim();)t=t.nextSibling;return t}function h(t){return"BR"===t.nodeName||"block"===d.getStyle("display").from(t)}var d=l.dom,f="H1 H2 H3 H4 H5 H6 P BLOCKQUOTE DIV".split(" ");l.commands.formatBlock={exec:function(t,e,r,n,o){var i,s=t.doc,a=this.state(t,e,r,n,o);r="string"==typeof r?r.toUpperCase():r;if(a)t.selection.executeAndRestoreSimple(function(){if(o&&(a.className=a.className.replace(o,"")),(t=!!l.lang.string(a.className).trim())||a.nodeName!==(r||"DIV"))t&&d.renameElement(a,"DIV");else{var t,e=(t=a).ownerDocument,n=u(t),i=c(t);n&&!h(n)&&t.parentNode.insertBefore(e.createElement("br"),n),i&&!h(i)&&t.parentNode.insertBefore(e.createElement("br"),t),d.replaceWithChildNodes(a)}});else{if((null===r||l.lang.array(f).contains(r))&&(i=t.selection.getSelectedNode(),a=d.getParentElement(i,{nodeName:f})))return void t.selection.executeAndRestoreSimple(function(){if(r&&(a=d.renameElement(a,r)),n){var t=a;t.className?(t.className=t.className.replace(o,""),t.className+=" "+n):t.className=n}});t.commands.support(e)?function(t,e,n,i){if(i)var r=d.observe(t,"DOMNodeInserted",function(t){(t=t.target).nodeType!==l.ELEMENT_NODE||"inline"!==d.getStyle("display").from(t).substr(0,6)&&(t.className+=" "+i)});t.execCommand(e,!1,n),r&&r.stop()}(s,e,r||"DIV",n):(a=s.createElement(r||"DIV"),n&&(a.className=n),function(t,e){t.selection.selectLine(),t.selection.surround(e);var n=u(e),i=c(e);n&&"BR"===n.nodeName&&n.parentNode.removeChild(n),i&&"BR"===i.nodeName&&i.parentNode.removeChild(i),(n=e.lastChild)&&"BR"===n.nodeName&&n.parentNode.removeChild(n),t.selection.selectNode(e)}(t,a))}},state:function(t,e,n,i,r){return n="string"==typeof n?n.toUpperCase():n,t=t.selection.getSelectedNode(),d.getParentElement(t,{nodeName:n,className:i,classRegExp:r})},value:function(){}}}(wysihtml5),function(a){function s(t,e,n){var i=t+":"+e;if(!c[i]){var r=c,o=a.selection.HTMLApplier,s=l[t];t=s?[t.toLowerCase(),s.toLowerCase()]:[t.toLowerCase()];r[i]=new o(t,e,n,!0)}return c[i]}var l={strong:"b",em:"i",b:"strong",i:"em"},c={};a.commands.formatInline={exec:function(t,e,n,i,r){return!!(e=t.selection.getRange())&&(s(n,i,r).toggleRange(e),void t.selection.setSelection(e))},state:function(t,e,n,i,r){e=t.doc;var o=l[n]||n;return!(!a.dom.hasElementWithTagName(e,n)&&!a.dom.hasElementWithTagName(e,o)||i&&!a.dom.hasElementWithClassName(e,i))&&(!!(t=t.selection.getRange())&&s(n,i,r).isAppliedToRange(t))},value:function(){}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(t,e,n){t.commands.support(e)?t.doc.execCommand(e,!1,n):t.selection.insertHTML(n)},state:function(){return!1},value:function(){}},function(o){o.commands.insertImage={exec:function(t,e,n){n="object"==typeof n?n:{src:n};var i,r=t.doc;if(e=this.state(t))t.selection.setBefore(e),(n=e.parentNode).removeChild(e),o.dom.removeEmptyTextNodes(n),"A"!==n.nodeName||n.firstChild||(t.selection.setAfter(n),n.parentNode.removeChild(n)),o.quirks.redraw(t.element);else{for(i in e=r.createElement("IMG"),n)e[i]=n[i];t.selection.insertNode(e),o.browser.hasProblemsSettingCaretAfterImg()?(n=r.createTextNode(o.INVISIBLE_SPACE),t.selection.insertNode(n),t.selection.setAfter(n)):t.selection.setAfter(e)}},state:function(t){var e;return!(!o.dom.hasElementWithTagName(t.doc,"IMG")||!(e=t.selection.getSelectedNode()))&&("IMG"===e.nodeName?e:e.nodeType===o.ELEMENT_NODE&&(e=t.selection.getText(),!(e=o.lang.string(e).trim())&&(1===(t=t.selection.getNodes(o.ELEMENT_NODE,function(t){return"IMG"===t.nodeName})).length&&t[0])))},value:function(t){return(t=this.state(t))&&t.src}}}(wysihtml5),function(n){var i="<br>"+(n.browser.needsSpaceAfterLineBreak()?" ":"");n.commands.insertLineBreak={exec:function(t,e){t.commands.support(e)?(t.doc.execCommand(e,!1,null),n.browser.autoScrollsToCaret()||t.selection.scrollIntoView()):t.commands.exec("insertHTML",i)},state:function(){return!1},value:function(){}}}(wysihtml5),function(a){a.commands.insertOrderedList={exec:function(t,e){var n,i=t.doc,r=t.selection.getSelectedNode(),o=a.dom.getParentElement(r,{nodeName:"OL"}),s=a.dom.getParentElement(r,{nodeName:"UL"});r="_wysihtml5-temp-"+(new Date).getTime();t.commands.support(e)?i.execCommand(e,!1,null):o?t.selection.executeAndRestoreSimple(function(){a.dom.resolveList(o)}):s?t.selection.executeAndRestoreSimple(function(){a.dom.renameElement(s,"ol")}):(t.commands.exec("formatBlock","div",r),i=""===(n=i.querySelector("."+r)).innerHTML||n.innerHTML===a.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){o=a.dom.convertToList(n,"ol")}),i&&t.selection.selectNode(o.querySelector("li")))},state:function(t){return t=t.selection.getSelectedNode(),a.dom.getParentElement(t,{nodeName:"OL"})},value:function(){}}}(wysihtml5),function(a){a.commands.insertUnorderedList={exec:function(t,e){var n,i=t.doc,r=t.selection.getSelectedNode(),o=a.dom.getParentElement(r,{nodeName:"UL"}),s=a.dom.getParentElement(r,{nodeName:"OL"});r="_wysihtml5-temp-"+(new Date).getTime();t.commands.support(e)?i.execCommand(e,!1,null):o?t.selection.executeAndRestoreSimple(function(){a.dom.resolveList(o)}):s?t.selection.executeAndRestoreSimple(function(){a.dom.renameElement(s,"ul")}):(t.commands.exec("formatBlock","div",r),i=""===(n=i.querySelector("."+r)).innerHTML||n.innerHTML===a.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){o=a.dom.convertToList(n,"ul")}),i&&t.selection.selectNode(o.querySelector("li")))},state:function(t){return t=t.selection.getSelectedNode(),a.dom.getParentElement(t,{nodeName:"UL"})},value:function(){}}}(wysihtml5),function(n){n.commands.italic={exec:function(t,e){return n.commands.formatInline.exec(t,e,"i")},state:function(t,e){return n.commands.formatInline.state(t,e,"i")},value:function(){}}}(wysihtml5),function(e){var n=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyCenter={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,"wysiwyg-text-align-center",n)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,"wysiwyg-text-align-center",n)},value:function(){}}}(wysihtml5),function(e){var n=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyLeft={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,"wysiwyg-text-align-left",n)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,"wysiwyg-text-align-left",n)},value:function(){}}}(wysihtml5),function(e){var n=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyRight={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,"wysiwyg-text-align-right",n)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,"wysiwyg-text-align-right",n)},value:function(){}}}(wysihtml5),function(n){n.commands.underline={exec:function(t,e){return n.commands.formatInline.exec(t,e,"u")},state:function(t,e){return n.commands.formatInline.state(t,e,"u")},value:function(){}}}(wysihtml5),function(s){var a='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+s.INVISIBLE_SPACE+"</span>",l='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+s.INVISIBLE_SPACE+"</span>",c=s.dom;s.UndoManager=s.lang.Dispatcher.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1,this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var e,i=this,n=this.composer.sandbox.getDocument();if(c.observe(this.element,"keydown",function(t){if(!t.altKey&&(t.ctrlKey||t.metaKey)){var e=t.keyCode,n=90===e&&t.shiftKey||89===e;90!==e||t.shiftKey?n&&(i.redo(),t.preventDefault()):(i.undo(),t.preventDefault())}}),c.observe(this.element,"keydown",function(t){(t=t.keyCode)!==e&&(8!==(e=t)&&46!==t||i.transact())}),s.browser.hasUndoInContextMenu()){function t(){for(var t;t=n.querySelector("._wysihtml5-temp");)t.parentNode.removeChild(t);clearInterval(r)}var r,o;c.observe(this.element,"contextmenu",function(){t(),i.composer.selection.executeAndRestoreSimple(function(){i.element.lastChild&&i.composer.selection.setAfter(i.element.lastChild),n.execCommand("insertHTML",!1,a),n.execCommand("insertHTML",!1,l),n.execCommand("undo",!1,null)}),r=setInterval(function(){n.getElementById("_wysihtml5-redo")?(t(),i.redo()):n.getElementById("_wysihtml5-undo")||(t(),i.undo())},400),o||(o=!0,c.observe(document,"mousedown",t),c.observe(n,["mousedown","paste","cut","copy"],t))})}this.editor.observe("newword:composer",function(){i.transact()}).observe("beforecommand:composer",function(){i.transact()})},transact:function(){var t=this.history[this.position-1],e=this.composer.getValue();e!=t&&(40<(this.history.length=this.position)&&(this.history.shift(),this.position--),this.position++,this.history.push(e))},undo:function(){this.transact(),this.position<=1||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(t){this.composer.setValue(t),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(t,e,n){this.parent=t,this.element=e,this.config=n,this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.observe("beforeload",function(){e.parent.observe("change_view",function(t){t===e.name?((e.parent.currentView=e).show(),setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(t){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(a){var l=a.dom,n=a.browser;a.views.Composer=a.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(t,e,n){this.base(t,e,n),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t){var e=this.isEmpty()?"":a.quirks.getCorrectInnerHTML(this.element);return t&&(e=this.parent.parse(e)),a.lang.string(e).replace(a.INVISIBLE_SPACE).by("")},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.innerHTML=t},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=l.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(t){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var e=this.element.lastChild;t&&e&&("BR"===e.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return l.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var t=this.element.innerHTML;return""===t||t===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector("blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea")},_initSandbox:function(){var t=this;this.sandbox=new l.Sandbox(function(){t._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var e=document.createElement("input");e.type="hidden",e.name="_wysihtml5_mode",e.value=1;var n=this.textarea.element;l.insert(this.iframe).after(n),l.insert(e).after(n)},_create:function(){var t=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new a.Selection(this.parent),this.commands=new a.Commands(this.parent),l.copyAttributes("className spellcheck title lang dir accessKey".split(" ")).from(this.textarea.element).to(this.element),l.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var e=this.config.name;e&&(l.addClass(this.element,e),l.addClass(this.iframe,e)),(e="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder"))&&l.simulatePlaceholder(this.parent,this,e),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||setTimeout(function(){t.focus()},100),a.quirks.insertLineBreakOnReturn(this),n.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this),n.clearsListsInContentEditableCorrectly()||a.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i=this,t=n.canDisableAutoLinking(),e=n.doesAutoLinkingInContentEditable();if(t&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!e||e&&t)&&this.parent.observe("newword:composer",function(){i.selection.executeAndRestore(function(t,e){l.autoLink(e.parentNode)})});function r(t){return"www."===(t=a.lang.string(l.getTextContent(t)).trim()).substr(0,4)&&(t="http://"+t),t}var o=this.sandbox.getDocument().getElementsByTagName("a"),s=l.autoLink.URL_REG_EXP;l.observe(this.element,"keydown",function(t){if(o.length){t=i.selection.getSelectedNode(t.target.ownerDocument);var e,n=l.getParentElement(t,{nodeName:"A"},4);n&&(e=r(n),setTimeout(function(){var t=r(n);t!==e&&t.match(s)&&n.setAttribute("href",t)},0))}})}},_initObjectResizing:function(){var r=["width","height"],o=r.length,s=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?n.supportsEvent("resizeend")&&l.observe(s,"resizeend",function(t){for(var e,n=(t=t.target||t.srcElement).style,i=0;i<o;i++)n[e=r[i]]&&(t.setAttribute(e,parseInt(n[e],10)),n[e]="");a.quirks.redraw(s)}):n.supportsEvent("resizestart")&&l.observe(s,"resizestart",function(t){t.preventDefault()})},_initUndoManager:function(){new a.UndoManager(this.parent)}})}(wysihtml5),function(a){var l=a.dom,c=document,u=window,h=c.createElement("div"),d="background-color color cursor font-family font-size font-style font-variant font-weight line-height letter-spacing text-align text-decoration text-indent text-rendering word-break word-wrap word-spacing".split(" "),f="background-color border-collapse border-bottom-color border-bottom-style border-bottom-width border-left-color border-left-style border-left-width border-right-color border-right-style border-right-width border-top-color border-top-style border-top-width clear display float margin-bottom margin-left margin-right margin-top outline-color outline-offset outline-width outline-style padding-left padding-right padding-top padding-bottom position top left right bottom z-index vertical-align text-align -webkit-box-sizing -moz-box-sizing -ms-box-sizing box-sizing -webkit-box-shadow -moz-box-shadow -ms-box-shadow box-shadow -webkit-border-top-right-radius -moz-border-radius-topright border-top-right-radius -webkit-border-bottom-right-radius -moz-border-radius-bottomright border-bottom-right-radius -webkit-border-bottom-left-radius -moz-border-radius-bottomleft border-bottom-left-radius -webkit-border-top-left-radius -moz-border-radius-topleft border-top-left-radius width height".split(" "),p="width height top left right bottom".split(" "),g=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",a.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"];a.views.Composer.prototype.style=function(){var n=this,t=c.querySelector(":focus"),i=this.textarea.element,e=i.hasAttribute("placeholder"),r=e&&i.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||h.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||h.cloneNode(!1),e&&i.removeAttribute("placeholder"),i===t&&i.blur(),l.copyStyles(f).from(i).to(this.iframe).andTo(this.blurStylesHost),l.copyStyles(d).from(i).to(this.element).andTo(this.blurStylesHost),l.insertCSS(g).into(this.element.ownerDocument),function(t){if(t.setActive)try{t.setActive()}catch(t){}else{var e=t.style,n=c.documentElement.scrollTop||c.body.scrollTop,i=c.documentElement.scrollLeft||c.body.scrollLeft;e={position:e.position,top:e.top,left:e.left,WebkitUserSelect:e.WebkitUserSelect};l.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(t),t.focus(),l.setStyles(e).on(t),u.scrollTo&&u.scrollTo(i,n)}}(i),l.copyStyles(f).from(i).to(this.focusStylesHost),l.copyStyles(d).from(i).to(this.focusStylesHost);var o=a.lang.array(f).without(["display"]);if(t?t.focus():i.blur(),e&&i.setAttribute("placeholder",r),!a.browser.hasCurrentStyleProperty())var s=l.observe(u,"resize",function(){if(l.contains(document.documentElement,n.iframe)){var t=l.getStyle("display").from(i),e=l.getStyle("display").from(n.iframe);i.style.display="",n.iframe.style.display="none",l.copyStyles(p).from(i).to(n.iframe).andTo(n.focusStylesHost).andTo(n.blurStylesHost),n.iframe.style.display=e,i.style.display=t}else s.stop()});return this.parent.observe("focus:composer",function(){l.copyStyles(o).from(n.focusStylesHost).to(n.iframe),l.copyStyles(d).from(n.focusStylesHost).to(n.element)}),this.parent.observe("blur:composer",function(){l.copyStyles(o).from(n.blurStylesHost).to(n.iframe),l.copyStyles(d).from(n.blurStylesHost).to(n.element)}),this}}(wysihtml5),function(l){var c=l.dom,u=l.browser,h={66:"bold",73:"italic",85:"underline"};l.views.Composer.prototype.observe=function(){var i=this,t=this.getValue(),e=this.sandbox.getIframe(),r=this.element,n=u.supportsEventsInIframeCorrectly()?r:this.sandbox.getWindow(),o=u.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];c.observe(e,"DOMNodeRemoved",function(){clearInterval(s),i.parent.fire("destroy:composer")});var s=setInterval(function(){c.contains(document.documentElement,e)||(clearInterval(s),i.parent.fire("destroy:composer"))},250);c.observe(n,"focus",function(){i.parent.fire("focus").fire("focus:composer"),setTimeout(function(){t=i.getValue()},0)}),c.observe(n,"blur",function(){t!==i.getValue()&&i.parent.fire("change").fire("change:composer"),i.parent.fire("blur").fire("blur:composer")}),l.browser.isIos()&&c.observe(r,"blur",function(){var e=r.ownerDocument.createElement("input"),t=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollLeft||document.body.scrollLeft;try{i.selection.insertNode(e)}catch(t){r.appendChild(e)}e.focus(),e.parentNode.removeChild(e),window.scrollTo(n,t)}),c.observe(r,"dragenter",function(){i.parent.fire("unset_placeholder")}),u.firesOnDropOnlyWhenOnDragOverIsCancelled()&&c.observe(r,["dragover","dragenter"],function(t){t.preventDefault()}),c.observe(r,o,function(t){var e,n=t.dataTransfer;n&&u.supportsDataTransfer()&&(e=n.getData("text/html")||n.getData("text/plain")),e?(r.focus(),i.commands.exec("insertHTML",e),i.parent.fire("paste").fire("paste:composer"),t.stopPropagation(),t.preventDefault()):setTimeout(function(){i.parent.fire("paste").fire("paste:composer")},0)}),c.observe(r,"keyup",function(t){(t=t.keyCode)!==l.SPACE_KEY&&t!==l.ENTER_KEY||i.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){i.parent.fire("newword:composer")},0)}),u.canSelectImagesInContentEditable()||c.observe(r,"mousedown",function(t){var e=t.target;"IMG"===e.nodeName&&(i.selection.selectNode(e),t.preventDefault())}),c.observe(r,"keydown",function(t){var e=h[t.keyCode];(t.ctrlKey||t.metaKey)&&!t.altKey&&e&&(i.commands.exec(e),t.preventDefault())}),c.observe(r,"keydown",function(t){var e=i.selection.getSelectedNode(!0),n=t.keyCode;!e||"IMG"!==e.nodeName||n!==l.BACKSPACE_KEY&&n!==l.DELETE_KEY||((n=e.parentNode).removeChild(e),"A"!==n.nodeName||n.firstChild||n.parentNode.removeChild(n),setTimeout(function(){l.quirks.redraw(r)},0),t.preventDefault())});var a={IMG:"Image: ",A:"Link: "};c.observe(r,"mouseover",function(t){var e=(t=t.target).nodeName;"A"!==e&&"IMG"!==e||t.hasAttribute("title")||(e=a[e]+(t.getAttribute("href")||t.getAttribute("src")),t.setAttribute("title",e))})}}(wysihtml5),function(o){o.views.Synchronizer=Base.extend({constructor:function(t,e,n){this.editor=t,this.textarea=e,this.composer=n,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(o.lang.string(this.composer.getValue()).trim(),t)},fromTextareaToComposer:function(t){var e=this.textarea.getValue();e?this.composer.setValue(e,t):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(t){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(t):this.fromComposerToTextarea(t)},_observe:function(){function e(){i=setInterval(function(){r.fromComposerToTextarea()},400)}function n(){clearInterval(i),i=null}var i,r=this,t=this.textarea.element.form;e(),t&&(o.dom.observe(t,"submit",function(){r.sync(!0)}),o.dom.observe(t,"reset",function(){setTimeout(function(){r.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(t){"composer"!==t||i?"textarea"===t&&(r.fromComposerToTextarea(!0),n()):(r.fromTextareaToComposer(!0),e())}),this.editor.observe("destroy:composer",n)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(t,e,n){this.base(t,e,n),this._observe()},clear:function(){this.element.value=""},getValue:function(t){var e=this.isEmpty()?"":this.element.value;return t&&(e=this.parent.parse(e)),e},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.value=t},hasPlaceholderSet:function(){var t=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),e=this.element.getAttribute("placeholder")||null,n=this.element.value;return t&&!n||n===e},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var t=this.element,e=this.parent,n={focusin:"focus",focusout:"blur"},i=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];e.observe("beforeload",function(){wysihtml5.dom.observe(t,i,function(t){t=n[t.type]||t.type,e.fire(t).fire(t+":textarea")}),wysihtml5.dom.observe(t,["paste","drop"],function(){setTimeout(function(){e.fire("paste").fire("paste:textarea")},0)})})}}),function(s){var a=s.dom;s.toolbar.Dialog=s.lang.Dispatcher.extend({constructor:function(t,e){this.link=t,this.container=e},_observe:function(){if(!this._observed){function n(t){var e=i._serialize();e==i.elementToChange?i.fire("edit",e):i.fire("save",e),i.hide(),t.preventDefault(),t.stopPropagation()}var i=this;a.observe(i.link,"click",function(){a.hasClass(i.link,"wysihtml5-command-dialog-opened")&&setTimeout(function(){i.hide()},0)}),a.observe(this.container,"keydown",function(t){var e=t.keyCode;e===s.ENTER_KEY&&n(t),e===s.ESCAPE_KEY&&i.hide()}),a.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",n),a.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(t){i.fire("cancel"),i.hide(),t.preventDefault(),t.stopPropagation()});function t(){clearInterval(i.interval)}for(var e=this.container.querySelectorAll("input, select, textarea"),r=0,o=e.length;r<o;r++)a.observe(e[r],"change",t);this._observed=!0}},_serialize:function(){for(var t=this.elementToChange||{},e=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),n=e.length,i=0;i<n;i++)t[e[i].getAttribute("data-wysihtml5-dialog-field")]=e[i].value;return t},_interpolate:function(t){for(var e,n,i=document.querySelector(":focus"),r=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),o=r.length,s=0;s<o;s++)(e=r[s])===i||t&&"hidden"===e.type||(n=e.getAttribute("data-wysihtml5-dialog-field"),n=this.elementToChange?this.elementToChange[n]||"":e.defaultValue,e.value=n)},show:function(t){var e=this,n=this.container.querySelector("input, select, textarea");if(this.elementToChange=t,this._observe(),this._interpolate(),t&&(this.interval=setInterval(function(){e._interpolate(!0)},500)),a.addClass(this.link,"wysihtml5-command-dialog-opened"),this.container.style.display="",this.fire("show"),n&&!t)try{n.focus()}catch(t){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,a.removeClass(this.link,"wysihtml5-command-dialog-opened"),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(r){var o=r.dom,s={position:"relative"},a={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},l={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},c={"x-webkit-speech":"",speech:""};r.toolbar.Speech=function(t,e){var n=document.createElement("input");if(r.browser.supportsSpeechApiOn(n)){var i=document.createElement("div");r.lang.object(a).merge({width:e.offsetWidth+"px",height:e.offsetHeight+"px"}),o.insert(n).into(i),o.insert(i).into(e),o.setStyles(l).on(n),o.setAttributes(c).on(n),o.setStyles(a).on(i),o.setStyles(s).on(e),o.observe(n,"onwebkitspeechchange"in n?"webkitspeechchange":"speechchange",function(){t.execCommand("insertText",n.value),n.value=""}),o.observe(n,"click",function(t){o.hasClass(e,"wysihtml5-command-disabled")&&t.preventDefault(),t.stopPropagation()})}else e.style.display="none"}}(wysihtml5),function(u){var s=u.dom;u.toolbar.Toolbar=Base.extend({constructor:function(t,e){this.editor=t,this.container="string"==typeof e?document.getElementById(e):e,this.composer=t.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var n=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),i=n.length,r=0;r<i;r++)new u.toolbar.Speech(this,n[r])},_getLinks:function(t){for(var e,n,i,r,o,s=this[t+"Links"]=u.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),a=s.length,l=0,c=this[t+"Mapping"]={};l<a;l++)i=(e=s[l]).getAttribute("data-wysihtml5-"+t),r=e.getAttribute("data-wysihtml5-"+t+"-value"),n=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+i+"']"),o=this._getDialog(e,i),c[i+":"+r]={link:e,group:n,name:i,value:r,dialog:o,state:!1}},_getDialog:function(e,n){var t,i,r=this,o=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return o&&((t=new u.toolbar.Dialog(e,o)).observe("show",function(){i=r.composer.selection.getBookmark(),r.editor.fire("show:dialog",{command:n,dialogContainer:o,commandLink:e})}),t.observe("save",function(t){i&&r.composer.selection.setBookmark(i),r._execCommand(n,t),r.editor.fire("save:dialog",{command:n,dialogContainer:o,commandLink:e})}),t.observe("cancel",function(){r.editor.focus(!1),r.editor.fire("cancel:dialog",{command:n,dialogContainer:o,commandLink:e})})),t},execCommand:function(t,e){if(!this.commandsDisabled){var n=this.commandMapping[t+":"+e];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(t,e)}},_execCommand:function(t,e){this.editor.focus(!1),this.composer.commands.exec(t,e),this._updateLinkStates()},execAction:function(t){var e=this.editor;switch(t){case"change_view":e.currentView===e.textarea?e.fire("change_view","composer"):e.fire("change_view","textarea")}},_observe:function(){for(var i=this,t=this.editor,e=this.container,n=this.commandLinks.concat(this.actionLinks),r=n.length,o=0;o<r;o++)s.setAttributes({href:"javascript:;",unselectable:"on"}).on(n[o]);s.delegate(e,"[data-wysihtml5-command]","mousedown",function(t){t.preventDefault()}),s.delegate(e,"[data-wysihtml5-command]","click",function(t){var e=this.getAttribute("data-wysihtml5-command"),n=this.getAttribute("data-wysihtml5-command-value");i.execCommand(e,n),t.preventDefault()}),s.delegate(e,"[data-wysihtml5-action]","click",function(t){var e=this.getAttribute("data-wysihtml5-action");i.execAction(e),t.preventDefault()}),t.observe("focus:composer",function(){i.bookmark=null,clearInterval(i.interval),i.interval=setInterval(function(){i._updateLinkStates()},500)}),t.observe("blur:composer",function(){clearInterval(i.interval)}),t.observe("destroy:composer",function(){clearInterval(i.interval)}),t.observe("change_view",function(t){setTimeout(function(){i.commandsDisabled="composer"!==t,i._updateLinkStates(),i.commandsDisabled?s.addClass(e,"wysihtml5-commands-disabled"):s.removeClass(e,"wysihtml5-commands-disabled")},0)})},_updateLinkStates:function(){var t,e,n,i=this.commandMapping,r=this.actionMapping;for(t in i)n=i[t],this.commandsDisabled?(e=!1,s.removeClass(n.link,"wysihtml5-command-active"),n.group&&s.removeClass(n.group,"wysihtml5-command-active"),n.dialog&&n.dialog.hide()):(e=this.composer.commands.state(n.name,n.value),u.lang.object(e).isArray()&&(e=1!==e.length||e[0]),s.removeClass(n.link,"wysihtml5-command-disabled"),n.group&&s.removeClass(n.group,"wysihtml5-command-disabled")),n.state!==e&&((n.state=e)?(s.addClass(n.link,"wysihtml5-command-active"),n.group&&s.addClass(n.group,"wysihtml5-command-active"),n.dialog&&("object"==typeof e?n.dialog.show(e):n.dialog.hide())):(s.removeClass(n.link,"wysihtml5-command-active"),n.group&&s.removeClass(n.group,"wysihtml5-command-active"),n.dialog&&n.dialog.hide()));for(t in r)"change_view"===(i=r[t]).name&&(i.state=this.editor.currentView===this.editor.textarea,i.state?s.addClass(i.link,"wysihtml5-action-active"):s.removeClass(i.link,"wysihtml5-action-active"))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(i){var r={name:void 0,style:!0,toolbar:void 0,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:i.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:void 0,allowObjectResizing:!0,supportTouchDevices:!0};i.Editor=i.lang.Dispatcher.extend({constructor:function(t,e){if(this.textareaElement="string"==typeof t?document.getElementById(t):t,this.config=i.lang.object({}).merge(r).merge(e).get(),this.currentView=this.textarea=new i.views.Textarea(this,this.textareaElement,this.config),this._isCompatible=i.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&i.browser.isTouchDevice()){var n=this;setTimeout(function(){n.fire("beforeload").fire("load")},0)}else{i.dom.addClass(document.body,this.config.bodyClassName),this.currentView=this.composer=new i.views.Composer(this,this.textareaElement,this.config),"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new i.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new i.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(t){}}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(t){return this.currentView.getValue(t)},setValue:function(t,e){return t?(this.currentView.setValue(t,e),this):this.clear()},focus:function(t){return this.currentView.focus(t),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t){var e=this.config.parser(t,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof t&&i.quirks.redraw(t),e},_initParser:function(){this.observe("paste:composer",function(){var t=this;t.composer.selection.executeAndRestore(function(){i.quirks.cleanPastedHTML(t.composer.element),t.parse(t.composer.element)},!0)}),this.observe("paste:textarea",function(){this.textarea.setValue(this.parse(this.textarea.getValue()))})}})}(wysihtml5);var Handlebars=function(){var c=function(){"use strict";function t(t){this.string=t}return t.prototype.toString=function(){return""+this.string},t}(),l=function(){"use strict";function e(t){return i[t]||"&amp;"}var t={},n=c,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=/[&<>"'`]/g,o=/[&<>"'`]/;t.extend=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};var s,a=Object.prototype.toString;t.toString=a,(s=function(t){return"function"==typeof t})(/x/)&&(s=function(t){return"function"==typeof t&&"[object Function]"===a.call(t)}),t.isFunction=s;var l=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===a.call(t)};return t.isArray=l,t.escapeExpression=function(t){return t instanceof n?t.toString():t||0===t?(t=""+t,o.test(t)?t.replace(r,e):t):""},t.isEmpty=function(t){return!t&&0!==t||!(!l(t)||0!==t.length)},t}(),d=function(){"use strict";function t(t,e){var n;e&&e.firstLine&&(t+=" - "+(n=e.firstLine)+":"+e.firstColumn);for(var i=Error.prototype.constructor.call(this,t),r=0;r<o.length;r++)this[o[r]]=i[o[r]];n&&(this.lineNumber=n,this.column=e.firstColumn)}var o=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,t}(),a=function(){"use strict";function t(t,e){this.helpers=t||{},this.partials=e||{},function(r){r.registerHelper("helperMissing",function(t){if(2!==arguments.length)throw new o("Missing helper: '"+t+"'")}),r.registerHelper("blockHelperMissing",function(t,e){var n=e.inverse||function(){},i=e.fn;return u(t)&&(t=t.call(this)),!0===t?i(this):!1===t||null==t?n(this):c(t)?0<t.length?r.helpers.each(t,e):n(this):i(t)}),r.registerHelper("each",function(t,e){var n,i=e.fn,r=e.inverse,o=0,s="";if(u(t)&&(t=t.call(this)),e.data&&(n=h(e.data)),t&&"object"==typeof t)if(c(t))for(var a=t.length;o<a;o++)n&&(n.index=o,n.first=0===o,n.last=o===t.length-1),s+=i(t[o],{data:n});else for(var l in t)t.hasOwnProperty(l)&&(n&&(n.key=l,n.index=o,n.first=0===o),s+=i(t[l],{data:n}),o++);return 0===o&&(s=r(this)),s}),r.registerHelper("if",function(t,e){return u(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)}),r.registerHelper("unless",function(t,e){return r.helpers.if.call(this,t,{fn:e.inverse,inverse:e.fn,hash:e.hash})}),r.registerHelper("with",function(t,e){return u(t)&&(t=t.call(this)),i.isEmpty(t)?void 0:e.fn(t)}),r.registerHelper("log",function(t,e){var n=e.data&&null!=e.data.level?parseInt(e.data.level,10):1;r.log(n,t)})}(this)}function e(t,e){a.log(t,e)}var n={},i=l,o=d;n.VERSION="1.3.0";n.COMPILER_REVISION=4;n.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var c=i.isArray,u=i.isFunction,r=i.toString,s="[object Object]";(n.HandlebarsEnvironment=t).prototype={constructor:t,logger:a,log:e,registerHelper:function(t,e,n){if(r.call(t)===s){if(n||e)throw new o("Arg not supported with multiple helpers");i.extend(this.helpers,t)}else n&&(e.not=n),this.helpers[t]=e},registerPartial:function(t,e){r.call(t)===s?i.extend(this.partials,t):this.partials[t]=e}};var a={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(a.level<=t){var n=a.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}};n.logger=a,n.log=e;var h=function(t){var e={};return i.extend(e,t),e};return n.createFrame=h,n}(),u=function(t,e,n){"use strict";function r(t,n,i){function e(t,e){return n(t,(e=e||{}).data||i)}return e.program=t,e.depth=0,e}var i={},o=l,c=d,s=n.COMPILER_REVISION,a=n.REVISION_CHANGES;return i.checkRevision=function(t){var e=t&&t[0]||1;if(e!==s){if(e<s){var n=a[s],i=a[e];throw new c("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}throw new c("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},i.template=function(s,l){if(!l)throw new c("No environment passed to template");var a={escapeExpression:o.escapeExpression,invokePartial:function(t,e,n,i,r,o){var s=l.VM.invokePartial.apply(this,arguments);if(null!=s)return s;if(l.compile){var a={helpers:i,partials:r,data:o};return r[e]=l.compile(t,{data:void 0!==o},l),r[e](n,a)}throw new c("The partial "+e+" could not be compiled when running in runtime-only mode")},programs:[],program:function(t,e,n){var i=this.programs[t];return i=n?r(t,e,n):i||(this.programs[t]=r(t,e))},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n={},o.extend(n,e),o.extend(n,t)),n},programWithDepth:l.VM.programWithDepth,noop:l.VM.noop,compilerInfo:null};return function(t,e){var n,i,r=(e=e||{}).partial?e:l;e.partial||(n=e.helpers,i=e.partials);var o=s.call(a,r,t,n,i,e.data);return e.partial||l.VM.checkRevision(a.compilerInfo),o}},i.programWithDepth=function(t,n,i){function e(t,e){return e=e||{},n.apply(this,[t,e.data||i].concat(r))}var r=Array.prototype.slice.call(arguments,3);return e.program=t,e.depth=r.length,e},i.program=r,i.invokePartial=function(t,e,n,i,r,o){var s={partial:!0,helpers:i,partials:r,data:o};if(void 0===t)throw new c("The partial "+e+" could not be found");return t instanceof Function?t(n,s):void 0},i.noop=function(){return""},i}(0,0,a);return function(){"use strict";function t(){var e=new n.HandlebarsEnvironment;return o.extend(e,n),e.SafeString=i,e.Exception=r,e.Utils=o,e.VM=s,e.template=function(t){return s.template(t,e)},e}var n=a,i=c,r=d,o=l,s=u,e=t();return e.create=t,e}()}(),glob="undefined"==typeof window?global:window,Handlebars=glob.Handlebars||require("handlebars");this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression;return a+='<li>\n  <a class="btn ',!(s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:this.noop,fn:this.program(1,function(t){var e;return""+"btn-"+c(typeof(e=null==(e=t&&t.options)||!1===e?e:e.size)===l?e.apply(t):e)},r),data:r}))&&0!==s||(a+=s),a+' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n    <span class="glyphicon glyphicon-quote"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.color=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression;return a+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',!(s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:this.noop,fn:this.program(1,function(t){var e;return""+"btn-"+c(typeof(e=null==(e=t&&t.options)||!1===e?e:e.size)===l?e.apply(t):e)},r),data:r}))&&0!==s||(a+=s),a+'" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.colours)||!1===o?o:o.black)===l?o.apply(e):o)+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.colours)||!1===o?o:o.black)===l?o.apply(e):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.colours)||!1===o?o:o.silver)===l?o.apply(e):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.colours)||!1===o?o:o.gray)===l?o.apply(e):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.colours)||!1===o?o:o.maroon)===l?o.apply(e):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.colours)||!1===o?o:o.red)===l?o.apply(e):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.colours)||!1===o?o:o.purple)===l?o.apply(e):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.colours)||!1===o?o:o.green)===l?o.apply(e):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.colours)||!1===o?o:o.olive)===l?o.apply(e):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.colours)||!1===o?o:o.navy)===l?o.apply(e):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.colours)||!1===o?o:o.blue)===l?o.apply(e):o)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.colours)||!1===o?o:o.orange)===l?o.apply(e):o)+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(t,e,o,n,i){function s(t){var e;return""+"btn-"+u(typeof(e=null==(e=t&&t.options)||!1===e?e:e.size)===c?e.apply(t):e)}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,t.helpers),i=i||{};var r,a,l="",c="function",u=this.escapeExpression,h=this;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',!(a=o.if.call(e,null==(r=e&&e.options)||!1===r?r:r.size,{hash:{},inverse:h.noop,fn:h.program(1,s,i),data:i}))&&0!==a||(l+=a),l+=' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+u(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.emphasis)||!1===r?r:r.bold)===c?r.apply(e):r)+'</a>\n    <a class="btn ',!(a=o.if.call(e,null==(r=e&&e.options)||!1===r?r:r.size,{hash:{},inverse:h.noop,fn:h.program(1,s,i),data:i}))&&0!==a||(l+=a),l+=' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+u(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.emphasis)||!1===r?r:r.italic)===c?r.apply(e):r)+'</a>\n    <a class="btn ',!(a=o.if.call(e,null==(r=e&&e.options)||!1===r?r:r.size,{hash:{},inverse:h.noop,fn:h.program(1,s,i),data:i}))&&0!==a||(l+=a),l+=' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+u(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.emphasis)||!1===r?r:r.underline)===c?r.apply(e):r)+"</a>\n    ",!(a=o.if.call(e,null==(r=e&&e.options)||!1===r?r:r.emSmall,{hash:{},inverse:h.noop,fn:h.program(3,function(t,e){var n,i,r="";return r+='\n    <a class="btn ',!(i=o.if.call(t,null==(n=t&&t.options)||!1===n?n:n.size,{hash:{},inverse:h.noop,fn:h.program(1,s,e),data:e}))&&0!==i||(r+=i),r+' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+u(typeof(n=null==(n=null==(n=t&&t.locale)||!1===n?n:n.emphasis)||!1===n?n:n.small)===c?n.apply(t):n)+"</a>\n    "},i),data:i}))&&0!==a||(l+=a),l+"\n  </div>\n</li>\n"}),this.wysihtml5.tpl["font-styles"]=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression;return a+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',!(s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:this.noop,fn:this.program(1,function(t){var e;return""+"btn-"+c(typeof(e=null==(e=t&&t.options)||!1===e?e:e.size)===l?e.apply(t):e)},r),data:r}))&&0!==s||(a+=s),a+'" data-toggle="dropdown">\n    <span class="glyphicon glyphicon-font"></span>\n    <span class="current-font">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.font_styles)||!1===o?o:o.normal)===l?o.apply(e):o)+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.font_styles)||!1===o?o:o.normal)===l?o.apply(e):o)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.font_styles)||!1===o?o:o.h1)===l?o.apply(e):o)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.font_styles)||!1===o?o:o.h2)===l?o.apply(e):o)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.font_styles)||!1===o?o:o.h3)===l?o.apply(e):o)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.font_styles)||!1===o?o:o.h4)===l?o.apply(e):o)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.font_styles)||!1===o?o:o.h5)===l?o.apply(e):o)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.font_styles)||!1===o?o:o.h6)===l?o.apply(e):o)+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.html=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression;return a+='<li>\n  <div class="btn-group">\n    <a class="btn ',!(s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:this.noop,fn:this.program(1,function(t){var e;return""+"btn-"+c(typeof(e=null==(e=t&&t.options)||!1===e?e:e.size)===l?e.apply(t):e)},r),data:r}))&&0!==s||(a+=s),a+' btn-default" data-wysihtml5-action="change_view" title="'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.html)||!1===o?o:o.edit)===l?o.apply(e):o)+'" tabindex="-1">\n      <span class="glyphicon glyphicon-pencil"></span>\n    </a>\n  </div>\n</li>\n'}),this.wysihtml5.tpl.image=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression;return a+='<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade">\n    <div class="modal-dialog ',!(s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.smallmodals,{hash:{},inverse:this.noop,fn:this.program(1,function(){return"modal-sm"},r),data:r}))&&0!==s||(a+=s),a+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.image)||!1===o?o:o.insert)===l?o.apply(e):o)+'</h3>\n        </div>\n        <div class="modal-body">\n          <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control">\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.image)||!1===o?o:o.cancel)===l?o.apply(e):o)+'</a>\n          <a class="btn btn-primary" data-dismiss="modal">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.image)||!1===o?o:o.insert)===l?o.apply(e):o)+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',!(s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:this.noop,fn:this.program(3,function(t){var e;return""+"btn-"+c(typeof(e=null==(e=t&&t.options)||!1===e?e:e.size)===l?e.apply(t):e)},r),data:r}))&&0!==s||(a+=s),a+' btn-default" data-wysihtml5-command="insertImage" title="'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.image)||!1===o?o:o.insert)===l?o.apply(e):o)+'" tabindex="-1">\n    <span class="glyphicon glyphicon-picture"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.link=Handlebars.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,a="",l="function",c=this.escapeExpression;return a+='<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade">\n    <div class="modal-dialog ',!(s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.smallmodals,{hash:{},inverse:this.noop,fn:this.program(1,function(){return"modal-sm"},r),data:r}))&&0!==s||(a+=s),a+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.link)||!1===o?o:o.insert)===l?o.apply(e):o)+'</h3>\n        </div>\n        <div class="modal-body">\n          <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control">\n          <label class="checkbox"> <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.link)||!1===o?o:o.target)===l?o.apply(e):o)+'</label>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.link)||!1===o?o:o.cancel)===l?o.apply(e):o)+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal">'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.link)||!1===o?o:o.insert)===l?o.apply(e):o)+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',!(s=n.if.call(e,null==(o=e&&e.options)||!1===o?o:o.size,{hash:{},inverse:this.noop,fn:this.program(3,function(t){var e;return""+"btn-"+c(typeof(e=null==(e=t&&t.options)||!1===e?e:e.size)===l?e.apply(t):e)},r),data:r}))&&0!==s||(a+=s),a+' btn-default" data-wysihtml5-command="createLink" title="'+c(typeof(o=null==(o=null==(o=e&&e.locale)||!1===o?o:o.link)||!1===o?o:o.insert)===l?o.apply(e):o)+'" tabindex="-1">\n    <span class="glyphicon glyphicon-share"></span>\n  </a>\n</li>\n'}),this.wysihtml5.tpl.lists=Handlebars.template(function(t,e,n,i,r){function o(t){var e;return""+"btn-"+u(typeof(e=null==(e=t&&t.options)||!1===e?e:e.size)===c?e.apply(t):e)}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var s,a,l="",c="function",u=this.escapeExpression;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',!(a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,o,r),data:r}))&&0!==a||(l+=a),l+=' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+u(typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.lists)||!1===s?s:s.unordered)===c?s.apply(e):s)+'" tabindex="-1"><span class="glyphicon glyphicon-list"></span></a>\n    <a class="btn ',!(a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,o,r),data:r}))&&0!==a||(l+=a),l+=' btn-default" data-wysihtml5-command="insertOrderedList" title="'+u(typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.lists)||!1===s?s:s.ordered)===c?s.apply(e):s)+'" tabindex="-1"><span class="glyphicon glyphicon-th-list"></span></a>\n    <a class="btn ',!(a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,o,r),data:r}))&&0!==a||(l+=a),l+=' btn-default" data-wysihtml5-command="Outdent" title="'+u(typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.lists)||!1===s?s:s.outdent)===c?s.apply(e):s)+'" tabindex="-1"><span class="glyphicon glyphicon-indent-right"></span></a>\n    <a class="btn ',!(a=n.if.call(e,null==(s=e&&e.options)||!1===s?s:s.size,{hash:{},inverse:this.noop,fn:this.program(1,o,r),data:r}))&&0!==a||(l+=a),l+' btn-default" data-wysihtml5-command="Indent" title="'+u(typeof(s=null==(s=null==(s=e&&e.locale)||!1===s?s:s.lists)||!1===s?s:s.indent)===c?s.apply(e):s)+'" tabindex="-1"><span class="glyphicon glyphicon-indent-left"></span></a>\n  </div>\n</li>\n'}),"object"==typeof exports&&exports&&(module.exports=this.wysihtml5.tpl),function(h,d){"use strict";function n(t,e){this.el=t;var n=h.extend(!0,{},f,e);for(var i in h.extend(n.shortcuts,f.shortcuts),n.customTemplates)d.tpl[i]=n.customTemplates[i];this.toolbar=this.createToolbar(t,n),this.editor=this.createEditor(n),window.editor=this.editor,h("iframe.wysihtml5-sandbox").each(function(t,e){h(e.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){h("li.dropdown").removeClass("open")}})})}n.prototype={constructor:n,createEditor:function(t){t=t||{},(t=h.extend(!0,{},t)).toolbar=this.toolbar[0];var e=new d.Editor(this.el[0],t);if(this.addMoreShortcuts(e,e.currentView.iframe.contentDocument.body||e.currentView.iframe.contentDocument,t.shortcuts),t&&t.events)for(var n in t.events)e.on(n,t.events[n]);return e},createToolbar:function(t,e){var o=this,n=h("<ul/>",{class:"wysihtml5-toolbar",style:"display:none"}),i=e.locale||f.locale||"en";p.hasOwnProperty(i)||(console.debug("Locale '"+i+"' not found. Available locales are: "+Object.keys(p)+". Falling back to 'en'."),i="en");var r,s,a,l=h.extend(!0,{},p.en,p[i]);for(var c in e){var u=!1;void 0!==e[c]?!0===e[c]&&(u=!0):u=f[c],!0===u&&(n.append((r=c,s=l,a=e,d.tpl[r]?d.tpl[r]({locale:s,options:a}):void 0)),"html"===c&&this.initHtml(n),"link"===c&&this.initInsertLink(n),"image"===c&&this.initInsertImage(n))}if(e.toolbar)for(c in e.toolbar)n.append(e.toolbar[c]);return n.find('a[data-wysihtml5-command="formatBlock"]').click(function(t){var e=t.delegateTarget||t.target||t.srcElement,n=h(e),i=n.data("wysihtml5-display-format-name"),r=n.data("wysihtml5-format-name")||n.html();void 0!==i&&"true"!==i||o.toolbar.find(".current-font").text(r)}),n.find('a[data-wysihtml5-command="foreColor"]').click(function(t){var e=t.target||t.srcElement,n=h(e);o.toolbar.find(".current-color").text(n.html())}),this.el.before(n),n},initHtml:function(t){var e='a[data-wysihtml5-action="change_view"]';t.find(e).click(function(){t.find("a.btn").not(e).toggleClass("disabled")})},initInsertImage:function(t){function e(){var t=o.val();o.val(a),i.editor.currentView.element.focus(),n&&(i.editor.composer.selection.setBookmark(n),n=null),i.editor.composer.commands.exec("insertImage",t)}var n,i=this,r=t.find(".bootstrap-wysihtml5-insert-image-modal"),o=r.find(".bootstrap-wysihtml5-insert-image-url"),s=r.find("a.btn-primary"),a=o.val();o.keypress(function(t){13==t.which&&(e(),r.modal("hide"))}),s.click(e),r.on("shown",function(){o.focus()}),r.on("hide",function(){i.editor.currentView.element.focus()}),t.find("a[data-wysihtml5-command=insertImage]").click(function(){return!!h(this).hasClass("wysihtml5-command-active")||(i.editor.currentView.element.focus(!1),n=i.editor.composer.selection.getBookmark(),r.appendTo("body").modal("show"),r.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})},initInsertLink:function(t){function e(){var t=o.val();o.val(l),i.editor.currentView.element.focus(),n&&(i.editor.composer.selection.setBookmark(n),n=null);var e=s.prop("checked");i.editor.composer.commands.exec("createLink",{href:t,target:e?"_blank":"_self",rel:e?"nofollow":""})}var n,i=this,r=t.find(".bootstrap-wysihtml5-insert-link-modal"),o=r.find(".bootstrap-wysihtml5-insert-link-url"),s=r.find(".bootstrap-wysihtml5-insert-link-target"),a=r.find("a.btn-primary"),l=o.val();o.keypress(function(t){13==t.which&&(e(),r.modal("hide"))}),a.click(e),r.on("shown",function(){o.focus()}),r.on("hide",function(){i.editor.currentView.element.focus()}),t.find("a[data-wysihtml5-command=createLink]").click(function(){return!!h(this).hasClass("wysihtml5-command-active")||(i.editor.currentView.element.focus(!1),n=i.editor.composer.selection.getBookmark(),r.appendTo("body").modal("show"),r.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})},addMoreShortcuts:function(i,t,r){d.dom.observe(t,"keydown",function(t){var e=t.keyCode,n=r[e];(t.ctrlKey||t.metaKey)&&!t.altKey&&n&&d.commands[n]&&(d.commands[n].exec(i.composer,n),t.preventDefault())})}};var i={resetDefaults:function(){h.fn.wysihtml5.defaultOptions=h.extend(!0,{},h.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(e){return this.each(function(){var t=h(this);t.data("wysihtml5",new n(t,e))})},shallowExtend:function(t){var e=h.extend({},h.fn.wysihtml5.defaultOptions,t||{},h(this).data());return i.bypassDefaults.apply(this,[e])},deepExtend:function(t){var e=h.extend(!0,{},h.fn.wysihtml5.defaultOptions,t||{});return i.bypassDefaults.apply(this,[e])},init:function(t){return i.shallowExtend.apply(this,[t])}};h.fn.wysihtml5=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void h.error("Method "+t+" does not exist on jQuery.wysihtml5"):i.init.apply(this,arguments)},h.fn.wysihtml5.Constructor=n;var f=h.fn.wysihtml5.defaultOptions={"font-styles":!0,color:!1,emphasis:!0,blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},emSmall:1,locale:"en",shortcuts:{83:"small"}};void 0===h.fn.wysihtml5.defaultOptionsCache&&(h.fn.wysihtml5.defaultOptionsCache=h.extend(!0,{},h.fn.wysihtml5.defaultOptions));var p=h.fn.wysihtml5.locale={}}(window.jQuery,window.wysihtml5),function(n){n.commands.small={exec:function(t,e){return n.commands.formatInline.exec(t,e,"small")},state:function(t,e){return n.commands.formatInline.state(t,e,"small")},value:function(){}}}(wysihtml5),function(t){t.fn.wysihtml5.locale.en=t.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}(jQuery),function(l){"use strict";function o(t,e,n){if(void 0===t.selectionStart){t.focus();var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i.select()}else t.selectionStart=e,t.selectionEnd=n}function g(t,e){"string"==typeof t[e]&&(t[e]*=1)}function n(t,e){!function(n,i){l.each(i,function(t,e){"function"==typeof e?i[t]=e(n,i,t):"function"==typeof n.autoNumeric[e]&&(i[t]=n.autoNumeric[e](n,i,t))})}(t,e),e.oEvent=null,e.tagList=["B","CAPTION","CITE","CODE","DD","DEL","DIV","DFN","DT","EM","H1","H2","H3","H4","H5","H6","INS","KDB","LABEL","LI","OUTPUT","P","Q","S","SAMPLE","SPAN","STRONG","TD","TH","U","VAR"];var n=e.vMax.toString().split("."),i=e.vMin||0===e.vMin?e.vMin.toString().split("."):[];if(g(e,"vMax"),g(e,"vMin"),g(e,"mDec"),e.allowLeading=!0,e.aNeg=e.vMin<0?"-":"",n[0]=n[0].replace("-",""),i[0]=i[0].replace("-",""),e.mInt=Math.max(n[0].length,i[0].length,1),null===e.mDec){var r=0,o=0;n[1]&&(r=n[1].length),i[1]&&(o=i[1].length),e.mDec=Math.max(r,o)}null===e.altDec&&0<e.mDec&&("."===e.aDec&&","!==e.aSep?e.altDec=",":","===e.aDec&&"."!==e.aSep&&(e.altDec="."));var s=e.aNeg?"([-\\"+e.aNeg+"]?)":"(-?)";e.aNegRegAutoStrip=s,e.skipFirstAutoStrip=new RegExp(s+"[^-"+(e.aNeg?"\\"+e.aNeg:"")+"\\"+e.aDec+"\\d].*?(\\d|\\"+e.aDec+"\\d)"),e.skipLastAutoStrip=new RegExp("(\\d\\"+e.aDec+"?)[^\\"+e.aDec+"\\d]\\D*$");var a="-"+e.aNum+"\\"+e.aDec;return e.allowedAutoStrip=new RegExp("[^"+a+"]","gi"),e.numRegAutoStrip=new RegExp(s+"(?:\\"+e.aDec+"?(\\d+\\"+e.aDec+"\\d+)|(\\d*(?:\\"+e.aDec+"\\d*)?))"),e}function c(t,e,n){if(e.aSign)for(;-1<t.indexOf(e.aSign);)t=t.replace(e.aSign,"");t=(t=(t=t.replace(e.skipFirstAutoStrip,"$1$2")).replace(e.skipLastAutoStrip,"$1")).replace(e.allowedAutoStrip,""),e.altDec&&(t=t.replace(e.altDec,e.aDec));var i=t.match(e.numRegAutoStrip);if(t=i?[i[1],i[2],i[3]].join(""):"",("allow"===e.lZero||"keep"===e.lZero)&&"strip"!==n){var r=[],o="";-1!==(r=t.split(e.aDec))[0].indexOf("-")&&(o="-",r[0]=r[0].replace("-","")),r[0].length>e.mInt&&"0"===r[0].charAt(0)&&(r[0]=r[0].slice(1)),t=o+r.join(e.aDec)}if(n&&"deny"===e.lZero||n&&"allow"===e.lZero&&!1===e.allowLeading){var s="^"+e.aNegRegAutoStrip+"0*(\\d"+("leading"===n?")":"|$)");s=new RegExp(s),t=t.replace(s,"$1$2")}return t}function u(t,e,n){return e=e.split(","),"set"===n||"focusout"===n?(t=t.replace("-",""),t=e[0]+t+e[1]):"get"!==n&&"focusin"!==n&&"pageLoad"!==n||t.charAt(0)!==e[0]||(t=(t=t.replace(e[0],"-")).replace(e[1],"")),t}function s(t,e,n){if(e&&n){var i=t.split(e);i[1]&&i[1].length>n&&(t=0<n?(i[1]=i[1].substring(0,n),i.join(e)):i[0])}return t}function a(t,e,n){return e&&"."!==e&&(t=t.replace(e,".")),n&&"-"!==n&&(t=t.replace(n,"-")),t.match(/\d/)||(t+="0"),t}function h(t,e){var n=t.indexOf("."),i=+t;if(-1!==n)if(i<1e-6&&-1<i)(t=+t)<1e-6&&0<t&&(t=(t=(t+10).toString()).substring(1)),t<0&&-1<t&&(t="-"+(t=(t-10).toString()).substring(2)),t=t.toString();else{var r=t.split(".");void 0!==r[1]&&(t=0==+r[1]?r[0]:(r[1]=r[1].replace(/0*$/,""),r.join(".")))}return"keep"===e.lZero?t:t.replace(/^0*(\d)/,"$1")}function d(t,e,n){return n&&"-"!==n&&(t=t.replace("-",n)),e&&"."!==e&&(t=t.replace(".",e)),t}function f(t,e){var n=+(t=a(t=s(t=c(t,e),e.aDec,e.mDec),e.aDec,e.aNeg));return"set"===e.oEvent&&(n<e.vMin||n>e.vMax)&&l.error("The value ("+n+") from the 'set' method falls outside of the vMin / vMax range"),n>=e.vMin&&n<=e.vMax}function p(t,e,n){return""===t||t===e.aNeg?"zero"===e.wEmpty?t+"0":"sign"===e.wEmpty||n?t+e.aSign:t:null}function m(t,e){var n=(t=c(t,e)).replace(",","."),i=p(t,e,!0);if(null!==i)return i;var r="";r=2===e.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===e.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var o=t.split(e.aDec);e.altDec&&1===o.length&&(o=t.split(e.altDec));var s=o[0];if(e.aSep)for(;r.test(s);)s=s.replace(r,"$1"+e.aSep+"$2");if(t=0!==e.mDec&&1<o.length?(o[1].length>e.mDec&&(o[1]=o[1].substring(0,e.mDec)),s+e.aDec+o[1]):s,e.aSign){var a=-1!==t.indexOf(e.aNeg);t=t.replace(e.aNeg,""),t="p"===e.pSign?e.aSign+t:t+e.aSign,a&&(t=e.aNeg+t)}return"set"===e.oEvent&&n<0&&null!==e.nBracket&&(t=u(t,e.nBracket,e.oEvent)),t}function v(t,e){t=""===t?"0":t.toString(),g(e,"mDec");function n(t){var e=0===s?/(\.[1-9]*)0*$/:1===s?/(\.\d[1-9]*)0*$/:new RegExp("(\\.\\d{"+s+"}[1-9]*)0*$");return t=t.replace(e,"$1"),0===s&&(t=t.replace(/\.$/,"")),t}var i="",r=0,o="",s="boolean"==typeof e.aPad||null===e.aPad?e.aPad?e.mDec:0:+e.aPad;"-"===t.charAt(0)&&(o="-",t=t.replace("-","")),t.match(/^\d/)||(t="0"+t),"-"===o&&0==+t&&(o=""),(0<+t&&"keep"!==e.lZero||0<t.length&&"allow"===e.lZero)&&(t=t.replace(/^0*(\d)/,"$1"));var a=t.lastIndexOf("."),l=-1===a?t.length-1:a,c=t.length-1-l;if(c<=e.mDec){if(i=t,c<s)for(-1===a&&(i+=".");c<s;){var u="000000".substring(0,s-c);i+=u,c+=u.length}else s<c?i=n(i):0===c&&0===s&&(i=i.replace(/\.$/,""));return o+i}var h=a+e.mDec,d=+t.charAt(h+1),f=t.substring(0,h+1).split(""),p="."===t.charAt(h)?t.charAt(h-1)%2:t.charAt(h)%2;if(4<d&&"S"===e.mRound||4<d&&"A"===e.mRound&&""===o||5<d&&"A"===e.mRound&&"-"===o||5<d&&"s"===e.mRound||5<d&&"a"===e.mRound&&""===o||4<d&&"a"===e.mRound&&"-"===o||5<d&&"B"===e.mRound||5==d&&"B"===e.mRound&&1==p||0<d&&"C"===e.mRound&&""===o||0<d&&"F"===e.mRound&&"-"===o||0<d&&"U"===e.mRound)for(r=f.length-1;0<=r;r-=1)if("."!==f[r]){if(f[r]=+f[r]+1,f[r]<10)break;0<r&&(f[r]="0")}return 0==+(i=n((f=f.slice(0,h+1)).join("")))?i:o+i}function y(t,e){this.settings=e,this.that=t,this.$that=l(t),this.formatted=!1,this.settingsClone=n(this.$that,this.settings),this.value=t.value}function b(t){return"string"==typeof t&&(t="#"+(t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).replace(/(:|\.)/g,"\\$1")),l(t)}function w(t,e,n){var i=t.data("autoNumeric");i||(i={},t.data("autoNumeric",i));var r=i.holder;return(void 0===r&&e||n)&&(r=new y(t.get(0),e),i.holder=r),r}y.prototype={init:function(t){this.value=this.that.value,this.settingsClone=n(this.$that,this.settings),this.ctrlKey=t.ctrlKey,this.cmdKey=t.metaKey,this.shiftKey=t.shiftKey,this.selection=function(t){var e={};if(void 0===t.selectionStart){t.focus();var n=document.selection.createRange();e.length=n.text.length,n.moveStart("character",-t.value.length),e.end=n.text.length,e.start=e.end-e.length}else e.start=t.selectionStart,e.end=t.selectionEnd,e.length=e.end-e.start;return e}(this.that),"keydown"!==t.type&&"keyup"!==t.type||(this.kdCode=t.keyCode),this.which=t.which,this.processed=!1,this.formatted=!1},setSelection:function(t,e,n){t=Math.max(t,0),e=Math.min(e,this.that.value.length),this.selection={start:t,end:e,length:e-t},void 0!==n&&!n||o(this.that,t,e)},setPosition:function(t,e){this.setSelection(t,t,e)},getBeforeAfter:function(){var t=this.value;return[t.substring(0,this.selection.start),t.substring(this.selection.end,t.length)]},getBeforeAfterStriped:function(){var t=this.getBeforeAfter();return t[0]=c(t[0],this.settingsClone),t[1]=c(t[1],this.settingsClone),t},normalizeParts:function(t,e){var n=this.settingsClone;""!==(t=c(t,n,!!(e=c(e,n)).match(/^\d/)||"leading"))&&t!==n.aNeg||"deny"!==n.lZero||""<e&&(e=e.replace(/^0*(\d)/,"$1"));var i=t+e;if(n.aDec){var r=i.match(new RegExp("^"+n.aNegRegAutoStrip+"\\"+n.aDec));r&&(i=(t=t.replace(r[1],r[1]+"0"))+e)}return"zero"!==n.wEmpty||i!==n.aNeg&&""!==i||(t+="0"),[t,e]},setValueParts:function(t,e){var n=this.settingsClone,i=this.normalizeParts(t,e),r=i.join(""),o=i[0].length;return!!f(r,n)&&(o>(r=s(r,n.aDec,n.mDec)).length&&(o=r.length),this.value=r,this.setPosition(o,!1),!0)},signPosition:function(){var t=this.settingsClone,e=t.aSign,n=this.that;if(e){var i=e.length;if("p"===t.pSign)return t.aNeg&&n.value&&n.value.charAt(0)===t.aNeg?[1,i+1]:[0,i];var r=n.value.length;return[r-i,r]}return[1e3,-1]},expandSelectionOnSign:function(t){var e=this.signPosition(),n=this.selection;n.start<e[1]&&n.end>e[0]&&((n.start<e[0]||n.end>e[1])&&this.value.substring(Math.max(n.start,e[0]),Math.min(n.end,e[1])).match(/^\s*$/)?n.start<e[0]?this.setSelection(n.start,e[0],t):this.setSelection(e[1],n.end,t):this.setSelection(Math.min(n.start,e[0]),Math.max(n.end,e[1]),t))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var t=this.getBeforeAfter(),e=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,t[0]=t[0].substr(0,e[0].length)+c(t[0].substr(e[0].length),this.settingsClone),this.setValueParts(t[0],t[1])||(this.value=e.join(""),this.setPosition(e[0].length,!1))}},skipAllways:function(t){var e=this.kdCode,n=this.which,i=this.ctrlKey,r=this.cmdKey,o=this.shiftKey;if((i||r)&&"keyup"===t.type&&void 0!==this.valuePartsBeforePaste||o&&45===e)return this.checkPaste(),!1;if(112<=e&&e<=123||91<=e&&e<=93||9<=e&&e<=31||e<8&&(0===n||n===e)||144===e||145===e||45===e)return!0;if((i||r)&&65===e)return!0;if((i||r)&&(67===e||86===e||88===e))return"keydown"===t.type&&this.expandSelectionOnSign(),86!==e&&45!==e||("keydown"===t.type||"keypress"===t.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===t.type||"keypress"===t.type||67===e;if(i||r)return!0;if(37!==e&&39!==e)return 34<=e&&e<=40;var s=this.settingsClone.aSep,a=this.selection.start,l=this.that.value;return"keydown"===t.type&&s&&!this.shiftKey&&(37===e&&l.charAt(a-2)===s?this.setPosition(a-1):39===e&&l.charAt(a+1)===s&&this.setPosition(a+1)),!0},processAllways:function(){var t;return(8===this.kdCode||46===this.kdCode)&&(this.selection.length?(this.expandSelectionOnSign(!1),t=this.getBeforeAfterStriped()):(t=this.getBeforeAfterStriped(),8===this.kdCode?t[0]=t[0].substring(0,t[0].length-1):t[1]=t[1].substring(1,t[1].length)),this.setValueParts(t[0],t[1]),!0)},processKeypress:function(){var t=this.settingsClone,e=String.fromCharCode(this.which),n=this.getBeforeAfterStriped(),i=n[0],r=n[1];return e===t.aDec||t.altDec&&e===t.altDec||("."===e||","===e)&&110===this.kdCode?t.mDec&&t.aDec&&(t.aNeg&&-1<r.indexOf(t.aNeg)||-1<i.indexOf(t.aDec)||0<r.indexOf(t.aDec)||(0===r.indexOf(t.aDec)&&(r=r.substr(1)),this.setValueParts(i+t.aDec,r))):"-"===e||"+"===e?t.aNeg&&(""===i&&-1<r.indexOf(t.aNeg)&&(i=t.aNeg,r=r.substring(1,r.length)),i=i.charAt(0)===t.aNeg?i.substring(1,i.length):"-"===e?t.aNeg+i:i,this.setValueParts(i,r)):"0"<=e&&e<="9"&&(t.aNeg&&""===i&&-1<r.indexOf(t.aNeg)&&(i=t.aNeg,r=r.substring(1,r.length)),t.vMax<=0&&t.vMin<t.vMax&&-1===this.value.indexOf(t.aNeg)&&"0"!==e&&(i=t.aNeg+i),this.setValueParts(i+e,r)),!0},formatQuick:function(){var t=this.settingsClone,e=this.getBeforeAfterStriped(),n=this.value;if((""===t.aSep||""!==t.aSep&&-1===n.indexOf(t.aSep))&&(""===t.aSign||""!==t.aSign&&-1===n.indexOf(t.aSign))){var i=[],r="";-1<(i=n.split(t.aDec))[0].indexOf("-")&&(r="-",i[0]=i[0].replace("-",""),e[0]=e[0].replace("-","")),i[0].length>t.mInt&&"0"===e[0].charAt(0)&&(e[0]=e[0].slice(1)),e[0]=r+e[0]}var o=m(this.value,this.settingsClone),s=o.length;if(o){for(var a=e[0].split(""),l=0;l<a.length;l+=1)a[l].match("\\d")||(a[l]="\\"+a[l]);var c=new RegExp("^.*?"+a.join(".*?")),u=o.match(c);u?(0===(s=u[0].length)&&o.charAt(0)!==t.aNeg||1===s&&o.charAt(0)===t.aNeg)&&t.aSign&&"p"===t.pSign&&(s=this.settingsClone.aSign.length+("-"===o.charAt(0)?1:0)):t.aSign&&"s"===t.pSign&&(s-=t.aSign.length)}this.that.value=o,this.setPosition(s),this.formatted=!0}};var e={init:function(r){return this.each(function(){var s=l(this),t=s.data("autoNumeric"),e=s.data();if("object"==typeof t)return this;if((t=l.extend({},{aNum:"0123456789",aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"999999999.99",vMin:"0.00",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",aForm:!0,onSomeEvent:function(){}},e,r)).aDec===t.aSep)return l.error("autoNumeric will not function properly when the decimal character aDec: '"+t.aDec+"' and thousand separator aSep: '"+t.aSep+"' are the same character"),this;s.data("autoNumeric",t),t.lastSetValue="",t.runOnce=!1;var n=w(s,t);if(-1===l.inArray(s.prop("tagName"),t.tagList)&&"INPUT"!==s.prop("tagName"))return l.error("The <"+s.prop("tagName")+"> is not supported by autoNumeric()"),this;if(!1===t.runOnce&&t.aForm){if(s.is("input[type=text], input[type=hidden], input:not([type])")){var i=!0;""===s[0].value&&"empty"===t.wEmpty&&(s[0].value="",i=!1),""===s[0].value&&"sign"===t.wEmpty&&(s[0].value=t.aSign,i=!1),i&&s.autoNumeric("set",s.val())}-1!==l.inArray(s.prop("tagName"),t.tagList)&&""!==s.text()&&s.autoNumeric("set",s.text())}t.runOnce=!0,s.is("input[type=text], input[type=hidden], input:not([type])")&&(s.on("keydown.autoNumeric",function(t){return(n=w(s)).settings.aDec===n.settings.aSep?(l.error("autoNumeric will not function properly when the decimal character aDec: '"+n.settings.aDec+"' and thousand separator aSep: '"+n.settings.aSep+"' are the same character"),this):n.that.readOnly?n.processed=!0:(n.init(t),n.settings.oEvent="keydown",n.skipAllways(t)?n.processed=!0:n.processAllways()?(n.processed=!0,n.formatQuick(),t.preventDefault(),!1):!(n.formatted=!1))}),s.on("keypress.autoNumeric",function(t){var e=w(s),n=e.processed;return e.init(t),e.settings.oEvent="keypress",!!e.skipAllways(t)||(n?(t.preventDefault(),!1):e.processAllways()||e.processKeypress()?(e.formatQuick(),t.preventDefault(),!1):void(e.formatted=!1))}),s.on("keyup.autoNumeric",function(t){var e=w(s);e.init(t),e.settings.oEvent="keyup";var n=e.skipAllways(t);return e.kdCode=0,delete e.valuePartsBeforePaste,s[0].value===e.settings.aSign&&("s"===e.settings.pSign?o(this,0,0):o(this,e.settings.aSign.length,e.settings.aSign.length)),!!n||(""===this.value||void(e.formatted||e.formatQuick()))}),s.on("focusin.autoNumeric",function(){var t=w(s);if(t.settingsClone.oEvent="focusin",null!==t.settingsClone.nBracket){var e=s.val();s.val(u(e,t.settingsClone.nBracket,t.settingsClone.oEvent))}t.inVal=s.val();var n=p(t.inVal,t.settingsClone,!0);null!==n&&(s.val(n),"s"===t.settings.pSign?o(this,0,0):o(this,t.settings.aSign.length,t.settings.aSign.length))}),s.on("focusout.autoNumeric",function(){var t=w(s),e=t.settingsClone,n=s.val(),i=n;t.settingsClone.oEvent="focusout";var r="";"allow"===e.lZero&&(e.allowLeading=!1,r="leading"),""!==n&&(n=null===p(n=c(n,e,r),e)&&f(n,e,s[0])?d(n=v(n=a(n,e.aDec,e.aNeg),e),e.aDec,e.aNeg):"");var o=p(n,e,!1);null===o&&(o=m(n,e)),o!==i&&s.val(o),o!==t.inVal&&(s.change(),delete t.inVal),null!==e.nBracket&&s.autoNumeric("get")<0&&(t.settingsClone.oEvent="focusout",s.val(u(s.val(),e.nBracket,e.oEvent)))}))})},destroy:function(){return l(this).each(function(){var t=l(this);t.off(".autoNumeric"),t.removeData("autoNumeric")})},update:function(i){return l(this).each(function(){var t=b(l(this)),e=t.data("autoNumeric");if("object"!=typeof e)return l.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method"),this;var n=t.autoNumeric("get");return w(t,e=l.extend(e,i),!0),e.aDec===e.aSep?(l.error("autoNumeric will not function properly when the decimal character aDec: '"+e.aDec+"' and thousand separator aSep: '"+e.aSep+"' are the same character"),this):(t.data("autoNumeric",e),""!==t.val()||""!==t.text()?t.autoNumeric("set",n):void 0)})},set:function(r){return l(this).each(function(){var t=b(l(this)),e=t.data("autoNumeric"),n=r.toString(),i=r.toString();return"object"!=typeof e?(l.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),this):(i===t.attr("value")&&(n=n.replace(",",".")),i!==t.attr("value")&&!1===e.runOnce&&(n=c(n,e)),l.isNumeric(+n)?(n=h(n,e),e.oEvent="set",(e.lastSetValue=n).toString(),""!==n&&(n=v(n,e)),f(n=d(n,e.aDec,e.aNeg),e)||(n=v("",e)),n=m(n,e),t.is("input[type=text], input[type=hidden], input:not([type])")?t.val(n):-1!==l.inArray(t.prop("tagName"),e.tagList)?t.text(n):(l.error("The <"+t.prop("tagName")+"> is not supported by autoNumeric()"),!1)):"")})},get:function(){var t=b(l(this)),e=t.data("autoNumeric");if("object"!=typeof e)return l.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method"),this;e.oEvent="get";var n="";if(t.is("input[type=text], input[type=hidden], input:not([type])"))n=t.eq(0).val();else{if(-1===l.inArray(t.prop("tagName"),e.tagList))return l.error("The <"+t.prop("tagName")+"> is not supported by autoNumeric()"),!1;n=t.eq(0).text()}return""===n&&"empty"===e.wEmpty||n===e.aSign&&("sign"===e.wEmpty||"empty"===e.wEmpty)?"":(null!==e.nBracket&&""!==n&&(n=u(n,e.nBracket,e.oEvent)),!e.runOnce&&!1!==e.aForm||(n=c(n,e)),0==+(n=a(n,e.aDec,e.aNeg))&&"keep"!==e.lZero&&(n="0"),"keep"===e.lZero?n:n=h(n,e))},getString:function(){for(var t=!1,e=b(l(this)).serialize().split("&"),n=0;n<e.length;n+=1){var i=e[n].split("=");"object"==typeof l('*[name="'+decodeURIComponent(i[0])+'"]').data("autoNumeric")&&null!==i[1]&&void 0!==l('*[name="'+decodeURIComponent(i[0])+'"]').data("autoNumeric")&&(i[1]=l('input[name="'+decodeURIComponent(i[0])+'"]').autoNumeric("get"),e[n]=i.join("="),t=!0)}return!0===t?e.join("&"):(l.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),this)},getArray:function(){var n=!1,t=b(l(this)).serializeArray();return l.each(t,function(t,e){"object"==typeof l('*[name="'+decodeURIComponent(e.name)+'"]').data("autoNumeric")&&(""!==e.value&&void 0!==l('*[name="'+decodeURIComponent(e.name)+'"]').data("autoNumeric")&&(e.value=l('input[name="'+decodeURIComponent(e.name)+'"]').autoNumeric("get").toString()),n=!0)}),!0===n?t:(l.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getArray' method"),this)},getSettings:function(){return b(l(this)).eq(0).data("autoNumeric")}};l.fn.autoNumeric=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void l.error('Method "'+t+'" is not supported by autoNumeric()'):e.init.apply(this,arguments)}}(jQuery),function(){function s(t,e,n){var i=s.resolve(t);if(null==i){n=n||t,e=e||"root";var r=new Error('Failed to require "'+n+'" from "'+e+'"');throw r.path=n,r.parent=e,r.require=!0,r}var o=s.modules[i];return o.exports||(o.exports={},o.client=o.component=!0,o.call(this,o.exports,s.relative(i),o)),o.exports}s.modules={},s.aliases={},s.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var e=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],n=0;n<e.length;n++){t=e[n];if(s.modules.hasOwnProperty(t))return t;if(s.aliases.hasOwnProperty(t))return s.aliases[t]}},s.normalize=function(t,e){var n=[];if("."!=e.charAt(0))return e;t=t.split("/"),e=e.split("/");for(var i=0;i<e.length;++i)".."==e[i]?t.pop():"."!=e[i]&&""!=e[i]&&n.push(e[i]);return t.concat(n).join("/")},s.register=function(t,e){s.modules[t]=e},s.alias=function(t,e){if(!s.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');s.aliases[e]=t},s.relative=function(r){function e(t){return s(e.resolve(t),r,t)}var o=s.normalize(r,"..");return e.resolve=function(t){var e=t.charAt(0);if("/"==e)return t.slice(1);if("."==e)return s.normalize(o,t);var n=r.split("/"),i=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}(n,"deps")+1;return i=i||0,n.slice(0,i+1).join("/")+"/deps/"+t},e.exists=function(t){return s.modules.hasOwnProperty(e.resolve(t))},e},s.register("component-emitter/index.js",function(t,e,n){function i(t){return t?function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t):void 0}(n.exports=i).prototype.on=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){i.off(t,n),e.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},e._off=n,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=function(t,e){this._callbacks=this._callbacks||{};var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;var i=n.indexOf(e._off||e);return~i&&n.splice(i,1),this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),s.register("dropzone/index.js",function(t,e,n){n.exports=e("./lib/dropzone.js")}),s.register("dropzone/lib/dropzone.js",function(t,l,c){(function(){var s,t,e,n,i,r,T,o={}.hasOwnProperty,a=[].slice;function M(t,e){var n,i,r;if(this.element=t,this.version=M.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(M.instances.push(this),t.dropzone=this,n=null!=(r=M.optionsForElement(this.element))?r:{},this.options=T({},this.defaultOptions,n,null!=e?e:{}),this.options.forceFallback||!M.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(i=this.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i),this.previewsContainer=this.options.previewsContainer?M.getElement(this.options.previewsContainer,"previewsContainer"):this.element,this.options.clickable&&(this.clickableElements=!0===this.options.clickable?[this.element]:M.getElements(this.options.clickable,"clickable")),this.init()}t="undefined"!=typeof Emitter&&null!==Emitter?Emitter:l("emitter"),i=function(){},function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(M,t),M.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","selectedfiles","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded"],M.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can only upload {{maxFiles}} files.",accept:function(t,e){return e()},init:function(){return i},forceFallback:!1,fallback:function(){var t,e,n,i,r,o;for(this.element.className=this.element.className+" dz-browser-not-supported",i=0,r=(o=this.element.getElementsByTagName("div")).length;i<r;i++)t=o[i],/(^| )dz-message($| )/.test(t.className)&&((e=t).className="dz-message");return e||(e=M.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),(n=e.getElementsByTagName("span")[0])&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,n,i;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},n=t.width/t.height,i=this.options.thumbnailWidth/this.options.thumbnailHeight,t.height<this.options.thumbnailHeight||t.width<this.options.thumbnailWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):i<n?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*i):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/i),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:i,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},selectedfiles:function(){return this.element===this.previewsContainer?this.element.classList.add("dz-started"):void 0},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var n=this;return e.previewElement=M.createElement(this.options.previewTemplate),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),e.previewElement.querySelector("[data-dz-name]").textContent=e.name,e.previewElement.querySelector("[data-dz-size]").innerHTML=this.filesize(e.size),this.options.addRemoveLinks&&(e._removeLink=M.createElement('<a class="dz-remove" href="javascript:undefined;">'+this.options.dictRemoveFile+"</a>"),e._removeLink.addEventListener("click",function(t){return t.preventDefault(),t.stopPropagation(),e.status===M.UPLOADING?M.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(e)}):n.options.dictRemoveFileConfirmation?M.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(e)}):n.removeFile(e)}),e.previewElement.appendChild(e._removeLink)),this._updateMaxFilesReachedClass()},removedfile:function(t){var e;return null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var n;return t.previewElement.classList.remove("dz-file-preview"),t.previewElement.classList.add("dz-image-preview"),(n=t.previewElement.querySelector("[data-dz-thumbnail]")).alt=t.name,n.src=e},error:function(t,e){return t.previewElement.classList.add("dz-error"),t.previewElement.querySelector("[data-dz-errormessage]").textContent=e},errormultiple:i,processing:function(t){return t.previewElement.classList.add("dz-processing"),t._removeLink?t._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:i,uploadprogress:function(t,e){return t.previewElement.querySelector("[data-dz-uploadprogress]").style.width=e+"%"},totaluploadprogress:i,sending:i,sendingmultiple:i,success:function(t){return t.previewElement.classList.add("dz-success")},successmultiple:i,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:i,complete:function(t){return t._removeLink?t._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:i,maxfilesexceeded:i,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},T=function(){var t,e,n,i,r,o,s;for(i=arguments[0],o=0,s=(n=2<=arguments.length?a.call(arguments,1):[]).length;o<s;o++)for(t in e=n[o])r=e[t],i[t]=r;return i},M.prototype.getAcceptedFiles=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.files).length;e<n;e++)(t=i[e]).accepted&&r.push(t);return r},M.prototype.getRejectedFiles=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.files).length;e<n;e++)(t=i[e]).accepted||r.push(t);return r},M.prototype.getQueuedFiles=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.files).length;e<n;e++)(t=i[e]).status===M.QUEUED&&r.push(t);return r},M.prototype.getUploadingFiles=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.files).length;e<n;e++)(t=i[e]).status===M.UPLOADING&&r.push(t);return r},M.prototype.init=function(){var t,e,n,i,r,o,s,a=this;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(M.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(){return a.hiddenFileInput&&document.body.removeChild(a.hiddenFileInput),a.hiddenFileInput=document.createElement("input"),a.hiddenFileInput.setAttribute("type","file"),a.hiddenFileInput.setAttribute("multiple","multiple"),null!=a.options.acceptedFiles&&a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles),a.hiddenFileInput.style.visibility="hidden",a.hiddenFileInput.style.position="absolute",a.hiddenFileInput.style.top="0",a.hiddenFileInput.style.left="0",a.hiddenFileInput.style.height="0",a.hiddenFileInput.style.width="0",document.body.appendChild(a.hiddenFileInput),a.hiddenFileInput.addEventListener("change",function(){var t;return(t=a.hiddenFileInput.files).length&&(a.emit("selectedfiles",t),a.handleFiles(t)),n()})})(),this.URL=null!=(o=window.URL)?o:window.webkitURL,i=0,r=(s=this.events).length;i<r;i++)t=s[i],this.on(t,this.options[t]);return this.on("uploadprogress",function(){return a.updateTotalUploadProgress()}),this.on("removedfile",function(){return a.updateTotalUploadProgress()}),this.on("canceled",function(t){return a.emit("complete",t)}),e=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return a.emit("dragstart",t)},dragenter:function(t){return e(t),a.emit("dragenter",t)},dragover:function(t){return e(t),a.emit("dragover",t)},dragleave:function(t){return a.emit("dragleave",t)},drop:function(t){return e(t),a.drop(t)},dragend:function(t){return a.emit("dragend",t)}}}],this.clickableElements.forEach(function(e){return a.listeners.push({element:e,events:{click:function(t){return e!==a.element||t.target===a.element||M.elementInside(t.target,a.element.querySelector(".dz-message"))?a.hiddenFileInput.click():void 0}}})}),this.enable(),this.options.init.call(this)},M.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone},M.prototype.updateTotalUploadProgress=function(){var t,e,n,i,r,o,s;if(e=n=0,this.getAcceptedFiles().length){for(r=0,o=(s=this.getAcceptedFiles()).length;r<o;r++)n+=(t=s[r]).upload.bytesSent,e+=t.upload.total;i=100*n/e}else i=100;return this.emit("totaluploadprogress",i,e,n)},M.prototype.getFallbackForm=function(){var t,e,n,i;return(t=this.getExistingFallback())?t:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><button type="submit">Upload!</button></div>',e=M.createElement(n),"FORM"!==this.element.tagName?(i=M.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(e):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:e)},M.prototype.getExistingFallback=function(){var t,e,n,i,r,o;for(e=function(t){var e,n,i;for(n=0,i=t.length;n<i;n++)if(e=t[n],/(^| )fallback($| )/.test(e.className))return e},i=0,r=(o=["div","form"]).length;i<r;i++)if(n=o[i],t=e(this.element.getElementsByTagName(n)))return t},M.prototype.setupEventListeners=function(){var n,i,r,t,e,o,s;for(s=[],t=0,e=(o=this.listeners).length;t<e;t++)n=o[t],s.push(function(){var t,e;for(i in e=[],t=n.events)r=t[i],e.push(n.element.addEventListener(i,r,!1));return e}());return s},M.prototype.removeEventListeners=function(){var n,i,r,t,e,o,s;for(s=[],t=0,e=(o=this.listeners).length;t<e;t++)n=o[t],s.push(function(){var t,e;for(i in e=[],t=n.events)r=t[i],e.push(n.element.removeEventListener(i,r,!1));return e}());return s},M.prototype.disable=function(){var t,e,n,i,r;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),r=[],e=0,n=(i=this.files).length;e<n;e++)t=i[e],r.push(this.cancelUpload(t));return r},M.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},M.prototype.filesize=function(t){var e;return e=1e11<=t?(t/=1e11,"TB"):1e8<=t?(t/=1e8,"GB"):1e5<=t?(t/=1e5,"MB"):100<=t?(t/=100,"KB"):(t*=10,"b"),"<strong>"+Math.round(t)/10+"</strong> "+e},M.prototype._updateMaxFilesReachedClass=function(){return this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?this.element.classList.add("dz-max-files-reached"):this.element.classList.remove("dz-max-files-reached")},M.prototype.drop=function(t){var e,n;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,this.emit("selectedfiles",e),e.length&&((n=t.dataTransfer.items)&&n.length&&(null!=n[0].webkitGetAsEntry||null!=n[0].getAsEntry)?this.handleItems(n):this.handleFiles(e)))},M.prototype.handleFiles=function(t){var e,n,i,r;for(r=[],n=0,i=t.length;n<i;n++)e=t[n],r.push(this.addFile(e));return r},M.prototype.handleItems=function(t){var e,n,i,r;for(i=0,r=t.length;i<r;i++)null!=(n=t[i]).webkitGetAsEntry?(e=n.webkitGetAsEntry()).isFile?this.addFile(n.getAsFile()):e.isDirectory&&this.addDirectory(e,e.name):this.addFile(n.getAsFile())},M.prototype.accept=function(t,e){return t.size>1048576*this.options.maxFilesize?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):M.isValidFile(t,this.options.acceptedFiles)?this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},M.prototype.addFile=function(e){var n=this;return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=M.ADDED,this.emit("addedfile",e),this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1048576*this.options.maxThumbnailFilesize&&this.createThumbnail(e),this.accept(e,function(t){return t?(e.accepted=!1,n._errorProcessing([e],t)):n.enqueueFile(e)})},M.prototype.enqueueFiles=function(t){var e,n,i;for(n=0,i=t.length;n<i;n++)e=t[n],this.enqueueFile(e);return null},M.prototype.enqueueFile=function(t){var e=this;if(t.accepted=!0,t.status!==M.ADDED)throw new Error("This file can't be queued because it has already been processed or was rejected.");return t.status=M.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return e.processQueue()},1):void 0},M.prototype.addDirectory=function(i,r){var t,o=this;return t=function(t){var e,n;for(e=0,n=t.length;e<n;e++)(i=t[e]).isFile?i.file(function(t){return o.options.ignoreHiddenFiles&&"."===t.name.substring(0,1)?void 0:(t.fullPath=r+"/"+t.name,o.addFile(t))}):i.isDirectory&&o.addDirectory(i,r+"/"+i.name)},i.createReader().readEntries(t,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0})},M.prototype.removeFile=function(t){return t.status===M.UPLOADING&&this.cancelUpload(t),this.files=r(this.files,t),this.emit("removedfile",t),0===this.files.length?this.emit("reset"):void 0},M.prototype.removeAllFiles=function(t){var e,n,i,r;for(null==t&&(t=!1),n=0,i=(r=this.files.slice()).length;n<i;n++)(e=r[n]).status===M.UPLOADING&&!t||this.removeFile(e);return null},M.prototype.createThumbnail=function(c){var t,u=this;return(t=new FileReader).onload=function(){var l;return(l=new Image).onload=function(){var t,e,n,i,r,o,s,a;return c.width=l.width,c.height=l.height,null==(n=u.options.resize.call(u,c)).trgWidth&&(n.trgWidth=u.options.thumbnailWidth),null==n.trgHeight&&(n.trgHeight=u.options.thumbnailHeight),e=(t=document.createElement("canvas")).getContext("2d"),t.width=n.trgWidth,t.height=n.trgHeight,e.drawImage(l,null!=(r=n.srcX)?r:0,null!=(o=n.srcY)?o:0,n.srcWidth,n.srcHeight,null!=(s=n.trgX)?s:0,null!=(a=n.trgY)?a:0,n.trgWidth,n.trgHeight),i=t.toDataURL("image/png"),u.emit("thumbnail",c,i)},l.src=t.result},t.readAsDataURL(c)},M.prototype.processQueue=function(){var t,e,n,i;if(!((e=this.options.parallelUploads)<=(t=n=this.getUploadingFiles().length))&&0<(i=this.getQueuedFiles()).length){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-n));for(;t<e;){if(!i.length)return;this.processFile(i.shift()),t++}}},M.prototype.processFile=function(t){return this.processFiles([t])},M.prototype.processFiles=function(t){var e,n,i;for(n=0,i=t.length;n<i;n++)(e=t[n]).processing=!0,e.status=M.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},M.prototype._getFilesWithXhr=function(r){var o;return function(){var t,e,n,i;for(i=[],t=0,e=(n=this.files).length;t<e;t++)(o=n[t]).xhr===r&&i.push(o);return i}.call(this)},M.prototype.cancelUpload=function(t){var e,n,i,r,o,s,a;if(t.status===M.UPLOADING){for(i=0,o=(n=this._getFilesWithXhr(t.xhr)).length;i<o;i++)(e=n[i]).status=M.CANCELED;for(t.xhr.abort(),r=0,s=n.length;r<s;r++)e=n[r],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(a=t.status)!==M.ADDED&&a!==M.QUEUED||(t.status=M.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));return this.options.autoProcessQueue?this.processQueue():void 0},M.prototype.uploadFile=function(t){return this.uploadFiles([t])},M.prototype.uploadFiles=function(u){var h,t,n,e,i,r,o,s,a,l,c,d,f,p,g,m,v,y,b,w,x,_,C,k,S,D,E=this;for(p=new XMLHttpRequest,g=0,b=u.length;g<b;g++)(h=u[g]).xhr=p;for(e in p.open(this.options.method,this.options.url,!0),p.withCredentials=!!this.options.withCredentials,c=null,n=function(){var t,e,n;for(n=[],t=0,e=u.length;t<e;t++)h=u[t],n.push(E._errorProcessing(u,c||E.options.dictResponseError.replace("{{statusCode}}",p.status),p));return n},d=function(t){var e,n,i,r,o,s,a,l,c;if(null!=t)for(n=100*t.loaded/t.total,i=0,s=u.length;i<s;i++)(h=u[i]).upload={progress:n,total:t.total,bytesSent:t.loaded};else{for(e=!0,n=100,r=0,a=u.length;r<a;r++)100===(h=u[r]).upload.progress&&h.upload.bytesSent===h.upload.total||(e=!1),h.upload.progress=n,h.upload.bytesSent=h.upload.total;if(e)return}for(c=[],o=0,l=u.length;o<l;o++)h=u[o],c.push(E.emit("uploadprogress",h,n,h.upload.bytesSent));return c},p.onload=function(e){var t;if(u[0].status!==M.CANCELED&&4===p.readyState){if(c=p.responseText,p.getResponseHeader("content-type")&&~p.getResponseHeader("content-type").indexOf("application/json"))try{c=JSON.parse(c)}catch(t){e=t,c="Invalid JSON response from server."}return d(),200<=(t=p.status)&&t<300?E._finished(u,c,e):n()}},p.onerror=function(){return u[0].status!==M.CANCELED?n():void 0},(null!=(C=p.upload)?C:p).onprogress=d,r={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&T(r,this.options.headers),r)i=r[e],p.setRequestHeader(e,i);if(t=new FormData,this.options.params)for(l in k=this.options.params)f=k[l],t.append(l,f);for(m=0,w=u.length;m<w;m++)h=u[m],this.emit("sending",h,p,t);if(this.options.uploadMultiple&&this.emit("sendingmultiple",u,p,t),"FORM"===this.element.tagName)for(v=0,x=(S=this.element.querySelectorAll("input, textarea, select, button")).length;v<x;v++)s=(o=S[v]).getAttribute("name"),(!(a=o.getAttribute("type"))||"checkbox"!==(D=a.toLowerCase())&&"radio"!==D||o.checked)&&t.append(s,o.value);for(y=0,_=u.length;y<_;y++)h=u[y],t.append(this.options.paramName+(this.options.uploadMultiple?"[]":""),h,h.name);return p.send(t)},M.prototype._finished=function(t,e,n){var i,r,o;for(r=0,o=t.length;r<o;r++)(i=t[r]).status=M.SUCCESS,this.emit("success",i,e,n),this.emit("complete",i);return this.options.uploadMultiple&&(this.emit("successmultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},M.prototype._errorProcessing=function(t,e,n){var i,r,o;for(r=0,o=t.length;r<o;r++)(i=t[r]).status=M.ERROR,this.emit("error",i,e,n),this.emit("complete",i);return this.options.uploadMultiple&&(this.emit("errormultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},(s=M).version="3.7.1",s.options={},s.optionsForElement=function(t){return t.id?s.options[e(t.id)]:void 0},s.instances=[],s.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},s.autoDiscover=!0,s.discover=function(){var t,e,o,n,i,r;for(document.querySelectorAll?o=document.querySelectorAll(".dropzone"):(o=[],(t=function(t){var e,n,i,r;for(r=[],n=0,i=t.length;n<i;n++)e=t[n],/(^| )dropzone($| )/.test(e.className)?r.push(o.push(e)):r.push(void 0);return r})(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),r=[],n=0,i=o.length;n<i;n++)e=o[n],!1!==s.optionsForElement(e)?r.push(new s(e)):r.push(void 0);return r},s.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],s.isBrowserSupported=function(){var t,e,n,i;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(e=0,n=(i=s.blacklistedBrowsers).length;e<n;e++)i[e].test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},r=function(t,e){var n,i,r,o;for(o=[],i=0,r=t.length;i<r;i++)(n=t[i])!==e&&o.push(n);return o},e=function(t){return t.replace(/[\-_](\w)/g,function(t){return t[1].toUpperCase()})},s.createElement=function(t){var e;return(e=document.createElement("div")).innerHTML=t,e.childNodes[0]},s.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},s.getElement=function(t,e){var n;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},s.getElements=function(t,e){var n,i,r,o,s,a,l;if(t instanceof Array){i=[];try{for(r=0,s=t.length;r<s;r++)n=t[r],i.push(this.getElement(n,e))}catch(t){t,i=null}}else if("string"==typeof t)for(i=[],o=0,a=(l=document.querySelectorAll(t)).length;o<a;o++)n=l[o],i.push(n);else null!=t.nodeType&&(i=[t]);if(null==i||!i.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},s.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},s.isValidFile=function(t,e){var n,i,r,o,s;if(!e)return!0;for(e=e.split(","),n=(i=t.type).replace(/\/.*$/,""),o=0,s=e.length;o<s;o++)if("."===(r=(r=e[o]).trim()).charAt(0)){if(-1!==t.name.indexOf(r,t.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(n===r.replace(/\/.*$/,""))return!0}else if(i===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new s(this,t)})}),null!=c?c.exports=s:window.Dropzone=s,s.ADDED="added",s.QUEUED="queued",s.ACCEPTED=s.QUEUED,s.UPLOADING="uploading",s.PROCESSING=s.UPLOADING,s.CANCELED="canceled",s.ERROR="error",s.SUCCESS="success",n=function(e,n){var t,i,r,o,s,a,l,c,u;if(u=!(r=!1),i=e.document,c=i.documentElement,t=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",o=function(t){return"readystatechange"!==t.type||"complete"===i.readyState?(("load"===t.type?e:i)[l](a+t.type,o,!1),!r&&(r=!0)?n.call(e,t.type||t):void 0):void 0},s=function(){try{c.doScroll("left")}catch(t){return t,void setTimeout(s,50)}return o("poll")},"complete"!==i.readyState){if(i.createEventObject&&c.doScroll){try{u=!e.frameElement}catch(t){}u&&s()}return i[t](a+"DOMContentLoaded",o,!1),i[t](a+"readystatechange",o,!1),e[t](a+"load",o,!1)}},s._autoDiscoverFunction=function(){return s.autoDiscover?s.discover():void 0},n(window,s._autoDiscoverFunction)}).call(this)}),s.alias("component-emitter/index.js","dropzone/deps/emitter/index.js"),s.alias("component-emitter/index.js","emitter/index.js"),"object"==typeof exports?module.exports=s("dropzone"):"function"==typeof define&&define.amd?define(function(){return s("dropzone")}):this.Dropzone=s("dropzone")}(),function(d){"use strict";function o(t,e){this.itemsArray=[],this.$element=d(t),this.$element.hide(),this.isSelect="SELECT"===t.tagName,this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=e&&e.itemValue,this.$container=d('<div class="bootstrap-tagsinput"></div>'),this.$input=d('<input size="1" type="text" />').appendTo(this.$container),this.$element.after(this.$container),this.build(e)}function e(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(t){return t[n]}}}function f(t){return t?i.text(t).html():""}function l(t){var e=0;if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else!t.selectionStart&&"0"!=t.selectionStart||(e=t.selectionStart);return e}var n={tagClass:function(){return"label label-info"},itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(t,e){e.hide().fadeIn()}};o.prototype={constructor:o,add:function(t,e){var n=this;if(!(n.options.maxTags&&n.itemsArray.length>=n.options.maxTags||!1!==t&&!t)){if("object"==typeof t&&!n.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(n.isSelect&&!n.multiple&&0<n.itemsArray.length&&n.remove(n.itemsArray[0]),"string"==typeof t&&"INPUT"===this.$element[0].tagName){var i=t.split(",");if(1<i.length){for(var r=0;r<i.length;r++)this.add(i[r],!0);return void(e||n.pushVal())}}var o=n.options.itemValue(t),s=n.options.itemText(t),a=n.options.tagClass(t),l=d.grep(n.itemsArray,function(t){return n.options.itemValue(t)===o})[0];if(l){if(n.options.onTagExists){var c=d(".tag",n.$container).filter(function(){return d(this).data("item")===l});n.options.onTagExists(t,c)}}else{n.itemsArray.push(t);var u=d('<span class="tag '+f(a)+'">'+f(s)+'<span data-role="remove"></span></span>');if(u.data("item",t),n.findInputWrapper().before(u),u.after(" "),n.isSelect&&!d('option[value="'+escape(o)+'"]',n.$element)[0]){var h=d("<option selected>"+f(s)+"</option>");h.data("item",t),h.attr("value",o),n.$element.append(h)}e||n.pushVal(),n.options.maxTags===n.itemsArray.length&&n.$container.addClass("bootstrap-tagsinput-max"),n.$element.trigger(d.Event("itemAdded",{item:t}))}}}},remove:function(e,t){var n=this;n.objectItems&&(e="object"==typeof e?d.grep(n.itemsArray,function(t){return n.options.itemValue(t)==n.options.itemValue(e)})[0]:d.grep(n.itemsArray,function(t){return n.options.itemValue(t)==e})[0]),e&&(d(".tag",n.$container).filter(function(){return d(this).data("item")===e}).remove(),d("option",n.$element).filter(function(){return d(this).data("item")===e}).remove(),n.itemsArray.splice(n.itemsArray.indexOf(e),1)),t||n.pushVal(),n.options.maxTags>n.itemsArray.length&&n.$container.removeClass("bootstrap-tagsinput-max"),n.$element.trigger(d.Event("itemRemoved",{item:e}))},removeAll:function(){for(d(".tag",this.$container).remove(),d("option",this.$element).remove();0<this.itemsArray.length;)this.itemsArray.pop();this.pushVal(),this.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var o=this;d(".tag",o.$container).each(function(){var t=d(this),e=t.data("item"),n=o.options.itemValue(e),i=o.options.itemText(e),r=o.options.tagClass(e);t.attr("class",null),t.addClass("tag "+f(r)),t.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=f(i),o.isSelect&&d("option",o.$element).filter(function(){return d(this).data("item")===e}).attr("value",n)})},items:function(){return this.itemsArray},pushVal:function(){var e=this,t=d.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(t,!0).trigger("change")},build:function(t){var a=this;a.options=d.extend({},n,t);var i=a.options.typeahead||{};a.objectItems&&(a.options.freeInput=!1),e(a.options,"itemValue"),e(a.options,"itemText"),e(a.options,"tagClass"),a.options.source&&(i.source=a.options.source),i.source&&d.fn.typeahead&&(function(t,e){if("function"!=typeof t[e]){var n=t[e];t[e]=function(){return n}}}(i,"source"),a.$input.typeahead({source:function(t,r){function e(t){for(var e=[],n=0;n<t.length;n++){var i=a.options.itemText(t[n]);o[i]=t[n],e.push(i)}r(e)}this.map={};var o=this.map,n=i.source(t);d.isFunction(n.success)?n.success(e):d.when(n).then(e)},updater:function(t){a.add(this.map[t])},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}})),a.$container.on("click",d.proxy(function(){a.$input.focus()},a)),a.$container.on("keydown","input",d.proxy(function(t){var e=d(t.target),n=a.findInputWrapper();switch(t.which){case 8:if(0===l(e[0])){var i=n.prev();i&&a.remove(i.data("item"))}break;case 46:if(0===l(e[0])){var r=n.next();r&&a.remove(r.data("item"))}break;case 37:var o=n.prev();0===e.val().length&&o[0]&&(o.before(n),e.focus());break;case 39:var s=n.next();0===e.val().length&&s[0]&&(s.after(n),e.focus());break;default:a.options.freeInput&&0<=a.options.confirmKeys.indexOf(t.which)&&(a.add(e.val()),e.val(""),t.preventDefault())}e.attr("size",Math.max(1,e.val().length))},a)),a.$container.on("click","[data-role=remove]",d.proxy(function(t){a.remove(d(t.target).closest(".tag").data("item"))},a)),a.options.itemValue===n.itemValue&&("INPUT"===a.$element[0].tagName?a.add(a.$element.val()):d("option",a.$element).each(function(){a.add(d(this).attr("value"),!0)}))},destroy:function(){this.$container.off("keypress","input"),this.$container.off("click","[role=remove]"),this.$container.remove(),this.$element.removeData("tagsinput"),this.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],e=this.$container[0];t&&t.parentNode!==e;)t=t.parentNode;return d(t)}},d.fn.tagsinput=function(n,i){var r=[];return this.each(function(){var t=d(this).data("tagsinput");if(t){var e=t[n](i);void 0!==e&&r.push(e)}else t=new o(this,n),d(this).data("tagsinput",t),r.push(t),"SELECT"===this.tagName&&d("option",d(this)).attr("selected","selected"),d(this).val(d(this).val())}),"string"==typeof n?1<r.length?r:r[0]:r},d.fn.tagsinput.Constructor=o;var i=d("<div />");d(function(){d("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(y){var i,t,r=((t=document.createElement("input")).setAttribute("onpaste",""),("function"==typeof t.onpaste?"paste":"input")+".mask"),e=navigator.userAgent,b=/iphone/i.test(e),w=/android/i.test(e);y.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},y.fn.extend({caret:function(t,e){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),t=0-n.duplicate().moveStart("character",-1e5),e=t+n.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(e,f){var n,p,g,m,v;return!e&&0<this.length?y(this[0]).data(y.mask.dataName)():(f=y.extend({placeholder:y.mask.placeholder,completed:null},f),n=y.mask.definitions,p=[],g=v=e.length,m=null,y.each(e.split(""),function(t,e){"?"==e?(v--,g=t):n[e]?(p.push(RegExp(n[e])),null===m&&(m=p.length-1)):p.push(null)}),this.trigger("unmask").each(function(){function s(t){for(;v>++t&&!p[t];);return t}function a(t,e){var n,i;if(!(t<0)){for(n=t,i=s(e);n<v;n++)if(p[n]){if(!(i<v&&p[n].test(h[i])))break;h[n]=h[i],h[i]=f.placeholder,i=s(i)}c(),u.caret(Math.max(m,t))}}function l(t,e){var n;for(n=t;n<e&&n<v;n++)p[n]&&(h[n]=f.placeholder)}function c(){u.val(h.join(""))}function o(t){var e,n,i=u.val(),r=-1;for(pos=e=0;e<v;e++)if(p[e]){for(h[e]=f.placeholder;pos++<i.length;)if(n=i.charAt(pos-1),p[e].test(n)){h[e]=n,r=e;break}if(pos>i.length)break}else h[e]===i.charAt(pos)&&e!==g&&(pos++,r=e);return t?c():r+1<g?(u.val(""),l(0,v)):(c(),u.val(u.val().substring(0,r+1))),g?e:m}var u=y(this),h=y.map(e.split(""),function(t){return"?"!=t?n[t]?f.placeholder:t:void 0}),d=u.val();u.data(y.mask.dataName,function(){return y.map(h,function(t,e){return p[e]&&t!=f.placeholder?t:null}).join("")}),u.attr("readonly")||u.one("unmask",function(){u.unbind(".mask").removeData(y.mask.dataName)}).bind("focus.mask",function(){var t;clearTimeout(i),d=u.val(),t=o(),i=setTimeout(function(){c(),t==e.length?u.caret(0,t):u.caret(t)},10)}).bind("blur.mask",function(){o(),u.val()!=d&&u.change()}).bind("keydown.mask",function(t){var e,n,i,r=t.which;8===r||46===r||b&&127===r?(n=(e=u.caret()).begin,0==(i=e.end)-n&&(n=46!==r?function(t){for(;0<=--t&&!p[t];);return t}(n):i=s(n-1),i=46===r?s(i):i),l(n,i),a(n,i-1),t.preventDefault()):27==r&&(u.val(d),u.caret(0,o()),t.preventDefault())}).bind("keypress.mask",function(t){var e,n,i,r=t.which,o=u.caret();t.ctrlKey||t.altKey||t.metaKey||r<32||r&&(0!=o.end-o.begin&&(l(o.begin,o.end),a(o.begin,o.end-1)),(e=s(o.begin-1))<v&&(n=String.fromCharCode(r),p[e].test(n)&&(function(t){var e,n,i,r;for(e=t,n=f.placeholder;e<v;e++)if(p[e]){if(i=s(e),r=h[e],h[e]=n,!(i<v&&p[i].test(r)))break;n=r}}(e),h[e]=n,c(),i=s(e),w?setTimeout(y.proxy(y.fn.caret,u,i),0):u.caret(i),f.completed&&v<=i&&f.completed.call(u))),t.preventDefault())}).bind(r,function(){setTimeout(function(){var t=o(!0);u.caret(t),f.completed&&t==u.val().length&&f.completed.call(u)},0)}),o()}))}})}(jQuery),function(c){function i(e,t){e=c(e);var n=this,i=[],r=c.extend({},c.fn.bootstrapWizard.defaults,t),o=null,s=null;function a(t){var e=s.find('li:has([data-toggle="tab"])');if(t=e.index(c(t.currentTarget).parent('li:has([data-toggle="tab"])')),e=c(e[t]),r.onTabClick&&"function"==typeof r.onTabClick&&!1===r.onTabClick(o,s,n.currentIndex(),t,e))return!1}function l(t){if($element=c(t.target).parent(),t=s.find('li:has([data-toggle="tab"])').index($element),$element.hasClass("disabled")||r.onTabChange&&"function"==typeof r.onTabChange&&!1===r.onTabChange(o,s,n.currentIndex(),t))return!1;o=$element,n.fixNavigationButtons()}this.rebindClick=function(t,e){t.unbind("click",e).bind("click",e)},this.fixNavigationButtons=function(){if(o.length||(s.find("a:first").tab("show"),o=s.find('li:has([data-toggle="tab"]):first')),c(r.previousSelector,e).toggleClass("disabled",n.firstIndex()>=n.currentIndex()),c(r.nextSelector,e).toggleClass("disabled",n.currentIndex()>=n.navigationLength()),c(r.backSelector,e).toggleClass("disabled",0==i.length),n.rebindClick(c(r.nextSelector,e),n.next),n.rebindClick(c(r.previousSelector,e),n.previous),n.rebindClick(c(r.lastSelector,e),n.last),n.rebindClick(c(r.firstSelector,e),n.first),n.rebindClick(c(r.backSelector,e),n.back),r.onTabShow&&"function"==typeof r.onTabShow&&!1===r.onTabShow(o,s,n.currentIndex()))return!1},this.next=function(t){if(e.hasClass("last")||r.onNext&&"function"==typeof r.onNext&&!1===r.onNext(o,s,n.nextIndex()))return!1;t=n.currentIndex(),$index=n.nextIndex(),$index>n.navigationLength()||(i.push(t),s.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show"))},this.previous=function(t){if(e.hasClass("first")||r.onPrevious&&"function"==typeof r.onPrevious&&!1===r.onPrevious(o,s,n.previousIndex()))return!1;t=n.currentIndex(),$index=n.previousIndex(),$index<0||(i.push(t),s.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show"))},this.first=function(t){if(r.onFirst&&"function"==typeof r.onFirst&&!1===r.onFirst(o,s,n.firstIndex())||e.hasClass("disabled"))return!1;i.push(n.currentIndex()),s.find('li:has([data-toggle="tab"]):eq(0) a').tab("show")},this.last=function(t){if(r.onLast&&"function"==typeof r.onLast&&!1===r.onLast(o,s,n.lastIndex())||e.hasClass("disabled"))return!1;i.push(n.currentIndex()),s.find('li:has([data-toggle="tab"]):eq('+n.navigationLength()+") a").tab("show")},this.back=function(){if(0==i.length)return null;var t=i.pop();if(r.onBack&&"function"==typeof r.onBack&&!1===r.onBack(o,s,t))return i.push(t),!1;e.find('li:has([data-toggle="tab"]):eq('+t+") a").tab("show")},this.currentIndex=function(){return s.find('li:has([data-toggle="tab"])').index(o)},this.firstIndex=function(){return 0},this.lastIndex=function(){return n.navigationLength()},this.getIndex=function(t){return s.find('li:has([data-toggle="tab"])').index(t)},this.nextIndex=function(){return s.find('li:has([data-toggle="tab"])').index(o)+1},this.previousIndex=function(){return s.find('li:has([data-toggle="tab"])').index(o)-1},this.navigationLength=function(){return s.find('li:has([data-toggle="tab"])').length-1},this.activeTab=function(){return o},this.nextTab=function(){return s.find('li:has([data-toggle="tab"]):eq('+(n.currentIndex()+1)+")").length?s.find('li:has([data-toggle="tab"]):eq('+(n.currentIndex()+1)+")"):null},this.previousTab=function(){return n.currentIndex()<=0?null:s.find('li:has([data-toggle="tab"]):eq('+parseInt(n.currentIndex()-1)+")")},this.show=function(t){0<(t=isNaN(t)?e.find('li:has([data-toggle="tab"]) a[href=#'+t+"]"):e.find('li:has([data-toggle="tab"]):eq('+t+") a")).length&&(i.push(n.currentIndex()),t.tab("show"))},this.disable=function(t){s.find('li:has([data-toggle="tab"]):eq('+t+")").addClass("disabled")},this.enable=function(t){s.find('li:has([data-toggle="tab"]):eq('+t+")").removeClass("disabled")},this.hide=function(t){s.find('li:has([data-toggle="tab"]):eq('+t+")").hide()},this.display=function(t){s.find('li:has([data-toggle="tab"]):eq('+t+")").show()},this.remove=function(t){var e=void 0!==t[1]&&t[1];t=s.find('li:has([data-toggle="tab"]):eq('+t[0]+")"),e&&(e=t.find("a").attr("href"),c(e).remove()),t.remove()},this.resetWizard=function(){c('a[data-toggle="tab"]',s).off("click",a),c('a[data-toggle="tab"]',s).off("shown shown.bs.tab",l),s=e.find("ul:first",e),o=s.find('li:has([data-toggle="tab"]).active',e),c('a[data-toggle="tab"]',s).on("click",a),c('a[data-toggle="tab"]',s).on("shown shown.bs.tab",l),n.fixNavigationButtons()},s=e.find("ul:first",e),o=s.find('li:has([data-toggle="tab"]).active',e),s.hasClass(r.tabClass)||s.addClass(r.tabClass),r.onInit&&"function"==typeof r.onInit&&r.onInit(o,s,0),r.onShow&&"function"==typeof r.onShow&&r.onShow(o,s,n.nextIndex()),c('a[data-toggle="tab"]',s).on("click",a),c('a[data-toggle="tab"]',s).on("shown shown.bs.tab",l)}c.fn.bootstrapWizard=function(n){if("string"!=typeof n)return this.each(function(t){if(!(t=c(this)).data("bootstrapWizard")){var e=new i(t,n);t.data("bootstrapWizard",e),e.fixNavigationButtons()}});var t=Array.prototype.slice.call(arguments,1);return 1===t.length&&t.toString(),this.data("bootstrapWizard")[n](t)},c.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(c){c.extend(c.fn,{validate:function(t){if(this.length){var n=c.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new c.validator(t,this[0]),c.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),c(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==c(t.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(e){function t(){var t;return!n.settings.submitHandler||(n.submitButton&&(t=c("<input type='hidden'/>").attr("name",n.submitButton.name).val(c(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&t.remove(),!1)}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,t()):n.form()?n.pendingRequest?!(n.formSubmitted=!0):t():(n.focusInvalid(),!1)})),n)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,e;return c(this[0]).is("form")?t=this.validate().form():(t=!0,e=c(this[0].form).validate(),this.each(function(){t=e.element(this)&&t})),t},removeAttrs:function(t){var n={},i=this;return c.each(t.split(/\s/),function(t,e){n[e]=i.attr(e),i.removeAttr(e)}),n},rules:function(t,e){var n,i,r,o,s,a,l=this[0];if(t)switch(n=c.data(l.form,"validator").settings,i=n.rules,r=c.validator.staticRules(l),t){case"add":c.extend(r,c.validator.normalizeRule(e)),delete r.messages,i[l.name]=r,e.messages&&(n.messages[l.name]=c.extend(n.messages[l.name],e.messages));break;case"remove":return e?(a={},c.each(e.split(/\s/),function(t,e){a[e]=r[e],delete r[e],"required"===e&&c(l).removeAttr("aria-required")}),a):(delete i[l.name],r)}return(o=c.validator.normalizeRules(c.extend({},c.validator.classRules(l),c.validator.attributeRules(l),c.validator.dataRules(l),c.validator.staticRules(l)),l)).required&&(s=o.required,delete o.required,o=c.extend({required:s},o),c(l).attr("aria-required","true")),o.remote&&(s=o.remote,delete o.remote,o=c.extend(o,{remote:s})),o}}),c.extend(c.expr[":"],{blank:function(t){return!c.trim(""+c(t).val())},filled:function(t){return!!c.trim(""+c(t).val())},unchecked:function(t){return!c(t).prop("checked")}}),c.validator=function(t,e){this.settings=c.extend(!0,{},c.validator.defaults,t),this.currentForm=e,this.init()},c.validator.format=function(n,t){return 1===arguments.length?function(){var t=c.makeArray(arguments);return t.unshift(n),c.validator.format.apply(this,t)}:(2<arguments.length&&t.constructor!==Array&&(t=c.makeArray(arguments).slice(1)),t.constructor!==Array&&(t=[t]),c.each(t,function(t,e){n=n.replace(new RegExp("\\{"+t+"\\}","g"),function(){return e})}),n)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){9===e.which&&""===this.elementValue(t)||!(t.name in this.submitted||t===this.lastElement)||this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,n){"radio"===t.type?this.findByName(t.name).addClass(e).removeClass(n):c(t).addClass(e).removeClass(n)},unhighlight:function(t,e,n){"radio"===t.type?this.findByName(t.name).removeClass(e).addClass(n):c(t).removeClass(e).addClass(n)}},setDefaults:function(t){c.extend(c.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var e=c.data(this[0].form,"validator"),n="on"+t.type.replace(/^validate/,""),i=e.settings;i[n]&&!this.is(i.ignore)&&i[n].call(e,this[0],t)}this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};c.each(this.settings.groups,function(n,t){"string"==typeof t&&(t=t.split(/\s/)),c.each(t,function(t,e){i[e]=n})}),n=this.settings.rules,c.each(n,function(t,e){n[t]=c.validator.normalizeRule(e)}),c(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",t).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",t),this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),c(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(t){var e=this.clean(t),n=this.validationTargetFor(e),i=!0;return void 0===(this.lastElement=n)?delete this.invalid[e.name]:(this.prepareElement(n),this.currentElements=c(n),(i=!1!==this.check(n))?delete this.invalid[n.name]:this.invalid[n.name]=!0),c(t).attr("aria-invalid",!i),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){for(var t in c.extend(this.errorMap,e),this.errorList=[],e)this.errorList.push({message:e[t],element:this.findByName(t)[0]});this.successList=c.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===c.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var t=this,e={};return c(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in e||!t.objectLength(c(this).rules()))&&(e[this.name]=!0)})},clean:function(t){return c(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([]),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e,n=c(t),i=t.type;return"radio"===i||"checkbox"===i?c("input[name='"+t.name+"']:checked").val():"number"===i&&void 0!==t.validity?!t.validity.badInput&&n.val():"string"==typeof(e=n.val())?e.replace(/\r/g,""):e},check:function(e){e=this.validationTargetFor(this.clean(e));var t,n,i,r=c(e).rules(),o=c.map(r,function(t,e){return e}).length,s=!1,a=this.elementValue(e);for(n in r){i={method:n,parameters:r[n]};try{if("dependency-mismatch"===(t=c.validator.methods[n].call(this,a,e,i.parameters))&&1===o){s=!0;continue}if(s=!1,"pending"===t)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!t)return this.formatAndAdd(e,i),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+i.method+"' method.",t),t}}if(!s)return this.objectLength(r)&&this.successList.push(e),!0},customDataMessage:function(t,e){return c(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||c(t).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(t,e){return this.findDefined(this.customMessage(t.name,e),this.customDataMessage(t,e),!this.settings.ignoreTitle&&t.title||void 0,c.validator.messages[e],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,e){var n=this.defaultMessage(t,e.method),i=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,e.parameters,t):i.test(n)&&(n=c.validator.format(n.replace(i,"{$1}"),e.parameters)),this.errorList.push({message:n,element:t,method:e.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(t,e){var n,i,r,o=this.errorsFor(t),s=this.idOrName(t),a=c(t).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(e)):(n=o=c("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(e||""),this.settings.wrapper&&(n=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,c(t)):n.insertAfter(t),o.is("label")?o.attr("for",s):0===o.parents("label[for='"+s+"']").length&&(r=o.attr("id"),a?a.match(new RegExp("\b"+r+"\b"))||(a+=" "+r):a=r,c(t).attr("aria-describedby",a),(i=this.groups[t.name])&&c.each(this.groups,function(t,e){e===i&&c("[name='"+t+"']",this.currentForm).attr("aria-describedby",o.attr("id"))}))),!e&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,t)),this.toShow=this.toShow.add(o)},errorsFor:function(t){var e=this.idOrName(t),n=c(t).attr("aria-describedby"),i="label[for='"+e+"'], label[for='"+e+"'] *";return n&&(i=i+", #"+n.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return c(this.currentForm).find("[name='"+t+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return c("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(t,e){return!!c(t,e.form).length},function:function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!c.validator.methods.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(c(this.currentForm).submit(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return c.data(t,"previousValue")||c.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:c.extend(this.classRuleSettings,t)},classRules:function(t){var e={},n=c(t).attr("class");return n&&c.each(n.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(e,c.validator.classRuleSettings[this])}),e},attributeRules:function(t){var e,n,i={},r=c(t),o=t.getAttribute("type");for(e in c.validator.methods)n="required"===e?(""===(n=t.getAttribute(e))&&(n=!0),!!n):r.attr(e),/min|max/.test(e)&&(null===o||/number|range|text/.test(o))&&(n=Number(n)),n||0===n?i[e]=n:o===e&&"range"!==o&&(i[e]=!0);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var e,n,i={},r=c(t);for(e in c.validator.methods)void 0!==(n=r.data("rule"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()))&&(i[e]=n);return i},staticRules:function(t){var e={},n=c.data(t.form,"validator");return n.settings.rules&&(e=c.validator.normalizeRule(n.settings.rules[t.name])||{}),e},normalizeRules:function(i,r){return c.each(i,function(t,e){if(!1!==e){if(e.param||e.depends){var n=!0;switch(typeof e.depends){case"string":n=!!c(e.depends,r.form).length;break;case"function":n=e.depends.call(r,r)}n?i[t]=void 0===e.param||e.param:delete i[t]}}else delete i[t]}),c.each(i,function(t,e){i[t]=c.isFunction(e)?e(r):e}),c.each(["minlength","maxlength"],function(){i[this]&&(i[this]=Number(i[this]))}),c.each(["rangelength","range"],function(){var t;i[this]&&(c.isArray(i[this])?i[this]=[Number(i[this][0]),Number(i[this][1])]:"string"==typeof i[this]&&(t=i[this].replace(/[\[\]]/g,"").split(/[\s,]+/),i[this]=[Number(t[0]),Number(t[1])]))}),c.validator.autoCreateRanges&&(i.min&&i.max&&(i.range=[i.min,i.max],delete i.min,delete i.max),i.minlength&&i.maxlength&&(i.rangelength=[i.minlength,i.maxlength],delete i.minlength,delete i.maxlength)),i},normalizeRule:function(t){if("string"==typeof t){var e={};c.each(t.split(/\s/),function(){e[this]=!0}),t=e}return t},addMethod:function(t,e,n){c.validator.methods[t]=e,c.validator.messages[t]=void 0!==n?n:c.validator.messages[t],e.length<3&&c.validator.addClassRules(t,c.validator.normalizeRule(t))},methods:{required:function(t,e,n){if(!this.depend(n,e))return"dependency-mismatch";if("select"!==e.nodeName.toLowerCase())return this.checkable(e)?0<this.getLength(t,e):0<c.trim(t).length;var i=c(e).val();return i&&0<i.length},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n,i,r=0,o=0,s=!1;if((t=t.replace(/\D/g,"")).length<13||19<t.length)return!1;for(n=t.length-1;0<=n;n--)i=t.charAt(n),o=parseInt(i,10),s&&9<(o*=2)&&(o-=9),r+=o,s=!s;return r%10==0},minlength:function(t,e,n){var i=c.isArray(t)?t.length:this.getLength(c.trim(t),e);return this.optional(e)||n<=i},maxlength:function(t,e,n){var i=c.isArray(t)?t.length:this.getLength(c.trim(t),e);return this.optional(e)||i<=n},rangelength:function(t,e,n){var i=c.isArray(t)?t.length:this.getLength(c.trim(t),e);return this.optional(e)||i>=n[0]&&i<=n[1]},min:function(t,e,n){return this.optional(e)||n<=t},max:function(t,e,n){return this.optional(e)||t<=n},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},equalTo:function(t,e,n){var i=c(n);return this.settings.onfocusout&&i.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(e).valid()}),t===i.val()},remote:function(o,s,t){if(this.optional(s))return"dependency-mismatch";var a,e,l=this.previousValue(s);return this.settings.messages[s.name]||(this.settings.messages[s.name]={}),l.originalMessage=this.settings.messages[s.name].remote,this.settings.messages[s.name].remote=l.message,t="string"==typeof t&&{url:t}||t,l.old===o?l.valid:(l.old=o,(a=this).startRequest(s),(e={})[s.name]=o,c.ajax(c.extend(!0,{url:t,mode:"abort",port:"validate"+s.name,dataType:"json",data:e,context:a.currentForm,success:function(t){var e,n,i,r=!0===t||"true"===t;a.settings.messages[s.name].remote=l.originalMessage,r?(i=a.formSubmitted,a.prepareElement(s),a.formSubmitted=i,a.successList.push(s),delete a.invalid[s.name],a.showErrors()):(e={},n=t||a.defaultMessage(s,"remote"),e[s.name]=l.message=c.isFunction(n)?n(o):n,a.invalid[s.name]=!0,a.showErrors(e)),l.valid=r,a.stopRequest(s,r)}},t)),"pending")}}}),c.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var i,r={};c.ajaxPrefilter?c.ajaxPrefilter(function(t,e,n){var i=t.port;"abort"===t.mode&&(r[i]&&r[i].abort(),r[i]=n)}):(i=c.ajax,c.ajax=function(t){var e=("mode"in t?t:c.ajaxSettings).mode,n=("port"in t?t:c.ajaxSettings).port;return"abort"===e?(r[n]&&r[n].abort(),r[n]=i.apply(this,arguments),r[n]):i.apply(this,arguments)}),c.extend(c.fn,{validateDelegate:function(n,t,i){return this.bind(t,function(t){var e=c(t.target);return e.is(n)?i.apply(e,arguments):void 0})}})}),function(t){var x="application/x-dnd",_="application/json",C="Text",k=["move","copy","link"];function S(t,e){return"all"==e?t:t.filter(function(t){return-1!=e.toLowerCase().indexOf(t)})}t.directive("dndDraggable",["$parse","$timeout",function(c,u){return function(s,a,l){a.attr("draggable","true"),l.dndDisableIf&&s.$watch(l.dndDisableIf,function(t){a.attr("draggable",!t)}),a.on("dragstart",function(e){if(e=e.originalEvent||e,"false"==a.attr("draggable"))return!0;D.isDragging=!0,D.itemType=l.dndType&&s.$eval(l.dndType).toLowerCase(),D.dropEffect="none",D.effectAllowed=l.dndEffectAllowed||k[0],e.dataTransfer.effectAllowed=D.effectAllowed;var n=s.$eval(l.dndDraggable),t=x+(D.itemType?"-"+D.itemType:"");try{e.dataTransfer.setData(t,angular.toJson(n))}catch(t){var i=angular.toJson({item:n,type:D.itemType});try{e.dataTransfer.setData(_,i)}catch(t){var r=S(k,D.effectAllowed);e.dataTransfer.effectAllowed=r[0],e.dataTransfer.setData(C,i)}}if(a.addClass("dndDragging"),u(function(){a.addClass("dndDraggingSource")},0),e._dndHandle&&e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(a[0],0,0),c(l.dndDragstart)(s,{event:e}),l.dndCallback){var o=c(l.dndCallback);D.callback=function(t){return o(s,t||{})}}e.stopPropagation()}),a.on("dragend",function(e){e=e.originalEvent||e,s.$apply(function(){var t=D.dropEffect;c(l[{copy:"dndCopied",link:"dndLinked",move:"dndMoved",none:"dndCanceled"}[t]])(s,{event:e}),c(l.dndDragend)(s,{event:e,dropEffect:t})}),D.isDragging=!1,D.callback=void 0,a.removeClass("dndDragging"),a.removeClass("dndDraggingSource"),e.stopPropagation(),u(function(){a.removeClass("dndDraggingSource")},0)}),a.on("click",function(t){l.dndSelected&&(t=t.originalEvent||t,s.$apply(function(){c(l.dndSelected)(s,{event:t})}),t.stopPropagation())}),a.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]),t.directive("dndList",["$parse",function(s){return function(a,l,c){var n,u=(angular.forEach(l.children(),function(t){var e=angular.element(t);e.hasClass("dndPlaceholder")&&(n=e)}),n||angular.element("<li class='dndPlaceholder'></li>"));u.remove();var h=u[0],d=l[0],f={};function p(t){if(!t)return C;for(var e=0;e<t.length;e++)if(t[e]==C||t[e]==_||t[e].substr(0,x.length)==x)return t[e];return null}function g(t){return D.isDragging?D.itemType||void 0:t==C||t==_?null:t&&t.substr(x.length+1)||void 0}function m(t){return!f.disabled&&(!(!f.externalSources&&!D.isDragging)&&(!f.allowedTypes||null===t||t&&-1!=f.allowedTypes.indexOf(t)))}function v(t,e){var n=k;return e||(n=S(n,t.dataTransfer.effectAllowed)),D.isDragging&&(n=S(n,D.effectAllowed)),c.dndEffectAllowed&&(n=S(n,c.dndEffectAllowed)),n.length?t.ctrlKey&&-1!=n.indexOf("copy")?"copy":t.altKey&&-1!=n.indexOf("link")?"link":n[0]:"none"}function y(){return u.remove(),l.removeClass("dndDragover"),!0}function b(t,e,n,i,r,o){return s(t)(a,{callback:D.callback,dropEffect:n,event:e,external:!D.isDragging,index:void 0!==r?r:w(),item:o||void 0,type:i})}function w(){return Array.prototype.indexOf.call(d.children,h)}l.on("dragenter",function(t){t=t.originalEvent||t;var e=c.dndAllowedTypes&&a.$eval(c.dndAllowedTypes);f={allowedTypes:angular.isArray(e)&&e.join("|").toLowerCase().split("|"),disabled:c.dndDisableIf&&a.$eval(c.dndDisableIf),externalSources:c.dndExternalSources&&a.$eval(c.dndExternalSources),horizontal:c.dndHorizontalList&&a.$eval(c.dndHorizontalList)};var n=p(t.dataTransfer.types);if(!n||!m(g(n)))return!0;t.preventDefault()}),l.on("dragover",function(t){var e=p((t=t.originalEvent||t).dataTransfer.types),n=g(e);if(!e||!m(n))return!0;if(h.parentNode!=d&&l.append(u),t.target!=d){for(var i=t.target;i.parentNode!=d&&i.parentNode;)i=i.parentNode;if(i.parentNode==d&&i!=h){var r=i.getBoundingClientRect();if(f.horizontal)var o=t.clientX<r.left+r.width/2;else o=t.clientY<r.top+r.height/2;d.insertBefore(h,o?i:i.nextSibling)}}var s=e==C,a=v(t,s);return"none"==a?y():c.dndDragover&&!b(c.dndDragover,t,a,n)?y():(t.preventDefault(),s||(t.dataTransfer.dropEffect=a),l.addClass("dndDragover"),t.stopPropagation(),!1)}),l.on("drop",function(t){var e=p((t=t.originalEvent||t).dataTransfer.types),n=g(e);if(!e||!m(n))return!0;t.preventDefault();try{var i=JSON.parse(t.dataTransfer.getData(e))}catch(t){return y()}if((e==C||e==_)&&(n=i.type||void 0,i=i.item,!m(n)))return y();var r=e==C,o=v(t,r);if("none"==o)return y();var s=w();return c.dndDrop&&!(i=b(c.dndDrop,t,o,n,s,i))?y():(D.dropEffect=o,r||(t.dataTransfer.dropEffect=o),!0!==i&&a.$apply(function(){a.$eval(c.dndList).splice(s,0,i)}),b(c.dndInserted,t,o,n,s,i),y(),t.stopPropagation(),!1)}),l.on("dragleave",function(t){t=t.originalEvent||t;var e=document.elementFromPoint(t.clientX,t.clientY);d.contains(e)&&!t._dndPhShown?t._dndPhShown=!0:y()})}}]),t.directive("dndNodrag",function(){return function(t,e,n){e.attr("draggable","true"),e.on("dragstart",function(t){(t=t.originalEvent||t)._dndHandle||(t.dataTransfer.types&&t.dataTransfer.types.length||t.preventDefault(),t.stopPropagation())}),e.on("dragend",function(t){(t=t.originalEvent||t)._dndHandle||t.stopPropagation()})}}),t.directive("dndHandle",function(){return function(t,e,n){e.attr("draggable","true"),e.on("dragstart dragend",function(t){(t=t.originalEvent||t)._dndHandle=!0})}});var D={}}(angular.module("dndLists",[])),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(k){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var n,i,r=this.length>>>0,o=!1;for(1<arguments.length&&(i=e,o=!0),n=0;n<r;++n)this.hasOwnProperty(n)&&(o?i=t(i,this[n],n,this):(i=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return i}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],r=2<=arguments.length?arguments[1]:void 0,o=0;o<n;o++)if(o in e){var s=e[o];t.call(r,s,o,e)&&i.push(s)}return i});function l(){this.stylePara=function(t,n){k.each(t.nodes(L.isPara,{includeAncestor:!0}),function(t,e){k(e).css(n)})},this.current=function(t,e){var n=function(n,t){if(_<1.9){var i={};return k.each(t,function(t,e){i[e]=n.css(e)}),i}return n.css.call(n,t)}(k(L.isText(t.sc)?t.sc.parentNode:t.sc),["font-family","font-size","text-align","list-style-type","line-height"])||{};if(n["font-size"]=parseInt(n["font-size"],10),n["font-bold"]=document.queryCommandState("bold")?"bold":"normal",n["font-italic"]=document.queryCommandState("italic")?"italic":"normal",n["font-underline"]=document.queryCommandState("underline")?"underline":"normal",n["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",n["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal",n["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal",t.isOnList()){var i=-1<k.inArray(n["list-style-type"],["circle","disc","disc-leading-zero","square"]);n["list-style"]=i?"unordered":"ordered"}else n["list-style"]="none";var r=L.ancestor(t.sc,L.isPara);if(r&&r.style["line-height"])n["line-height"]=r.style.lineHeight;else{var o=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=o.toFixed(1)}return n.image=L.isImg(e)&&e,n.anchor=t.isOnAnchor()&&L.ancestor(t.sc,L.isAnchor),n.ancestors=L.listAncestor(t.sc,L.isEditable),n.range=t,n}}function c(){this.insertTab=function(t,e,n){var i=L.createText(new Array(n+1).join(L.NBSP_CHAR));(e=e.deleteContents()).insertNode(i,!0),(e=z.create(i,n)).select()},this.insertParagraph=function(){var t=z.create();t=(t=t.deleteContents()).wrapBodyInlineWithPara();var e=L.ancestor(t.sc,L.isPara),n=L.splitTree(e,t.getStartPoint()),i=L.listDescendant(e,L.isEmptyAnchor);i=i.concat(L.listDescendant(n,L.isEmptyAnchor)),k.each(i,function(t,e){L.remove(e)}),z.create(n,0).normalize().select()}}function h(){this.tab=function(t,e){var n=L.ancestor(t.commonAncestor(),L.isCell),i=L.ancestor(n,L.isTable),r=L.listDescendant(i,L.isCell),o=O[e?"prev":"next"](r,n);o&&z.create(o,0).select()},this.createTable=function(t,e){for(var n,i=[],r=0;r<t;r++)i.push("<td>"+L.blank+"</td>");n=i.join("");for(var o,s=[],a=0;a<e;a++)s.push("<tr>"+n+"</tr>");return o=s.join(""),k('<table class="table table-bordered">'+o+"</table>")[0]}}function d(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var i=this,t=z.create().wrapBodyInlineWithPara(),e=t.nodes(L.isPara,{includeAncestor:!0}),n=O.clusterBy(e,I.peq2("parentNode"));k.each(n,function(t,e){var n=O.head(e);L.isLi(n)?i.wrapList(e,n.parentNode.nodeName):k.each(e,function(t,e){k(e).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),t.select()},this.outdent=function(){var i=this,t=z.create().wrapBodyInlineWithPara(),e=t.nodes(L.isPara,{includeAncestor:!0}),n=O.clusterBy(e,I.peq2("parentNode"));k.each(n,function(t,e){var n=O.head(e);L.isLi(n)?i.releaseList([e]):k.each(e,function(t,e){k(e).css("marginLeft",function(t,e){return 25<(e=parseInt(e,10)||0)?e-25:""})})}),t.select()},this.toggleList=function(n){var i=this,t=z.create().wrapBodyInlineWithPara(),e=t.nodes(L.isPara,{includeAncestor:!0}),r=O.clusterBy(e,I.peq2("parentNode"));if(O.find(e,L.isPurePara))k.each(r,function(t,e){i.wrapList(e,n)});else{var o=t.nodes(L.isList,{includeAncestor:!0}).filter(function(t){return!k.nodeName(t,n)});o.length?k.each(o,function(t,e){L.replace(e,n)}):this.releaseList(r,!0)}t.select()},this.wrapList=function(t,e){var n=O.head(t),i=O.last(t),r=L.isList(n.previousSibling)&&n.previousSibling,o=L.isList(i.nextSibling)&&i.nextSibling,s=r||L.insertAfter(L.create(e||"UL"),i);t=k.map(t,function(t){return L.isPurePara(t)?L.replace(t,"LI"):t}),L.appendChildNodes(s,t),o&&(L.appendChildNodes(s,O.from(o.childNodes)),L.remove(o))},this.releaseList=function(t,l){var c=[];return k.each(t,function(t,e){var n=O.head(e),i=O.last(e),r=l?L.lastAncestor(n,L.isList):n.parentNode,o=1<r.childNodes.length?L.splitTree(r,{node:i.parentNode,offset:L.position(i)+1},!0):null,s=L.splitTree(r,{node:n.parentNode,offset:L.position(n)},!0);e=l?L.listDescendant(s,L.isLi):O.from(s.childNodes).filter(L.isLi),!l&&L.isList(r.parentNode)||(e=k.map(e,function(t){return L.replace(t,"P")})),k.each(O.from(e).reverse(),function(t,e){L.insertAfter(e,r)});var a=O.compact([r,s,o]);k.each(a,function(t,e){var n=[e].concat(L.listDescendant(e,L.isList));k.each(n.reverse(),function(t,e){L.nodeLength(e)||L.remove(e,!0)})}),c=c.concat(e)}),c}}function t(){var n=new l,r=new h,i=new c,e=new d;this.saveRange=function(t,e){t.focus(),t.data("range",z.create()),e&&z.create().collapse().select()},this.restoreRange=function(t){var e=t.data("range");e&&(e.select(),t.focus())},this.currentStyle=function(t){var e=z.create();return!!e&&(e.isOnEditable()&&n.current(e,t))};var o=this.triggerOnChange=function(t){var e=t.data("callbacks").onChange;e&&e(t.html(),t)};this.undo=function(t){t.data("NoteHistory").undo(),o(t)},this.redo=function(t){t.data("NoteHistory").redo(),o(t)};for(var u=this.afterCommand=function(t){t.data("NoteHistory").recordUndo(),o(t)},t=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],s=0,a=t.length;s<a;s++)this[t[s]]=function(n){return function(t,e){document.execCommand(n,!1,e),u(t)}}(t[s]);for(this.tab=function(t,e){var n=z.create();n.isCollapsed()&&n.isOnCell()?r.tab(n):(i.insertTab(t,n,e.tabsize),u(t))},this.untab=function(){var t=z.create();t.isCollapsed()&&t.isOnCell()&&r.tab(t,!0)},this.insertParagraph=function(t){i.insertParagraph(t),u(t)},this.insertOrderedList=function(t){e.insertOrderedList(t),u(t)},this.insertUnorderedList=function(t){e.insertUnorderedList(t),u(t)},this.indent=function(t){e.indent(t),u(t)},this.outdent=function(t){e.outdent(t),u(t)},this.insertImage=function(e,t,n){H.createImage(t,n).then(function(t){t.css({display:"",width:Math.min(e.width(),t.width())}),z.create().insertNode(t[0]),u(e)}).fail(function(){var t=e.data("callbacks");t.onImageUploadError&&t.onImageUploadError()})},this.insertVideo=function(t,e){var n,i=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/),r=e.match(/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/),o=e.match(/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/),s=e.match(/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/),a=e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),l=e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)\.html/);if(i&&11===i[2].length){var c=i[2];n=k("<iframe>").attr("src","//www.youtube.com/embed/"+c).attr("width","640").attr("height","360")}else r&&r[0].length?n=k("<iframe>").attr("src",r[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true"):o&&o[0].length?n=k("<iframe>").attr("src",o[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed"):s&&s[3].length?n=k("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+s[3]).attr("width","640").attr("height","360"):a&&a[2].length?n=k("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+a[2]).attr("width","640").attr("height","360"):l&&l[1].length&&(n=k("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+l[1]));n&&(n.attr("frameborder",0),z.create().insertNode(n[0]),u(t))},this.formatBlock=function(t,e){e=$?"<"+e+">":e,document.execCommand("FormatBlock",!1,e),u(t)},this.formatPara=function(t){this.formatBlock(t,"P"),u(t)},s=1;s<=6;s++)this["formatH"+s]=function(e){return function(t){this.formatBlock(t,"H"+e)}}(s);this.fontSize=function(t,e){document.execCommand("fontSize",!1,3),x?t.find("font[size=3]").removeAttr("size").css("font-size",e+"px"):t.find("span").filter(function(){return"medium"===this.style.fontSize}).css("font-size",e+"px"),u(t)},this.lineHeight=function(t,e){n.stylePara(z.create(),{lineHeight:e}),u(t)},this.unlink=function(t){var e=z.create();if(e.isOnAnchor()){var n=L.ancestor(e.sc,L.isAnchor);(e=z.createFromNode(n)).select(),document.execCommand("unlink"),u(t)}},this.createLink=function(t,e,n){var i=e.url,r=e.text,o=e.newWindow,s=e.range;n.onCreateLink&&(i=n.onCreateLink(i));var a=(s=s.deleteContents()).insertNode(k("<A>"+r+"</A>")[0],!0);k(a).attr({href:i,target:o?"_blank":""}),z.createFromNode(a).select(),u(t)},this.getLinkInfo=function(t){t.focus();var e=z.create().expand(L.isAnchor),n=k(O.head(e.nodes(L.isAnchor)));return{range:e,text:e.toString(),isNewWindow:!n.length||"_blank"===n.attr("target"),url:n.length?n.attr("href"):""}},this.getVideoInfo=function(t){t.focus();var e=z.create();if(e.isOnAnchor()){var n=L.ancestor(e.sc,L.isAnchor);e=z.createFromNode(n)}return{text:e.toString()}},this.color=function(t,e){var n=JSON.parse(e),i=n.foreColor,r=n.backColor;i&&document.execCommand("foreColor",!1,i),r&&document.execCommand("backColor",!1,r),u(t)},this.insertTable=function(t,e){var n=e.split("x"),i=z.create();(i=i.deleteContents()).insertNode(r.createTable(n[0],n[1])),u(t)},this.floatMe=function(t,e,n){n.css("float",e),u(t)},this.resize=function(t,e,n){n.css({width:t.width()*e+"px",height:""}),u(t)},this.resizeTo=function(t,e,n){var i;if(n){var r=t.y/t.x,o=e.data("ratio");i={width:r<o?t.x:t.y/o,height:r<o?t.x*o:t.y}}else i={width:t.x,height:t.y};e.css(i)},this.removeMedia=function(t,e,n){n.detach(),u(t)}}function S(e){function t(t){null!==t.contents&&e.html(t.contents),null!==t.bookmark&&z.createFromBookmark(r,t.bookmark).select()}var n=[],i=0,r=e[0];this.undo=function(){0<i&&t(n[--i])},this.redo=function(){n.length-1>i&&t(n[++i])},this.recordUndo=function(){n.length>i&&(n=n.slice(0,i)),n.push(function(){var t=z.create();return{contents:e.html(),bookmark:t?t.bookmark(r):{s:{path:[0],offset:0},e:{path:[0],offset:0}}}}()),i++},this.recordUndo()}function e(){this.update=function(n,t){function e(t,e){t.find(".dropdown-menu li a").each(function(){var t=k(this).data("value")+""==e+"";this.className=t?"checked":""})}function i(t,e){n.find(t).toggleClass("active",e())}var r=n.find(".note-fontname");if(r.length){var o=t["font-family"];o&&(o=(o=O.head(o.split(","))).replace(/\'/g,""),r.find(".note-current-fontname").text(o),e(r,o))}var s=n.find(".note-fontsize");s.find(".note-current-fontsize").text(t["font-size"]),e(s,parseFloat(t["font-size"])),e(n.find(".note-height"),parseFloat(t["line-height"])),i('button[data-event="bold"]',function(){return"bold"===t["font-bold"]}),i('button[data-event="italic"]',function(){return"italic"===t["font-italic"]}),i('button[data-event="underline"]',function(){return"underline"===t["font-underline"]}),i('button[data-event="strikethrough"]',function(){return"strikethrough"===t["font-strikethrough"]}),i('button[data-event="superscript"]',function(){return"superscript"===t["font-superscript"]}),i('button[data-event="subscript"]',function(){return"subscript"===t["font-subscript"]}),i('button[data-event="justifyLeft"]',function(){return"left"===t["text-align"]||"start"===t["text-align"]}),i('button[data-event="justifyCenter"]',function(){return"center"===t["text-align"]}),i('button[data-event="justifyRight"]',function(){return"right"===t["text-align"]}),i('button[data-event="justifyFull"]',function(){return"justify"===t["text-align"]}),i('button[data-event="insertUnorderedList"]',function(){return"unordered"===t["list-style"]}),i('button[data-event="insertOrderedList"]',function(){return"ordered"===t["list-style"]})},this.updateRecentColor=function(t,e,n){var i=k(t).closest(".note-color").find(".note-recent-color"),r=JSON.parse(i.attr("data-value"));r[e]=n,i.attr("data-value",JSON.stringify(r));var o="backColor"===e?"background-color":"color";i.find("i").css(o,n)}}function n(){var i=new e;this.update=function(t,e){i.update(t,e)},this.updateRecentColor=function(t,e,n){i.updateRecentColor(t,e,n)},this.activate=function(t){t.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(t){t.find("button").not('button[data-event="codeview"]').addClass("disabled")},this.updateFullscreen=function(t,e){t.find('button[data-event="fullscreen"]').toggleClass("active",e)},this.updateCodeview=function(t,e){t.find('button[data-event="codeview"]').toggleClass("active",e)}}function i(){function c(t,e){var n=k(t),i=e?n.offset():n.position(),r=n.outerHeight(!0);return{left:i.left,top:i.top+r}}function u(t,e){t.css({display:"block",left:e.left,top:e.top})}var h=new e;this.update=function(t,e,n){h.update(t,e);var i=t.find(".note-link-popover");if(e.anchor){var r=i.find("a"),o=k(e.anchor).attr("href");r.attr("href",o).html(o),u(i,c(e.anchor,n))}else i.hide();var s=t.find(".note-image-popover");e.image?u(s,c(e.image,n)):s.hide();var a=t.find(".note-air-popover");if(n&&!e.range.isCollapsed()){var l=I.rect2bnd(O.last(e.range.getClientRects()));u(a,{left:Math.max(l.left+l.width/2-20,0),top:l.top+l.height})}else a.hide()},this.updateRecentColor=function(t,e,n){t.updateRecentColor(t,e,n)},this.hide=function(t){t.children().hide()}}function D(){this.update=function(t,e,n){var i=t.find(".note-control-selection");if(e.image){var r=k(e.image),o=n?r.offset():r.position(),s={w:r.outerWidth(!0),h:r.outerHeight(!0)};i.css({display:"block",left:o.left,top:o.top,width:s.w,height:s.h}).data("target",e.image);var a=s.w+"x"+s.h;i.find(".note-control-selection-info").text(a)}else i.hide()},this.hide=function(t){t.children().hide()}}function E(){function l(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)}this.showImageDialog=function(t,o){return k.Deferred(function(e){var n=o.find(".note-image-dialog"),t=o.find(".note-image-input"),i=o.find(".note-image-url"),r=o.find(".note-image-btn");n.one("shown.bs.modal",function(){t.replaceWith(t.clone().on("change",function(){e.resolve(this.files),n.modal("hide")}).val("")),r.click(function(t){t.preventDefault(),e.resolve(i.val()),n.modal("hide")}),i.on("keyup paste",function(t){var e;e="paste"===t.type?t.originalEvent.clipboardData.getData("text"):i.val(),l(r,e)}).val("").trigger("focus")}).one("hidden.bs.modal",function(){t.off("change"),i.off("keyup paste"),r.off("click"),"pending"===e.state()&&e.reject()}).modal("show")})},this.showVideoDialog=function(t,r,o){return k.Deferred(function(e){var n=r.find(".note-video-dialog"),i=n.find(".note-video-url"),t=n.find(".note-video-btn");n.one("shown.bs.modal",function(){i.val(o.text).keyup(function(){l(t,i.val())}).trigger("keyup").trigger("focus"),t.click(function(t){t.preventDefault(),e.resolve(i.val()),n.modal("hide")})}).one("hidden.bs.modal",function(){i.off("keyup"),t.off("click"),"pending"===e.state()&&e.reject()}).modal("show")})},this.showLinkDialog=function(t,s,a){return k.Deferred(function(e){var n=s.find(".note-link-dialog"),i=n.find(".note-link-text"),r=n.find(".note-link-url"),t=n.find(".note-link-btn"),o=n.find("input[type=checkbox]");n.one("shown.bs.modal",function(){i.val(a.text),i.keyup(function(){a.text=i.val()}),a.url||(a.url=a.text,l(t,a.text)),r.keyup(function(){l(t,r.val()),a.text||i.val(r.val())}).val(a.url).trigger("focus").trigger("select"),o.prop("checked",a.newWindow),t.one("click",function(t){t.preventDefault(),e.resolve({range:a.range,url:r.val(),text:i.val(),newWindow:o.is(":checked")}),n.modal("hide")})}).one("hidden.bs.modal",function(){i.off("keyup"),r.off("keyup"),t.off("click"),"pending"===e.state()&&e.reject()}).modal("show")}).promise()},this.showHelpDialog=function(t,e){return k.Deferred(function(t){e.find(".note-help-dialog").one("hidden.bs.modal",function(){t.resolve()}).modal("show")}).promise()}}var T,f,r,o,s,a,u,p,g,m,v,y,b,w="function"==typeof define&&define.amd,M=-1<navigator.appVersion.indexOf("Mac"),$=-1<navigator.userAgent.indexOf("MSIE")||-1<navigator.userAgent.indexOf("Trident"),x=-1<navigator.userAgent.indexOf("Firefox"),_=parseFloat(k.fn.jquery),C=w,N=w?require.specified("CodeMirror"):!!window.CodeMirror,A=function(t){var e="Comic Sans MS"===t?"Courier New":"Comic Sans MS",n=k("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),i=n.css("fontFamily",e).width(),r=n.css("fontFamily",t+","+e).width();return n.remove(),i!==r},P=!!document.createRange,I=(b=0,{eq:function(e){return function(t){return e===t}},eq2:function(t,e){return t===e},peq2:function(n){return function(t,e){return t[n]===e[n]}},ok:function(){return!0},fail:function(){return!1},self:function(t){return t},not:function(t){return function(){return!t.apply(t,arguments)}},and:function(e,n){return function(t){return e(t)&&n(t)}},uniqueId:function(t){var e=++b+"";return t?t+e:e},rect2bnd:function(t){var e=k(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}}),O={head:dt,last:ft,initial:function(t){return t.slice(0,t.length-1)},tail:pt,find:function(t,e){for(var n=0,i=t.length;n<i;n++){var r=t[n];if(e(r))return r}},contains:function(t,e){return-1!==t.indexOf(e)},all:function(t,e){for(var n=0,i=t.length;n<i;n++)if(!e(t[n]))return!1;return!0},sum:function(t,n){return n=n||I.self,t.reduce(function(t,e){return t+n(e)},0)},from:function(t){for(var e=[],n=-1,i=t.length;++n<i;)e[n]=t[n];return e},clusterBy:function(t,i){return t.length?pt(t).reduce(function(t,e){var n=ft(t);return i(ft(n),e)?n[n.length]=e:t[t.length]=[e],t},[[dt(t)]]):[]},compact:function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},unique:function(t){for(var e=[],n=0,i=t.length;n<i;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}},R=String.fromCharCode(160),L=(r=Y("LI"),o=function(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())},s=Y("BLOCKQUOTE"),a=function(t){return X(t)||s(t)||B(t)},u=Y("A"),p=Y("BODY"),g=$?"&nbsp;":"<br>",m=function(t,e){for(;t;){if(e(t))return t;if(B(t))break;t=t.parentNode}return null},v=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},y=Y("TEXTAREA"),{NBSP_CHAR:R,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:g,emptyPara:"<p>"+g+"</p>",isEditable:B,isControlSizing:function(t){return t&&k(t).hasClass("note-control-sizing")},buildLayoutInfo:function(e){var t;if(e.hasClass("note-air-editor")){var n=O.last(e.attr("id").split("-"));return{editor:function(){return e},editable:function(){return e},popover:(t=function(t){return function(){return k(t+n)}})("#note-popover-"),handle:t("#note-handle-"),dialog:t("#note-dialog-")}}return{editor:function(){return e},dropzone:(t=function(t){return function(){return e.find(t)}})(".note-dropzone"),toolbar:t(".note-toolbar"),editable:t(".note-editable"),codable:t(".note-codable"),statusbar:t(".note-statusbar"),popover:t(".note-popover"),handle:t(".note-handle"),dialog:t(".note-dialog")}},isText:q,isPara:V,isPurePara:function(t){return V(t)&&!r(t)},isInline:G,isBodyInline:function(t){return G(t)&&!m(t,V)},isBody:p,isParaInline:function(t){return G(t)&&!!m(t,V)},isList:o,isTable:Y("TABLE"),isCell:X,isBlockquote:s,isBodyContainer:a,isAnchor:u,isDiv:Y("DIV"),isLi:r,isSpan:Y("SPAN"),isB:Y("B"),isU:Y("U"),isS:Y("S"),isI:Y("I"),isImg:Y("IMG"),isTextarea:y,isEmpty:Q,isEmptyAnchor:I.and(u,Q),nodeLength:K,isLeftEdgePoint:it,isRightEdgePoint:rt,isEdgePoint:function(t){return it(t)||rt(t)},isLeftEdgeOf:function(t,e){for(;t&&t!==e;){if(0!==v(t))return!1;t=t.parentNode}return!0},isRightEdgeOf:function(t,e){for(;t&&t!==e;){if(v(t)!==K(t.parentNode)-1)return!1;t=t.parentNode}return!0},prevPoint:st,nextPoint:at,isSamePoint:lt,isVisiblePoint:function(t){if(q(t.node)||!ot(t.node)||Q(t.node))return!0;var e=t.node.childNodes[t.offset-1],n=t.node.childNodes[t.offset];return!(e&&!U(e)||n&&!U(n))},prevPointUntil:function(t,e){for(;t;){if(e(t))return t;t=st(t)}return null},nextPointUntil:function(t,e){for(;t;){if(e(t))return t;t=at(t)}return null},walkPoint:function(t,e,n,i){for(var r=t;r&&(n(r),!lt(r,e));){var o=i&&t.node!==r.node&&e.node!==r.node;r=at(r,o)}},ancestor:m,listAncestor:J,lastAncestor:function(t,e){var n=J(t);return O.last(n.filter(e))},listNext:tt,listPrev:function(t,e){e=e||I.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.previousSibling;return n},listDescendant:function(r,o){var s=[];return o=o||I.ok,function t(e){r!==e&&o(e)&&s.push(e);for(var n=0,i=e.childNodes.length;n<i;n++)t(e.childNodes[n])}(r),s},commonAncestor:function(t,e){for(var n=J(t),i=e;i;i=i.parentNode)if(-1<k.inArray(i,n))return i;return null},wrap:function(t,e){var n=t.parentNode,i=k("<"+e+">")[0];return n.insertBefore(i,t),i.appendChild(t),i},insertAfter:et,appendChildNodes:nt,position:v,hasChildren:ot,makeOffsetPath:function(t,e){var n=J(e,I.eq(t));return k.map(n,v).reverse()},fromOffsetPath:function(t,e){for(var n=t,i=0,r=e.length;i<r;i++)n=n.childNodes.length<=e[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[e[i]];return n},splitTree:function(t,i,r){var e=J(i.node,I.eq(t));return e.length?1===e.length?ct(i,r):e.reduce(function(t,e){var n=et(e.cloneNode(!1),e);return t===i.node&&(t=ct(i,r)),nt(n,tt(t)),r||(Z(e),Z(n)),n}):null},create:ut,createText:function(t){return document.createTextNode(t)},remove:ht,removeWhile:function(t,e){for(;t&&!B(t)&&e(t);){var n=t.parentNode;ht(t),t=n}},replace:function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var n=ut(e);return t.style.cssText&&(n.style.cssText=t.style.cssText),nt(n,O.from(t.childNodes)),et(n,t),ht(t),n},html:function(t,e){var n=y(t[0])?t.val():t.html();return e&&(n=n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(t,e,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!e,r=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return t+(i||r?"\n":"")}),n=k.trim(n)),n},value:function(t){return t.val().replace(/[\n\r]/g,"")}}),H={readFileAsDataURL:function(t){return k.Deferred(function(n){k.extend(new FileReader,{onload:function(t){var e=t.target.result;n.resolve(e)},onerror:function(){n.reject(this)}}).readAsDataURL(t)}).promise()},createImage:function(e,n){return k.Deferred(function(t){k("<img>").one("load",function(){t.resolve(k(this))}).one("error abort",function(){t.reject(k(this))}).css({display:"none"}).appendTo(document.body).attr("src",e).attr("data-filename",n)}).promise()}},F={isEdit:function(t){return-1!==[8,9,13,32].indexOf(t)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},z=(f=function(r,o,s,a){this.sc=r,this.so=o,this.ec=s,this.eo=a;function n(){if(P){var t=document.createRange();return t.setStart(r,o),t.setEnd(s,a),t}var e=W({node:r,offset:o});return e.setEndPoint("EndToEnd",W({node:s,offset:a})),e}this.getPoints=function(){return{sc:r,so:o,ec:s,eo:a}},this.getStartPoint=function(){return{node:r,offset:o}},this.getEndPoint=function(){return{node:s,offset:a}},this.select=function(){var t=n();if(P){var e=document.getSelection();0<e.rangeCount&&e.removeAllRanges(),e.addRange(t)}else t.select()},this.normalize=function(){function t(t){return L.isVisiblePoint(t)||(L.isLeftEdgePoint(t)?t=L.nextPointUntil(t,L.isVisiblePoint):L.isRightEdgePoint(t)&&(t=L.prevPointUntil(t,L.isVisiblePoint))),t}var e=t(this.getStartPoint()),n=t(this.getStartPoint());return new f(e.node,e.offset,n.node,n.offset)},this.nodes=function(n,t){n=n||I.ok;var i=t&&t.includeAncestor,r=t&&t.fullyContains,e=this.getStartPoint(),o=this.getEndPoint(),s=[],a=[];return L.walkPoint(e,o,function(t){var e;L.isEditable(t.node)||(r?(L.isLeftEdgePoint(t)&&a.push(t.node),L.isRightEdgePoint(t)&&O.contains(a,t.node)&&(e=t.node)):e=i?L.ancestor(t.node,n):t.node,e&&n(e)&&s.push(e))},!0),O.unique(s)},this.commonAncestor=function(){return L.commonAncestor(r,s)},this.expand=function(t){var e=L.ancestor(r,t),n=L.ancestor(s,t);if(!e&&!n)return new f(r,o,s,a);var i=this.getPoints();return e&&(i.sc=e,i.so=0),n&&(i.ec=n,i.eo=L.nodeLength(n)),new f(i.sc,i.so,i.ec,i.eo)},this.collapse=function(t){return t?new f(r,o,r,o):new f(s,a,s,a)},this.splitText=function(){var t=r===s,e=this.getPoints();return L.isText(s)&&!L.isEdgePoint(this.getEndPoint())&&s.splitText(a),L.isText(r)&&!L.isEdgePoint(this.getStartPoint())&&(e.sc=r.splitText(o),e.so=0,t&&(e.ec=e.sc,e.eo=a-o)),new f(e.sc,e.so,e.ec,e.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),e=t.nodes(null,{fullyContains:!0}),i=L.prevPointUntil(t.getStartPoint(),function(t){return!O.contains(e,t.node)}),r=[];return k.each(e,function(t,e){var n=e.parentNode;i.node!==n&&1===L.nodeLength(n)&&r.push(n),L.remove(e,!1)}),k.each(r,function(t,e){L.remove(e,!1)}),new f(i.node,i.offset,i.node,i.offset)};function t(e){return function(){var t=L.ancestor(r,e);return!!t&&t===L.ancestor(s,e)}}this.isOnEditable=t(L.isEditable),this.isOnList=t(L.isList),this.isOnAnchor=t(L.isAnchor),this.isOnCell=t(L.isCell),this.isLeftEdgeOf=function(t){if(!L.isLeftEdgePoint(this.getStartPoint()))return!1;var e=L.ancestor(this.sc,t);return e&&L.isLeftEdgeOf(this.sc,e)},this.isCollapsed=function(){return r===s&&o===a},this.wrapBodyInlineWithPara=function(){if(L.isEditable(r)&&!r.childNodes[o])return new f(r.appendChild(k(L.emptyPara)[0]),0);if(!L.isInline(r)||L.isParaInline(r))return this;var t=L.listAncestor(r,I.not(L.isInline)),e=O.last(t);L.isInline(e)||(e=t[t.length-2]||r.childNodes[o]);var n=L.listPrev(e,L.isParaInline).reverse();if((n=n.concat(L.listNext(e.nextSibling,L.isParaInline))).length){var i=L.wrap(O.head(n),"p");L.appendChildNodes(i,O.tail(n))}return this},this.insertNode=function(t,e){var n,i,r,o=this.wrapBodyInlineWithPara().getStartPoint();if(e)i=L.isPara(o.node)?o.node:o.node.parentNode,r=L.isPara(o.node)?o.node.childNodes[o.offset]:L.splitTree(o.node,o);else{var s=L.listAncestor(o.node,L.isBodyContainer),a=O.last(s)||o.node;i=L.isBodyContainer(a)?(n=s[s.length-2],a):(n=a).parentNode,r=n&&L.splitTree(n,o)}return r?r.parentNode.insertBefore(t,r):i.appendChild(t),t},this.toString=function(){var t=n();return P?t.toString():t.text},this.bookmark=function(t){return{s:{path:L.makeOffsetPath(t,r),offset:o},e:{path:L.makeOffsetPath(t,s),offset:a}}},this.getClientRects=function(){return n().getClientRects()}},{create:function(t,e,n,i){if(arguments.length)2===arguments.length&&(n=t,i=e);else if(P){var r=document.getSelection();if(0===r.rangeCount)return null;if(L.isBody(r.anchorNode))return null;var o=r.getRangeAt(0);t=o.startContainer,e=o.startOffset,n=o.endContainer,i=o.endOffset}else{var s=document.selection.createRange(),a=s.duplicate();a.collapse(!1);var l=s;l.collapse(!0);var c=j(l,!0),u=j(a,!1);t=c.cont,e=c.offset,n=u.cont,i=u.offset}return new f(t,e,n,i)},createFromNode:function(t){return this.create(t,0,t,1)},createFromBookmark:function(t,e){var n=L.fromOffsetPath(t,e.s.path),i=e.s.offset,r=L.fromOffsetPath(t,e.e.path),o=e.e.offset;return new f(n,i,r,o)}});function j(t,e){var n,i,r=t.parentElement(),o=document.body.createTextRange(),s=O.from(r.childNodes);for(n=0;n<s.length;n++)if(!L.isText(s[n])){if(o.moveToElementText(s[n]),0<=o.compareEndPoints("StartToStart",t))break;i=s[n]}if(0!==n&&L.isText(s[n-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(i||r),a.collapse(!i),l=i?i.nextSibling:r.firstChild;var c=t.duplicate();c.setEndPoint("StartToStart",a);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,e&&l.nextSibling&&L.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),r=l,n=u}return{cont:r,offset:n}}function W(t){var s=function(t,e){var n,i;if(L.isText(t)){var r=L.listPrev(t,I.not(L.isText)),o=O.last(r).previousSibling;n=o||t.parentNode,e+=O.sum(O.tail(r),L.nodeLength),i=!o}else{if(n=t.childNodes[e]||t,L.isText(n))return s(n,0);e=0,i=!1}return{node:n,collapseToStart:i,offset:e}},e=document.body.createTextRange(),n=s(t.node,t.offset);return e.moveToElementText(n.node),e.collapse(n.collapseToStart),e.moveStart("character",n.offset),e}function B(t){return t&&k(t).hasClass("note-editable")}function Y(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function q(t){return t&&3===t.nodeType}function U(t){return t&&/^BR|^IMG|^HR/.test(t.nodeName.toUpperCase())}function V(t){return!B(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))}function G(t){return!a(t)&&!o(t)&&!V(t)}function X(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())}function K(t){return q(t)?t.nodeValue.length:t.childNodes.length}function Q(t){var e=K(t);return 0===e||!L.isText(t)&&1===e&&t.innerHTML===g}function Z(t){U(t)||K(t)||(t.innerHTML=g)}function J(t,e){e=e||I.fail;var n=[];return m(t,function(t){return B(t)||n.push(t),e(t)}),n}function tt(t,e){e=e||I.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.nextSibling;return n}function et(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t}function nt(n,t){return k.each(t,function(t,e){n.appendChild(e)}),n}function it(t){return 0===t.offset}function rt(t){return t.offset===K(t.node)}function ot(t){return!!(t&&t.childNodes&&t.childNodes.length)}function st(t,e){var n,i;if(0===t.offset){if(B(t.node))return null;n=t.node.parentNode,i=v(t.node)}else i=ot(t.node)?(n=t.node.childNodes[t.offset-1],K(n)):(n=t.node,e?0:t.offset-1);return{node:n,offset:i}}function at(t,e){var n,i;if(K(t.node)===t.offset){if(B(t.node))return null;n=t.node.parentNode,i=v(t.node)+1}else i=ot(t.node)?(n=t.node.childNodes[t.offset],0):(n=t.node,e?K(t.node):t.offset+1);return{node:n,offset:i}}function lt(t,e){return t.node===e.node&&t.offset===e.offset}function ct(t,e){if(q(t.node))return it(t)?t.node:rt(t)?t.node.nextSibling:t.node.splitText(t.offset);var n=t.node.childNodes[t.offset],i=et(t.node.cloneNode(!1),t.node);return nt(i,tt(n)),e||(Z(t.node),Z(i)),i}function ut(t){return document.createElement(t)}function ht(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){var i,r,o=[];for(i=0,r=t.childNodes.length;i<r;i++)o.push(t.childNodes[i]);for(i=0,r=o.length;i<r;i++)n.insertBefore(o[i],t)}n.removeChild(t)}}function dt(t){return t[0]}function ft(t){return t[t.length-1]}function pt(t){return t.slice(1)}N&&(C?require(["CodeMirror"],function(t){T=t}):T=window.CodeMirror);k.summernote=k.summernote||{},k.extend(k.summernote,{version:"0.5.9",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","superscript","subscript","strikethrough","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],fontSizes:["8","9","10","11","12","14","18","24","36"],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null,onCreateLink:function(t){return-1!==t.indexOf("@")&&-1===t.indexOf(":")?t="mailto:"+t:-1===t.indexOf("://")&&(t="http://"+t),t},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}});var gt=new function(){function h(t,e){var n=e.event,i=e.value,r=e.title,o=e.className,s=e.dropdown,a=e.hide;return'<button type="button" class="btn btn-default btn-sm btn-small'+(o?" "+o:"")+(s?" dropdown-toggle":"")+'"'+(s?' data-toggle="dropdown"':"")+(r?' title="'+r+'"':"")+(n?' data-event="'+n+'"':"")+(i?" data-value='"+i+"'":"")+(a?" data-hide='"+a+"'":"")+' tabindex="-1">'+t+(s?' <span class="caret"></span>':"")+"</button>"+(s||"")}function d(t,e){return h('<i class="'+t+'"></i>',e)}function f(t,e){return'<div class="'+t+' popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content">'+e+"</div></div>"}function c(t,e,n,i){return'<div class="'+t+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(e?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+e+"</h4></div>":"")+'<form class="note-modal-form"><div class="modal-body"><div class="row-fluid">'+n+"</div></div>"+(i?'<div class="modal-footer">'+i+"</div>":"")+"</form></div></div></div>"}function m(s,a){var t,e,n,i,r,o,l,c,u;return'<div class="note-popover">'+(c=d("fa fa-edit icon-edit",{title:s.link.edit,event:"showLinkDialog",hide:!0}),u=d("fa fa-unlink icon-unlink",{title:s.link.unlink,event:"unlink"}),f("note-link-popover",'<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+c+u+"</div>"))+(t=h('<span class="note-fontsize-10">100%</span>',{title:s.image.resizeFull,event:"resize",value:"1"}),e=h('<span class="note-fontsize-10">50%</span>',{title:s.image.resizeHalf,event:"resize",value:"0.5"}),n=h('<span class="note-fontsize-10">25%</span>',{title:s.image.resizeQuarter,event:"resize",value:"0.25"}),i=d("fa fa-align-left icon-align-left",{title:s.image.floatLeft,event:"floatMe",value:"left"}),r=d("fa fa-align-right icon-align-right",{title:s.image.floatRight,event:"floatMe",value:"right"}),o=d("fa fa-align-justify icon-align-justify",{title:s.image.floatNone,event:"floatMe",value:"none"}),l=d("fa fa-trash-o icon-trash",{title:s.image.remove,event:"removeMedia",value:"none"}),f("note-image-popover",'<div class="btn-group">'+t+e+n+'</div><div class="btn-group">'+i+r+o+'</div><div class="btn-group">'+l+"</div>"))+(a.airMode?function(){for(var t="",e=0,n=a.airPopover.length;e<n;e++){var i=a.airPopover[e];t+='<div class="note-'+i[0]+' btn-group">';for(var r=0,o=i[1].length;r<o;r++)t+=w[i[1][r]](s,a);t+="</div>"}return f("note-air-popover",t)}():"")+"</div>"}function o(t,e){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t+"</th></tr></thead><tbody>"+e+"</tbody></table>"}function u(t,e){var n='<table class="note-shortcut-layout"><tbody><tr><td>'+function(t){var e="<tr><td>⌘ + Z</td><td>"+t.history.undo+"</td></tr><tr><td>⌘ + ⇧ + Z</td><td>"+t.history.redo+"</td></tr><tr><td>⌘ + ]</td><td>"+t.paragraph.indent+"</td></tr><tr><td>⌘ + [</td><td>"+t.paragraph.outdent+"</td></tr><tr><td>⌘ + ENTER</td><td>"+t.hr.insert+"</td></tr>";return o(t.shortcut.action,e)}(t)+"</td><td>"+function(t){var e="<tr><td>⌘ + B</td><td>"+t.font.bold+"</td></tr><tr><td>⌘ + I</td><td>"+t.font.italic+"</td></tr><tr><td>⌘ + U</td><td>"+t.font.underline+"</td></tr><tr><td>⌘ + ⇧ + S</td><td>"+t.font.strikethrough+"</td></tr><tr><td>⌘ + \\</td><td>"+t.font.clear+"</td></tr>";return o(t.shortcut.textFormatting,e)}(t)+"</td></tr><tr><td>"+function(t){var e="<tr><td>⌘ + NUM0</td><td>"+t.style.normal+"</td></tr><tr><td>⌘ + NUM1</td><td>"+t.style.h1+"</td></tr><tr><td>⌘ + NUM2</td><td>"+t.style.h2+"</td></tr><tr><td>⌘ + NUM3</td><td>"+t.style.h3+"</td></tr><tr><td>⌘ + NUM4</td><td>"+t.style.h4+"</td></tr><tr><td>⌘ + NUM5</td><td>"+t.style.h5+"</td></tr><tr><td>⌘ + NUM6</td><td>"+t.style.h6+"</td></tr>";return o(t.shortcut.documentStyle,e)}(t)+"</td><td>"+function(t){var e="<tr><td>⌘ + ⇧ + L</td><td>"+t.paragraph.left+"</td></tr><tr><td>⌘ + ⇧ + E</td><td>"+t.paragraph.center+"</td></tr><tr><td>⌘ + ⇧ + R</td><td>"+t.paragraph.right+"</td></tr><tr><td>⌘ + ⇧ + J</td><td>"+t.paragraph.justify+"</td></tr><tr><td>⌘ + ⇧ + NUM7</td><td>"+t.lists.ordered+"</td></tr><tr><td>⌘ + ⇧ + NUM8</td><td>"+t.lists.unordered+"</td></tr>";return o(t.shortcut.paragraphFormatting,e)}(t)+"</td></tr>";return e.extraKeys&&(n+='<tr><td colspan="2">'+function(t,e){var n=e.extraKeys,i="";for(var r in n)n.hasOwnProperty(r)&&(i+="<tr><td>"+r+"</td><td>"+n[r]+"</td></tr>");return o(t.shortcut.extraKeys,i)}(t,e)+"</td></tr>"),n+"</tbody></table>"}function v(t,e){var n,i,r,o,s,a,l;return'<div class="note-dialog">'+(a='<div class="note-group-select-from-files"><h5>'+t.image.selectFromFiles+'</h5><input class="note-image-input" type="file" name="files" accept="image/*" /></div><h5>'+t.image.url+'</h5><input class="note-image-url form-control span12" type="text" />',l='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+t.image.insert+"</button>",c("note-image-dialog",t.image.insert,a,l))+(o='<div class="form-group"><label>'+t.link.textToDisplay+'</label><input class="note-link-text form-control span12" type="text" /></div><div class="form-group"><label>'+t.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.link.openInNewWindow+"</label></div>"),s='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+t.link.insert+"</button>",c("note-link-dialog",t.link.insert,o,s))+(i='<div class="form-group"><label>'+t.video.url+'</label>&nbsp;<small class="text-muted">'+t.video.providers+'</small><input class="note-video-url form-control span12" type="text" /></div>',r='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+t.video.insert+"</button>",c("note-video-dialog",t.video.insert,i,r))+(n='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+t.shortcut.close+'</a><div class="title">'+t.shortcut.shortcuts+"</div>"+(M?u(t,e):function(t){return t.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift")}(u(t,e)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.9</a> · <a href="//github.com/HackerWins/summernote" target="_blank">Project</a> · <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p>',c("note-help-dialog","",n,""))+"</div>"}function y(t,e,n){var r=I.invertObject(e);t.find("button").each(function(t,e){var n=k(e),i=r[n.data("event")];i&&n.attr("title",function(t,e){return e+" ("+function(t){return M&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧")),t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")}(i)+")"})}).tooltip({container:"body",trigger:"hover",placement:n||"top"}).on("click",function(){k(this).tooltip("hide")})}function b(t,e){var u=e.colors;t.find(".note-color-palette").each(function(){for(var t=k(this),e=t.attr("data-target-event"),n=[],i=0,r=u.length;i<r;i++){for(var o=u[i],s=[],a=0,l=o.length;a<l;a++){var c=o[a];s.push(['<button type="button" class="note-color-btn" style="background-color:',c,';" data-event="',e,'" data-value="',c,'" title="',c,'" data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+s.join("")+"</div>")}t.html(n.join(""))})}var w={picture:function(t){return d("fa fa-picture-o icon-picture",{event:"showImageDialog",title:t.image.image,hide:!0})},link:function(t){return d("fa fa-link icon-link",{event:"showLinkDialog",title:t.link.link,hide:!0})},video:function(t){return d("fa fa-youtube-play icon-play",{event:"showVideoDialog",title:t.video.video,hide:!0})},table:function(t){return d("fa fa-table icon-table",{title:t.table.table,dropdown:'<ul class="note-table dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>'})},style:function(i,t){var e=t.styleTags.reduce(function(t,e){var n=i.style["p"===e?"normal":e];return t+'<li><a data-event="formatBlock" href="#" data-value="'+e+'">'+("p"===e||"pre"===e?n:"<"+e+">"+n+"</"+e+">")+"</a></li>"},"");return d("fa fa-magic icon-magic",{title:i.style.style,dropdown:'<ul class="dropdown-menu">'+e+"</ul>"})},fontname:function(t,e){var n=e.fontNames.reduce(function(t,e){return A(e)?t+'<li><a data-event="fontName" href="#" data-value="'+e+'"><i class="fa fa-check icon-ok"></i> '+e+"</a></li>":t},""),i='<span class="note-current-fontname">'+e.defaultFontName+"</span>";return h(i,{title:t.font.name,dropdown:'<ul class="dropdown-menu">'+n+"</ul>"})},fontsize:function(t,e){var n=e.fontSizes.reduce(function(t,e){return t+'<li><a data-event="fontSize" href="#" data-value="'+e+'"><i class="fa fa-check icon-ok"></i> '+e+"</a></li>"},"");return h('<span class="note-current-fontsize">11</span>',{title:t.font.size,dropdown:'<ul class="dropdown-menu">'+n+"</ul>"})},color:function(t){var e=h('<i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i>',{className:"note-recent-color",title:t.color.recent,event:"color",value:'{"backColor":"yellow"}'}),n='<ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+t.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+t.color.transparent+'">'+t.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+t.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+t.color.reset+'">'+t.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>';return e+h("",{title:t.color.more,dropdown:n})},bold:function(t){return d("fa fa-bold icon-bold",{event:"bold",title:t.font.bold})},italic:function(t){return d("fa fa-italic icon-italic",{event:"italic",title:t.font.italic})},underline:function(t){return d("fa fa-underline icon-underline",{event:"underline",title:t.font.underline})},strikethrough:function(t){return d("fa fa-strikethrough icon-strikethrough",{event:"strikethrough",title:t.font.strikethrough})},superscript:function(t){return d("fa fa-superscript icon-superscript",{event:"superscript",title:t.font.superscript})},subscript:function(t){return d("fa fa-subscript icon-subscript",{event:"subscript",title:t.font.subscript})},clear:function(t){return d("fa fa-eraser icon-eraser",{event:"removeFormat",title:t.font.clear})},ul:function(t){return d("fa fa-list-ul icon-list-ul",{event:"insertUnorderedList",title:t.lists.unordered})},ol:function(t){return d("fa fa-list-ol icon-list-ol",{event:"insertOrderedList",title:t.lists.ordered})},paragraph:function(t){var e=d("fa fa-align-left icon-align-left",{title:t.paragraph.left,event:"justifyLeft"}),n=d("fa fa-align-center icon-align-center",{title:t.paragraph.center,event:"justifyCenter"}),i=d("fa fa-align-right icon-align-right",{title:t.paragraph.right,event:"justifyRight"}),r=d("fa fa-align-justify icon-align-justify",{title:t.paragraph.justify,event:"justifyFull"}),o=d("fa fa-outdent icon-indent-left",{title:t.paragraph.outdent,event:"outdent"}),s='<div class="dropdown-menu"><div class="note-align btn-group">'+e+n+i+r+'</div><div class="note-list btn-group">'+d("fa fa-indent icon-indent-right",{title:t.paragraph.indent,event:"indent"})+o+"</div></div>";return d("fa fa-align-left icon-align-left",{title:t.paragraph.paragraph,dropdown:s})},height:function(t,e){var n=e.lineHeights.reduce(function(t,e){return t+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(e)+'"><i class="fa fa-check icon-ok"></i> '+e+"</a></li>"},"");return d("fa fa-text-height icon-text-height",{title:t.font.height,dropdown:'<ul class="dropdown-menu">'+n+"</ul>"})},help:function(t){return d("fa fa-question icon-question",{event:"showHelpDialog",title:t.options.help,hide:!0})},fullscreen:function(t){return d("fa fa-arrows-alt icon-fullscreen",{event:"fullscreen",title:t.options.fullscreen})},codeview:function(t){return d("fa fa-code icon-code",{event:"codeview",title:t.options.codeview})},undo:function(t){return d("fa fa-undo icon-undo",{event:"undo",title:t.history.undo})},redo:function(t){return d("fa fa-repeat icon-repeat",{event:"redo",title:t.history.redo})},hr:function(t){return d("fa fa-minus icon-hr",{event:"insertHorizontalRule",title:t.hr.insert})}};this.createLayoutByAirMode=function(t,e){var n=e.keyMap[M?"mac":"pc"],i=k.summernote.lang[e.lang],r=I.uniqueId();t.addClass("note-air-editor note-editable"),t.attr({id:"note-editor-"+r,contentEditable:!0});var o=document.body,s=k(m(i,e));s.addClass("note-air-layout"),s.attr("id","note-popover-"+r),s.appendTo(o),y(s,n),b(s,e);var a=k('<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>');a.addClass("note-air-layout"),a.attr("id","note-handle-"+r),a.appendTo(o);var l=k(v(i,e));l.addClass("note-air-layout"),l.attr("id","note-dialog-"+r),l.find("button.close, a.modal-close").click(function(){k(this).closest(".modal").modal("hide")}),l.appendTo(o)},this.createLayoutByFrame=function(t,e){var n=k('<div class="note-editor"></div>');e.width&&n.width(e.width),0<e.height&&k('<div class="note-statusbar">'+(e.disableResizeEditor?"":'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>')+"</div>").prependTo(n);var i=!t.is(":disabled"),r=k('<div class="note-editable" contentEditable="'+i+'"></div>').prependTo(n);e.height&&r.height(e.height),e.direction&&r.attr("dir",e.direction),r.html(L.html(t)||L.emptyPara),k('<textarea class="note-codable"></textarea>').prependTo(n);for(var o=k.summernote.lang[e.lang],s="",a=0,l=e.toolbar.length;a<l;a++){var c=e.toolbar[a][0],u=e.toolbar[a][1];s+='<div class="note-'+c+' btn-group">';for(var h=0,d=u.length;h<d;h++)k.isFunction(w[u[h]])&&(s+=w[u[h]](o,e));s+="</div>"}var f=k(s='<div class="note-toolbar btn-toolbar">'+s+"</div>").prependTo(n),p=e.keyMap[M?"mac":"pc"];b(f,e),y(f,p,"bottom");var g=k(m(o,e)).prependTo(n);b(g,e),y(g,p),k('<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>').prependTo(n),k(v(o,e)).prependTo(n).find("button.close, a.modal-close").click(function(){k(this).closest(".modal").modal("hide")}),k('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(n),n.insertAfter(t),t.hide()},this.noteEditorFromHolder=function(t){return t.hasClass("note-air-editor")?t:t.next().hasClass("note-editor")?t.next():k()},this.createLayout=function(t,e){this.noteEditorFromHolder(t).length||(e.airMode?this.createLayoutByAirMode(t,e):this.createLayoutByFrame(t,e))},this.layoutInfoFromHolder=function(t){var e=this.noteEditorFromHolder(t);if(e.length){var n=L.buildLayoutInfo(e);for(var i in n)n.hasOwnProperty(i)&&(n[i]=n[i].call());return n}},this.removeLayout=function(t,e,n){n.airMode?(t.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),e.popover.remove(),e.handle.remove(),e.dialog.remove()):(t.html(e.editable.html()),e.editor.remove(),t.show())}},mt=new function(){function h(t){var e,n=k(t).closest(".note-editor, .note-air-editor, .note-air-layout");return n.length?(e=n.is(".note-editor, .note-air-editor")?n:k("#note-editor-"+O.last(n.attr("id").split("-"))),L.buildLayoutInfo(e)):null}function o(i,t){v.restoreRange(i);var r=i.data("callbacks");r.onImageUpload?r.onImageUpload(t,v,i):k.each(t,function(t,e){var n=e.name;H.readFileAsDataURL(e).then(function(t){v.insertImage(i,t,n)}).fail(function(){r.onImageUploadError&&r.onImageUploadError()})})}function r(t){L.isImg(t.target)&&t.preventDefault()}function u(i){setTimeout(function(){var t=h(i.currentTarget||i.target),e=v.currentStyle(i.target);if(e){var n=t.editor().data("options").airMode;n||y.update(t.toolbar(),e),b.update(t.popover(),e,n),w.update(t.handle(),e,n)}},0)}function s(t){var e=h(t.currentTarget||t.target);b.hide(e.popover()),w.hide(e.handle())}function a(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var n=h(t.currentTarget||t.target),i=O.head(e.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&o(n.editable(),[i.getAsFile()])}}function l(t){if(L.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var e=h(t.target),n=e.handle(),i=e.popover(),r=e.editable(),o=e.editor(),s=n.find(".note-control-selection").data("target"),a=k(s),l=a.offset(),c=g.scrollTop(),u=o.data("options").airMode;g.on("mousemove",function(t){v.resizeTo({x:t.clientX-l.left,y:t.clientY-(l.top-c)},a,!t.shiftKey),w.update(n,{image:s},u),b.update(i,{image:s},u)}).one("mouseup",function(){g.off("mousemove")}),a.data("ratio")||a.data("ratio",a.height()/a.width()),v.afterCommand(r)}}function c(t){k(t.target).closest("[data-event]").length&&t.preventDefault()}function d(t){var e=k(t.target).closest("[data-event]");if(e.length){var n,i=e.attr("data-event"),r=e.attr("data-value"),o=e.attr("data-hide"),s=h(t.target);if(t.preventDefault(),-1!==k.inArray(i,["resize","floatMe","removeMedia"])){var a=s.handle().find(".note-control-selection");n=k(a.data("target"))}if(o&&e.parents(".popover").hide(),v[i]){var l=s.editable();l.trigger("focus"),v[i](l,r,n)}else _[i]&&_[i].call(this,s);if(-1!==k.inArray(i,["backColor","foreColor"])){var c=s.editor().data("options",c);(c.airMode?b:y).updateRecentColor(O.head(e),i,r)}u(t)}}function f(t){t.preventDefault(),t.stopPropagation();var n=h(t.target).editable(),i=n.offset().top-g.scrollTop(),r=h(t.currentTarget||t.target).editor().data("options");g.on("mousemove",function(t){var e=t.clientY-(24+i);e=0<r.minHeight?Math.max(e,r.minHeight):e,e=0<r.maxHeight?Math.min(e,r.maxHeight):e,n.height(e)}).one("mouseup",function(){g.off("mousemove")})}var p=k(window),g=k(document),m=k("html, body"),v=new t,y=new n,b=new i,w=new D,x=new E,_={showLinkDialog:function(e){var t=e.editor(),n=e.dialog(),i=e.editable(),r=v.getLinkInfo(i),o=t.data("options");v.saveRange(i),x.showLinkDialog(i,n,r).then(function(t){v.restoreRange(i),v.createLink(i,t,o),b.hide(e.popover())}).fail(function(){v.restoreRange(i)})},showImageDialog:function(t){var e=t.dialog(),n=t.editable();v.saveRange(n),x.showImageDialog(n,e).then(function(t){v.restoreRange(n),"string"==typeof t?v.insertImage(n,t):o(n,t)}).fail(function(){v.restoreRange(n)})},showVideoDialog:function(t){var e=t.dialog(),n=t.editable(),i=v.getVideoInfo(n);v.saveRange(n),x.showVideoDialog(n,e,i).then(function(t){v.restoreRange(n),v.insertVideo(n,t)}).fail(function(){v.restoreRange(n)})},showHelpDialog:function(t){var e=t.dialog(),n=t.editable();v.saveRange(n,!0),x.showHelpDialog(n,e).then(function(){v.restoreRange(n)})},fullscreen:function(t){function e(t){n.css("width",t.w),r.css("height",t.h),o.css("height",t.h),o.data("cmeditor")&&o.data("cmeditor").setsize(null,t.h)}var n=t.editor(),i=t.toolbar(),r=t.editable(),o=t.codable(),s=n.data("options");n.toggleClass("fullscreen");var a=n.hasClass("fullscreen");a?(r.data("orgheight",r.css("height")),p.on("resize",function(){e({w:p.width(),h:p.height()-i.outerHeight()})}).trigger("resize"),m.css("overflow","hidden")):(p.off("resize"),e({w:s.width||"",h:r.data("orgheight")}),m.css("overflow","visible")),y.updateFullscreen(i,a)},codeview:function(t){var e,n,i=t.editor(),r=t.toolbar(),o=t.editable(),s=t.codable(),a=t.popover(),l=i.data("options");i.toggleClass("codeview");var c=i.hasClass("codeview");c?(s.val(L.html(o,!0)),s.height(o.height()),y.deactivate(r),b.hide(a),s.focus(),N&&(e=T.fromTextArea(s[0],l.codemirror),l.codemirror.tern&&(n=new T.TernServer(l.codemirror.tern),e.ternServer=n,e.on("cursorActivity",function(t){n.updateArgHints(t)})),e.setSize(null,o.outerHeight()),s.data("cmEditor",e))):(N&&(e=s.data("cmEditor"),s.val(e.getValue()),e.toTextArea()),o.html(L.value(s)||L.emptyPara),o.height(l.height?s.height():"auto"),y.activate(r),o.focus()),y.updateCodeview(t.toolbar(),c)}},C=function(e){var n=k(),i=e.dropzone,r=e.dropzone.find(".note-dropzone-message");g.on("dragenter",function(t){e.editor.hasClass("codeview")||n.length||(e.editor.addClass("dragover"),i.width(e.editor.width()),i.height(e.editor.height()),r.text("Drag Image Here")),n=n.add(t.target)}).on("dragleave",function(t){(n=n.not(t.target)).length||e.editor.removeClass("dragover")}).on("drop",function(){n=k(),e.editor.removeClass("dragover")}),i.on("dragenter",function(){i.addClass("hover"),r.text("Drop Image")}).on("dragleave",function(){i.removeClass("hover"),r.text("Drag Image Here")}),i.on("drop",function(t){t.preventDefault();var e=t.originalEvent.dataTransfer;if(e&&e.files){var n=h(t.currentTarget||t.target);n.editable().focus(),o(n.editable(),e.files)}}).on("dragover",!1)};this.bindKeyMap=function(r,o){var s=r.editor,a=r.editable;r=h(a),a.on("keydown",function(t){var e=[];t.metaKey&&e.push("CMD"),t.ctrlKey&&!t.altKey&&e.push("CTRL"),t.shiftKey&&e.push("SHIFT");var n=F.nameFromCode[t.keyCode];n&&e.push(n);var i=o[e.join("+")];i?(t.preventDefault(),v[i]?v[i](a,s.data("options")):_[i]&&_[i].call(this,r)):F.isEdit(t.keyCode)&&v.afterCommand(a)})},this.attach=function(t,e){this.bindKeyMap(t,e.keyMap[M?"mac":"pc"]),t.editable.on("mousedown",r),t.editable.on("keyup mouseup",u),t.editable.on("scroll",s),t.editable.on("paste",a),t.handle.on("mousedown",l),t.popover.on("click",d),t.popover.on("mousedown",c),e.airMode||(function(t,e){e?g.on("drop",function(t){t.preventDefault()}):C(t)}(t,e.disableDragAndDrop),t.toolbar.on("click",d),t.toolbar.on("mousedown",c),e.disableResizeEditor||t.statusbar.on("mousedown",f)),(e.airMode?t.popover:t.toolbar).find(".note-dimension-picker-mousecatcher").css({width:e.insertTableMaxSize.col+"em",height:e.insertTableMaxSize.row+"em"}).on("mousemove",function(t){!function(t,e){var n,i=k(t.target.parentNode),r=i.next(),o=i.find(".note-dimension-picker-mousecatcher"),s=i.find(".note-dimension-picker-highlighted"),a=i.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var l=k(t.target).offset();n={x:t.pageX-l.left,y:t.pageY-l.top}}else n={x:t.offsetX,y:t.offsetY};var c=Math.ceil(n.x/18)||1,u=Math.ceil(n.y/18)||1;s.css({width:c+"em",height:u+"em"}),o.attr("data-value",c+"x"+u),3<c&&c<e.insertTableMaxSize.col&&a.css({width:c+1+"em"}),3<u&&u<e.insertTableMaxSize.row&&a.css({height:u+1+"em"}),r.html(c+" x "+u)}(t,e)}),t.editor.data("options",e),e.styleWithSpan&&!$&&setTimeout(function(){document.execCommand("styleWithCSS",0,!0)},0);var n=new S(t.editable);if(t.editable.data("NoteHistory",n),e.onenter&&t.editable.keypress(function(t){t.keyCode===F.ENTER&&e.onenter(t)}),e.onfocus&&t.editable.focus(e.onfocus),e.onblur&&t.editable.blur(e.onblur),e.onkeyup&&t.editable.keyup(e.onkeyup),e.onkeydown&&t.editable.keydown(e.onkeydown),e.onpaste&&t.editable.on("paste",e.onpaste),e.onToolbarClick&&t.toolbar.click(e.onToolbarClick),e.onChange){function i(){v.triggerOnChange(t.editable)}if($){t.editable.on("DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted",i)}else t.editable.on("input",i)}t.editable.data("callbacks",{onChange:e.onChange,onAutoSave:e.onAutoSave,onImageUpload:e.onImageUpload,onImageUploadError:e.onImageUploadError,onFileUpload:e.onFileUpload,onFileUploadError:e.onFileUpload})},this.dettach=function(t,e){t.editable.off(),t.popover.off(),t.handle.off(),t.dialog.off(),e.airMode||(t.dropzone.off(),t.toolbar.off(),t.statusbar.off())}};k.fn.extend({summernote:function(r){r=k.extend({},k.summernote.options,r),this.each(function(t,e){var n=k(e);gt.createLayout(n,r);var i=gt.layoutInfoFromHolder(n);mt.attach(i,r),L.isTextarea(n[0])&&n.closest("form").submit(function(){n.val(n.code())})}),this.first().length&&r.focus&&gt.layoutInfoFromHolder(this.first()).editable.focus();return this.length&&r.oninit&&r.oninit(),this},code:function(i){if(void 0!==i)return this.each(function(t,e){var n=gt.layoutInfoFromHolder(k(e));n&&n.editable&&n.editable.html(i)}),this;var t=this.first();if(t.length){var e=gt.layoutInfoFromHolder(t);if(e&&e.editable){var n=e.editor.hasClass("codeview");return n&&N&&e.codable.data("cmEditor").save(),n?e.codable.val():e.editable.html()}return L.isTextarea(t[0])?t.val():t.html()}},destroy:function(){return this.each(function(t,e){var n=k(e),i=gt.layoutInfoFromHolder(n);if(i&&i.editable){var r=i.editor.data("options");mt.dettach(i,r),gt.removeLayout(n,i,r)}}),this}})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function d(){return Ft.apply(null,arguments)}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function i(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function f(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){for(var n in e)f(e,n)&&(t[n]=e[n]);return f(e,"toString")&&(t.toString=e.toString),f(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,n,i){return ot(t,e,n,i,!0).utc()}function p(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),t._pf}function l(t){if(null==t._isValid){var e=p(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function c(t){var e=a(NaN);return null!=t?s(p(e),t):p(e).userInvalidated=!0,e}function u(t){return void 0===t}function h(t,e){var n,i,r;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=p(e)),u(e._locale)||(t._locale=e._locale),0<jt.length)for(n in jt)u(r=e[i=jt[n]])||(t[i]=r);return t}function g(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===Wt&&(Wt=!0,d.updateOffset(this),Wt=!1)}function m(t){return t instanceof g||null!=t&&null!=t._isAMomentObject}function v(t){return t<0?Math.ceil(t):Math.floor(t)}function y(t){var e=+t,n=0;return 0!=e&&isFinite(e)&&(n=v(e)),n}function b(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&y(t[i])!==y(e[i]))&&s++;return s+o}function n(){}function w(t){return t?t.toLowerCase().replace("_","-"):t}function x(t){var e=null;if(!Bt[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=zt._abbr,require("./locale/"+t),_(e)}catch(t){}return Bt[t]}function _(t,e){var n;return t&&((n=u(e)?k(t):C(t,e))&&(zt=n)),zt._abbr}function C(t,e){return null!==e?(e.abbr=t,Bt[t]=Bt[t]||new n,Bt[t].set(e),_(t),Bt[t]):(delete Bt[t],null)}function k(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return zt;if(!r(t)){if(e=x(t))return e;t=[t]}return function(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=w(t[o]).split("-")).length,n=(n=w(t[o+1]))?n.split("-"):null;0<e;){if(i=x(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&b(r,n,!0)>=e-1)break;e--}o++}return null}(t)}function t(t,e){var n=t.toLowerCase();Yt[n]=Yt[n+"s"]=Yt[e]=t}function S(t){return"string"==typeof t?Yt[t]||Yt[t.toLowerCase()]:void 0}function D(t){var e,n,i={};for(n in t)f(t,n)&&((e=S(n))&&(i[e]=t[n]));return i}function E(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function e(e,n){return function(t){return null!=t?(M(this,e,t),d.updateOffset(this,n),this):T(this,e)}}function T(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function M(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function $(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(E(this[t=S(t)]))return this[t](e);return this}function N(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function A(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Gt[t]=r),e&&(Gt[e[0]]=function(){return N(r.apply(this,arguments),e[1],e[2])}),n&&(Gt[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function P(t,e){return t.isValid()?(e=I(e,t.localeData()),Vt[e]=Vt[e]||function(n){var i,r,t,o=n.match(qt);for(i=0,r=o.length;i<r;i++)Gt[o[i]]?o[i]=Gt[o[i]]:o[i]=(t=o[i]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){var e="";for(i=0;i<r;i++)e+=o[i]instanceof Function?o[i].call(t,n):o[i];return e}}(e),Vt[e](t)):t.localeData().invalidDate()}function I(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ut.lastIndex=0;0<=i&&Ut.test(t);)t=t.replace(Ut,n),Ut.lastIndex=0,i-=1;return t}function O(t,n,i){he[t]=E(n)?n:function(t,e){return t&&i?i:n}}function R(t,e){return f(he,t)?he[t](e._strict,e._locale):new RegExp(function(t){return L(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}(t))}function L(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function H(t,n){var e,i=n;for("string"==typeof t&&(t=[t]),"number"==typeof n&&(i=function(t,e){e[n]=y(t)}),e=0;e<t.length;e++)de[t[e]]=i}function F(t,r){H(t,function(t,e,n,i){n._w=n._w||{},r(t,n._w,n,i)})}function z(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function j(t,e){var n;return t.isValid()&&("string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))||(n=Math.min(t.date(),z(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n))),t}function W(t){return null!=t?(j(this,t),d.updateOffset(this,!0),this):T(this,"Month")}function B(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=a([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=L(i[e]),r[e]=L(r[e]),o[e]=L(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")$","i")}function Y(t){var e,n=t._a;return n&&-2===p(t).overflow&&(e=n[pe]<0||11<n[pe]?pe:n[ge]<1||n[ge]>z(n[fe],n[pe])?ge:n[me]<0||24<n[me]||24===n[me]&&(0!==n[ve]||0!==n[ye]||0!==n[be])?me:n[ve]<0||59<n[ve]?ve:n[ye]<0||59<n[ye]?ye:n[be]<0||999<n[be]?be:-1,p(t)._overflowDayOfYear&&(e<fe||ge<e)&&(e=ge),p(t)._overflowWeeks&&-1===e&&(e=we),p(t)._overflowWeekday&&-1===e&&(e=xe),p(t).overflow=e),t}function q(t){!1===d.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function U(t,e){var n=!0;return s(function(){return n&&(q(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function V(t){var e,n,i,r,o,s,a=t._i,l=Te.exec(a)||Me.exec(a);if(l){for(p(t).iso=!0,e=0,n=Ne.length;e<n;e++)if(Ne[e][1].exec(l[1])){r=Ne[e][0],i=!1!==Ne[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Ae.length;e<n;e++)if(Ae[e][1].exec(l[3])){o=(l[2]||" ")+Ae[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!$e.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),it(t)}else t._isValid=!1}function G(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function X(t){return K(t)?366:365}function K(t){return t%4==0&&t%100!=0||t%400==0}function Q(t,e,n){var i=7+e-n;return i-(7+G(t,0,i).getUTCDay()-e)%7-1}function Z(t,e,n,i,r){var o,s,a=1+7*(e-1)+(7+n-i)%7+Q(t,i,r);return s=a<=0?X(o=t-1)+a:a>X(t)?(o=t+1,a-X(t)):(o=t,a),{year:o,dayOfYear:s}}function J(t,e,n){var i,r,o=Q(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?i=s+tt(r=t.year()-1,e,n):s>tt(t.year(),e,n)?(i=s-tt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function tt(t,e,n){var i=Q(t,e,n),r=Q(t+1,e,n);return(X(t)-i+r)/7}function et(t,e,n){return null!=t?t:null!=e?e:n}function nt(t){var e,n,i,r,o=[];if(!t._d){for(i=function(t){var e=new Date(d.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[ge]&&null==t._a[pe]&&function(t){var e,n,i,r,o,s,a,l;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,s=4,n=et(e.GG,t._a[fe],J(st(),1,4).year),i=et(e.W,1),((r=et(e.E,1))<1||7<r)&&(l=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,n=et(e.gg,t._a[fe],J(st(),o,s).year),i=et(e.w,1),null!=e.d?((r=e.d)<0||6<r)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||6<e.e)&&(l=!0)):r=o),i<1||i>tt(n,o,s)?p(t)._overflowWeeks=!0:null!=l?p(t)._overflowWeekday=!0:(a=Z(n,i,r,o,s),t._a[fe]=a.year,t._dayOfYear=a.dayOfYear)}(t),t._dayOfYear&&(r=et(t._a[fe],i[fe]),t._dayOfYear>X(r)&&(p(t)._overflowDayOfYear=!0),n=G(r,0,t._dayOfYear),t._a[pe]=n.getUTCMonth(),t._a[ge]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[me]&&0===t._a[ve]&&0===t._a[ye]&&0===t._a[be]&&(t._nextDay=!0,t._a[me]=0),t._d=(t._useUTC?G:function(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return t<100&&0<=t&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[me]=24)}}function it(t){if(t._f!==d.ISO_8601){t._a=[],p(t).empty=!0;var e,n,i,r,o,s,a,l,c=""+t._i,u=c.length,h=0;for(i=I(t._f,t._locale).match(qt)||[],e=0;e<i.length;e++)r=i[e],(n=(c.match(R(r,t))||[])[0])&&(0<(o=c.substr(0,c.indexOf(n))).length&&p(t).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),h+=n.length),Gt[r]?(n?p(t).empty=!1:p(t).unusedTokens.push(r),s=r,l=t,null!=(a=n)&&f(de,s)&&de[s](a,l._a,l,s)):t._strict&&!n&&p(t).unusedTokens.push(r);p(t).charsLeftOver=u-h,0<c.length&&p(t).unusedInput.push(c),!0===p(t).bigHour&&t._a[me]<=12&&0<t._a[me]&&(p(t).bigHour=void 0),t._a[me]=function(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0)),e)}(t._locale,t._a[me],t._meridiem),nt(t),Y(t)}else V(t)}function rt(t){var e=t._i,n=t._f;return t._locale=t._locale||k(t._l),null===e||void 0===n&&""===e?c({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),m(e)?new g(Y(e)):(r(n)?function(t){var e,n,i,r,o;if(0===t._f.length)return p(t).invalidFormat=!0,t._d=new Date(NaN);for(r=0;r<t._f.length;r++)o=0,e=h({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],it(e),l(e)&&(o+=p(e).charsLeftOver,o+=10*p(e).unusedTokens.length,p(e).score=o,(null==i||o<i)&&(i=o,n=e));s(t,n||e)}(t):n?it(t):o(e)?t._d=e:function(t){var e=t._i;void 0===e?t._d=new Date(d.now()):o(e)?t._d=new Date(+e):"string"==typeof e?function(t){var e=Pe.exec(t._i);null!==e?t._d=new Date(+e[1]):(V(t),!1===t._isValid&&(delete t._isValid,d.createFromInputFallback(t)))}(t):r(e)?(t._a=i(e.slice(0),function(t){return parseInt(t,10)}),nt(t)):"object"==typeof e?function(t){if(!t._d){var e=D(t._i);t._a=i([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),nt(t)}}(t):"number"==typeof e?t._d=new Date(e):d.createFromInputFallback(t)}(t),l(t)||(t._d=null),t))}function ot(t,e,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,function(t){var e=new g(Y(rt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}(o)}function st(t,e,n,i){return ot(t,e,n,i,!1)}function at(t,e){var n,i;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return st();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function lt(t){var e=D(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=k(),this._bubble()}function ct(t){return t instanceof lt}function ut(t,n){A(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+N(~~(t/60),2)+n+N(~~t%60,2)})}function ht(t,e){var n=(e||"").match(t)||[],i=((n[n.length-1]||[])+"").match(Le)||["-",0,0],r=60*i[1]+y(i[2]);return"+"===i[0]?r:-r}function dt(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(m(t)||o(t)?+t:+st(t))-+n,n._d.setTime(+n._d+i),d.updateOffset(n,!1),n):st(t).local()}function ft(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function pt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function gt(t,e){var n,i,r,o=t,s=null;return ct(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(s=He.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:y(s[ge])*n,h:y(s[me])*n,m:y(s[ve])*n,s:y(s[ye])*n,ms:y(s[be])*n}):(s=Fe.exec(t))?(n="-"===s[1]?-1:1,o={y:mt(s[2],n),M:mt(s[3],n),d:mt(s[4],n),h:mt(s[5],n),m:mt(s[6],n),s:mt(s[7],n),w:mt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=function(t,e){var n;return t.isValid()&&e.isValid()?(e=dt(e,t),t.isBefore(e)?n=vt(t,e):((n=vt(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(st(o.from),st(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new lt(o),ct(t)&&f(t,"_locale")&&(i._locale=t._locale),i}function mt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function vt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function yt(i,r){return function(t,e){var n;return null===e||isNaN(+e)||(function(t,e){Ee[t]||(q(e),Ee[t]=!0)}(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period)."),n=t,t=e,e=n),bt(this,gt(t="string"==typeof t?+t:t,e),i),this}}function bt(t,e,n,i){var r=e._milliseconds,o=e._days,s=e._months;t.isValid()&&(i=null==i||i,r&&t._d.setTime(+t._d+r*n),o&&M(t,"Date",T(t,"Date")+o*n),s&&j(t,T(t,"Month")+s*n),i&&d.updateOffset(t,o||s))}function wt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=k(t))&&(this._locale=e),this)}function xt(){return this._locale}function _t(t,e){A(0,[t,t.length],0,e)}function Ct(t,e,n,i,r){var o;return null==t?J(this,i,r).year:((o=tt(t,i,r))<e&&(e=o),function(t,e,n,i,r){var o=Z(t,e,n,i,r),s=G(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,t,e,n,i,r))}function kt(){return this.hours()%12||12}function St(t,e){A(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Dt(t,e){return e._meridiemParse}function Et(t,e){e[be]=y(1e3*("0."+t))}function Tt(t){return t}function Mt(t,e,n,i){var r=k(),o=a().set(i,e);return r[n](o,t)}function $t(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Mt(t,e,n,r);var o,s=[];for(o=0;o<i;o++)s[o]=Mt(t,o,n,r);return s}function Nt(t,e,n,i){var r=gt(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function At(t){return t<0?Math.floor(t):Math.ceil(t)}function Pt(t){return 4800*t/146097}function It(t){return 146097*t/4800}function Ot(t){return function(){return this.as(t)}}function Rt(t){return function(){return this._data[t]}}function Lt(t,e,n){var i=gt(t).abs(),r=yn(i.as("s")),o=yn(i.as("m")),s=yn(i.as("h")),a=yn(i.as("d")),l=yn(i.as("M")),c=yn(i.as("y")),u=r<bn.s&&["s",r]||o<=1&&["m"]||o<bn.m&&["mm",o]||s<=1&&["h"]||s<bn.h&&["hh",s]||a<=1&&["d"]||a<bn.d&&["dd",a]||l<=1&&["M"]||l<bn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=e,u[3]=0<+t,u[4]=n,function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply(null,u)}function Ht(){var t,e,n=wn(this._milliseconds)/1e3,i=wn(this._days),r=wn(this._months);e=v((t=v(n/60))/60),n%=60,t%=60;var o=v(r/12),s=r%=12,a=i,l=e,c=t,u=n,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(a?a+"D":"")+(l||c||u?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var Ft,zt,jt=d.momentProperties=[],Wt=!1,Bt={},Yt={},qt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ut=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Vt={},Gt={},Xt=/\d/,Kt=/\d\d/,Qt=/\d{3}/,Zt=/\d{4}/,Jt=/[+-]?\d{6}/,te=/\d\d?/,ee=/\d\d\d\d?/,ne=/\d\d\d\d\d\d?/,ie=/\d{1,3}/,re=/\d{1,4}/,oe=/[+-]?\d{1,6}/,se=/\d+/,ae=/[+-]?\d+/,le=/Z|[+-]\d\d:?\d\d/gi,ce=/Z|[+-]\d\d(?::?\d\d)?/gi,ue=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,he={},de={},fe=0,pe=1,ge=2,me=3,ve=4,ye=5,be=6,we=7,xe=8;A("M",["MM",2],"Mo",function(){return this.month()+1}),A("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),A("MMMM",0,0,function(t){return this.localeData().months(this,t)}),t("month","M"),O("M",te),O("MM",te,Kt),O("MMM",function(t,e){return e.monthsShortRegex(t)}),O("MMMM",function(t,e){return e.monthsRegex(t)}),H(["M","MM"],function(t,e){e[pe]=y(t)-1}),H(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[pe]=r:p(n).invalidMonth=t});var _e=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ke="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Se=ue,De=ue,Ee={},Te=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Me=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,$e=/Z|[+-]\d\d(?::?\d\d)?/,Ne=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,d.suppressDeprecationWarnings=!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ae=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Pe=/^\/?Date\((\-?\d+)/i;d.createFromInputFallback=U("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),A("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),A(0,["YY",2],0,function(){return this.year()%100}),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),t("year","y"),O("Y",ae),O("YY",te,Kt),O("YYYY",re,Zt),O("YYYYY",oe,Jt),O("YYYYYY",oe,Jt),H(["YYYYY","YYYYYY"],fe),H("YYYY",function(t,e){e[fe]=2===t.length?d.parseTwoDigitYear(t):y(t)}),H("YY",function(t,e){e[fe]=d.parseTwoDigitYear(t)}),H("Y",function(t,e){e[fe]=parseInt(t,10)});var Ie=e("FullYear",!(d.parseTwoDigitYear=function(t){return y(t)+(68<y(t)?1900:2e3)}));d.ISO_8601=function(){};var Oe=U("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=st.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:c()}),Re=U("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=st.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:c()});ut("Z",":"),ut("ZZ",""),O("Z",ce),O("ZZ",ce),H(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=ht(ce,t)});var Le=/([\+\-]|\d\d)/gi;d.updateOffset=function(){};var He=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Fe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;gt.fn=lt.prototype;var ze=yt(1,"add"),je=yt(-1,"subtract");d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var We=U("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});A(0,["gg",2],0,function(){return this.weekYear()%100}),A(0,["GG",2],0,function(){return this.isoWeekYear()%100}),_t("gggg","weekYear"),_t("ggggg","weekYear"),_t("GGGG","isoWeekYear"),_t("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),O("G",ae),O("g",ae),O("GG",te,Kt),O("gg",te,Kt),O("GGGG",re,Zt),O("gggg",re,Zt),O("GGGGG",oe,Jt),O("ggggg",oe,Jt),F(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=y(t)}),F(["gg","GG"],function(t,e,n,i){e[i]=d.parseTwoDigitYear(t)}),A("Q",0,"Qo","quarter"),t("quarter","Q"),O("Q",Xt),H("Q",function(t,e){e[pe]=3*(y(t)-1)}),A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),O("w",te),O("ww",te,Kt),O("W",te),O("WW",te,Kt),F(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=y(t)});A("D",["DD",2],"Do","date"),t("date","D"),O("D",te),O("DD",te,Kt),O("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),H(["D","DD"],ge),H("Do",function(t,e){e[ge]=y(t.match(te)[0])});var Be=e("Date",!0);A("d",0,"do","day"),A("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),A("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),A("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),O("d",te),O("e",te),O("E",te),O("dd",ue),O("ddd",ue),O("dddd",ue),F(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:p(n).invalidWeekday=t}),F(["d","e","E"],function(t,e,n,i){e[i]=y(t)});var Ye="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ue="Su_Mo_Tu_We_Th_Fr_Sa".split("_");A("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),O("DDD",ie),O("DDDD",Qt),H(["DDD","DDDD"],function(t,e,n){n._dayOfYear=y(t)}),A("H",["HH",2],0,"hour"),A("h",["hh",2],0,kt),A("hmm",0,0,function(){return""+kt.apply(this)+N(this.minutes(),2)}),A("hmmss",0,0,function(){return""+kt.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)}),A("Hmm",0,0,function(){return""+this.hours()+N(this.minutes(),2)}),A("Hmmss",0,0,function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)}),St("a",!0),St("A",!1),t("hour","h"),O("a",Dt),O("A",Dt),O("H",te),O("h",te),O("HH",te,Kt),O("hh",te,Kt),O("hmm",ee),O("hmmss",ne),O("Hmm",ee),O("Hmmss",ne),H(["H","HH"],me),H(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),H(["h","hh"],function(t,e,n){e[me]=y(t),p(n).bigHour=!0}),H("hmm",function(t,e,n){var i=t.length-2;e[me]=y(t.substr(0,i)),e[ve]=y(t.substr(i)),p(n).bigHour=!0}),H("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[me]=y(t.substr(0,i)),e[ve]=y(t.substr(i,2)),e[ye]=y(t.substr(r)),p(n).bigHour=!0}),H("Hmm",function(t,e,n){var i=t.length-2;e[me]=y(t.substr(0,i)),e[ve]=y(t.substr(i))}),H("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[me]=y(t.substr(0,i)),e[ve]=y(t.substr(i,2)),e[ye]=y(t.substr(r))});var Ve=e("Hours",!0);A("m",["mm",2],0,"minute"),t("minute","m"),O("m",te),O("mm",te,Kt),H(["m","mm"],ve);var Ge=e("Minutes",!1);A("s",["ss",2],0,"second"),t("second","s"),O("s",te),O("ss",te,Kt),H(["s","ss"],ye);var Xe,Ke=e("Seconds",!1);for(A("S",0,0,function(){return~~(this.millisecond()/100)}),A(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),A(0,["SSS",3],0,"millisecond"),A(0,["SSSS",4],0,function(){return 10*this.millisecond()}),A(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),A(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),A(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),A(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),A(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),O("S",ie,Xt),O("SS",ie,Kt),O("SSS",ie,Qt),Xe="SSSS";Xe.length<=9;Xe+="S")O(Xe,se);for(Xe="S";Xe.length<=9;Xe+="S")H(Xe,Et);var Qe=e("Milliseconds",!1);A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");var Ze=g.prototype;Ze.add=ze,Ze.calendar=function(t,e){var n=t||st(),i=dt(n,this).startOf("day"),r=this.diff(i,"days",!0),o=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse",s=e&&(E(e[o])?e[o]():e[o]);return this.format(s||this.localeData().calendar(o,this,st(n)))},Ze.clone=function(){return new g(this)},Ze.diff=function(t,e,n){var i,r,o,s;return this.isValid()?(i=dt(t,this)).isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),"year"===(e=S(e))||"month"===e||"quarter"===e?(s=function(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return i=e-o<0?(n=t.clone().add(r-1,"months"),(e-o)/(o-n)):(n=t.clone().add(1+r,"months"),(e-o)/(n-o)),-(r+i)}(this,i),"quarter"===e?s/=3:"year"===e&&(s/=12)):(o=this-i,s="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?s:v(s)):NaN:NaN},Ze.endOf=function(t){return void 0===(t=S(t))||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},Ze.format=function(t){var e=P(this,t||d.defaultFormat);return this.localeData().postformat(e)},Ze.from=function(t,e){return this.isValid()&&(m(t)&&t.isValid()||st(t).isValid())?gt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Ze.fromNow=function(t){return this.from(st(),t)},Ze.to=function(t,e){return this.isValid()&&(m(t)&&t.isValid()||st(t).isValid())?gt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Ze.toNow=function(t){return this.to(st(),t)},Ze.get=$,Ze.invalidAt=function(){return p(this).overflow},Ze.isAfter=function(t,e){var n=m(t)?t:st(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=S(u(e)?"millisecond":e))?+n<+this:+n<+this.clone().startOf(e))},Ze.isBefore=function(t,e){var n=m(t)?t:st(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=S(u(e)?"millisecond":e))?+this<+n:+this.clone().endOf(e)<+n)},Ze.isBetween=function(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)},Ze.isSame=function(t,e){var n,i=m(t)?t:st(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=S(e||"millisecond"))?+this==+i:(n=+i,+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e)))},Ze.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Ze.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Ze.isValid=function(){return l(this)},Ze.lang=We,Ze.locale=wt,Ze.localeData=xt,Ze.max=Re,Ze.min=Oe,Ze.parsingFlags=function(){return s({},p(this))},Ze.set=$,Ze.startOf=function(t){switch(t=S(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},Ze.subtract=je,Ze.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},Ze.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},Ze.toDate=function(){return this._offset?new Date(+this):this._d},Ze.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?E(Date.prototype.toISOString)?this.toDate().toISOString():P(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Ze.toJSON=function(){return this.isValid()?this.toISOString():"null"},Ze.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Ze.unix=function(){return Math.floor(+this/1e3)},Ze.valueOf=function(){return+this._d-6e4*(this._offset||0)},Ze.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Ze.year=Ie,Ze.isLeapYear=function(){return K(this.year())},Ze.weekYear=function(t){return Ct.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Ze.isoWeekYear=function(t){return Ct.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Ze.quarter=Ze.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Ze.month=W,Ze.daysInMonth=function(){return z(this.year(),this.month())},Ze.week=Ze.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Ze.isoWeek=Ze.isoWeeks=function(t){var e=J(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Ze.weeksInYear=function(){var t=this.localeData()._week;return tt(this.year(),t.dow,t.doy)},Ze.isoWeeksInYear=function(){return tt(this.year(),1,4)},Ze.date=Be,Ze.day=Ze.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},Ze.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Ze.isoWeekday=function(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN},Ze.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Ze.hour=Ze.hours=Ve,Ze.minute=Ze.minutes=Ge,Ze.second=Ze.seconds=Ke,Ze.millisecond=Ze.milliseconds=Qe,Ze.utcOffset=function(t,e){var n,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=ht(ce,t):Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(n=ft(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?bt(this,gt(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:ft(this):null!=t?this:NaN},Ze.utc=function(t){return this.utcOffset(0,t)},Ze.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ft(this),"m")),this},Ze.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(ht(le,this._i)),this},Ze.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?st(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Ze.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Ze.isDSTShifted=function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t={};if(h(t,this),(t=rt(t))._a){var e=t._isUTC?a(t._a):st(t._a);this._isDSTShifted=this.isValid()&&0<b(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted},Ze.isLocal=function(){return!!this.isValid()&&!this._isUTC},Ze.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Ze.isUtc=pt,Ze.isUTC=pt,Ze.zoneAbbr=function(){return this._isUTC?"UTC":""},Ze.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Ze.dates=U("dates accessor is deprecated. Use date instead.",Be),Ze.months=U("months accessor is deprecated. Use month instead",W),Ze.years=U("years accessor is deprecated. Use year instead",Ie),Ze.zone=U("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()});var Je=Ze,tn=n.prototype;tn._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},tn.calendar=function(t,e,n){var i=this._calendar[t];return E(i)?i.call(e,n):i},tn._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},tn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},tn._invalidDate="Invalid date",tn.invalidDate=function(){return this._invalidDate},tn._ordinal="%d",tn.ordinal=function(t){return this._ordinal.replace("%d",t)},tn._ordinalParse=/\d{1,2}/,tn.preparse=Tt,tn.postformat=Tt,tn._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},tn.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return E(r)?r(t,e,n,i):r.replace(/%d/i,t)},tn.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return E(n)?n(e):n.replace(/%s/i,e)},tn.set=function(t){var e,n;for(n in t)E(e=t[n])?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},tn.months=function(t,e){return r(this._months)?this._months[t.month()]:this._months[_e.test(e)?"format":"standalone"][t.month()]},tn._months=Ce,tn.monthsShort=function(t,e){return r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[_e.test(e)?"format":"standalone"][t.month()]},tn._monthsShort=ke,tn.monthsParse=function(t,e,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},tn._monthsRegex=De,tn.monthsRegex=function(t){return this._monthsParseExact?(f(this,"_monthsRegex")||B.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex},tn._monthsShortRegex=Se,tn.monthsShortRegex=function(t){return this._monthsParseExact?(f(this,"_monthsRegex")||B.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex},tn.week=function(t){return J(t,this._week.dow,this._week.doy).week},tn._week={dow:0,doy:6},tn.firstDayOfYear=function(){return this._week.doy},tn.firstDayOfWeek=function(){return this._week.dow},tn.weekdays=function(t,e){return r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]},tn._weekdays=Ye,tn.weekdaysMin=function(t){return this._weekdaysMin[t.day()]},tn._weekdaysMin=Ue,tn.weekdaysShort=function(t){return this._weekdaysShort[t.day()]},tn._weekdaysShort=qe,tn.weekdaysParse=function(t,e,n){var i,r,o;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=st([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},tn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},tn._meridiemParse=/[ap]\.?m?\.?/i,tn.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},_("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===y(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),d.lang=U("moment.lang is deprecated. Use moment.locale instead.",_),d.langData=U("moment.langData is deprecated. Use moment.localeData instead.",k);var en=Math.abs,nn=Ot("ms"),rn=Ot("s"),on=Ot("m"),sn=Ot("h"),an=Ot("d"),ln=Ot("w"),cn=Ot("M"),un=Ot("y"),hn=Rt("milliseconds"),dn=Rt("seconds"),fn=Rt("minutes"),pn=Rt("hours"),gn=Rt("days"),mn=Rt("months"),vn=Rt("years"),yn=Math.round,bn={s:45,m:45,h:22,d:26,M:11},wn=Math.abs,xn=lt.prototype;return xn.abs=function(){var t=this._data;return this._milliseconds=en(this._milliseconds),this._days=en(this._days),this._months=en(this._months),t.milliseconds=en(t.milliseconds),t.seconds=en(t.seconds),t.minutes=en(t.minutes),t.hours=en(t.hours),t.months=en(t.months),t.years=en(t.years),this},xn.add=function(t,e){return Nt(this,t,e,1)},xn.subtract=function(t,e){return Nt(this,t,e,-1)},xn.as=function(t){var e,n,i=this._milliseconds;if("month"===(t=S(t))||"year"===t)return e=this._days+i/864e5,n=this._months+Pt(e),"month"===t?n:n/12;switch(e=this._days+Math.round(It(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},xn.asMilliseconds=nn,xn.asSeconds=rn,xn.asMinutes=on,xn.asHours=sn,xn.asDays=an,xn.asWeeks=ln,xn.asMonths=cn,xn.asYears=un,xn.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)},xn._bubble=function(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return 0<=o&&0<=s&&0<=a||o<=0&&s<=0&&a<=0||(o+=864e5*At(It(a)+s),a=s=0),l.milliseconds=o%1e3,t=v(o/1e3),l.seconds=t%60,e=v(t/60),l.minutes=e%60,n=v(e/60),l.hours=n%24,a+=r=v(Pt(s+=v(n/24))),s-=At(It(r)),i=v(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},xn.get=function(t){return this[(t=S(t))+"s"]()},xn.milliseconds=hn,xn.seconds=dn,xn.minutes=fn,xn.hours=pn,xn.days=gn,xn.weeks=function(){return v(this.days()/7)},xn.months=mn,xn.years=vn,xn.humanize=function(t){var e=this.localeData(),n=Lt(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},xn.toISOString=Ht,xn.toString=Ht,xn.toJSON=Ht,xn.locale=wt,xn.localeData=xt,xn.toIsoString=U("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ht),xn.lang=We,A("X",0,0,"unix"),A("x",0,0,"valueOf"),O("x",ae),O("X",/[+-]?\d+(\.\d{1,3})?/),H("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),H("x",function(t,e,n){n._d=new Date(y(t))}),d.version="2.11.2",Ft=st,d.fn=Je,d.min=function(){return at("isBefore",[].slice.call(arguments,0))},d.max=function(){return at("isAfter",[].slice.call(arguments,0))},d.now=function(){return Date.now?Date.now():+new Date},d.utc=a,d.unix=function(t){return st(1e3*t)},d.months=function(t,e){return $t(t,e,"months",12,"month")},d.isDate=o,d.locale=_,d.invalid=c,d.duration=gt,d.isMoment=m,d.weekdays=function(t,e){return $t(t,e,"weekdays",7,"day")},d.parseZone=function(){return st.apply(null,arguments).parseZone()},d.localeData=k,d.isDuration=ct,d.monthsShort=function(t,e){return $t(t,e,"monthsShort",12,"month")},d.weekdaysMin=function(t,e){return $t(t,e,"weekdaysMin",7,"day")},d.defineLocale=C,d.weekdaysShort=function(t,e){return $t(t,e,"weekdaysShort",7,"day")},d.normalizeUnits=S,d.relativeTimeThreshold=function(t,e){return void 0!==bn[t]&&(void 0===e?bn[t]:(bn[t]=e,!0))},d.prototype=Je,d}),function(i,r){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(t,e,n){i.daterangepicker=r(i,n,t,e)});else if("undefined"!=typeof exports){var e,t=require("moment");try{e=require("jquery")}catch(t){if(!(e=window.jQuery))throw new Error("jQuery dependency not found")}r(i,exports,t,e)}else i.daterangepicker=r(i,{},i.moment,i.jQuery||i.Zepto||i.ender||i.$)}(this,function(t,e,b,_){function i(t,e,n){this.parentEl="body",this.element=_(t),this.isShowing=!1,"object"==typeof e&&null!==e||(e={}),this.parentEl="object"==typeof e&&e.parentEl&&_(e.parentEl).length?_(e.parentEl):_(this.parentEl),this.container=_('<div class="daterangepicker dropdown-menu"><div class="calendar first left"></div><div class="calendar second right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input form-group form-group-default "><label for="daterangepicker_start"></label><input class="form-control" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input form-group form-group-default "><label for="daterangepicker_end"></label><input class="form-control" type="text" name="daterangepicker_end" value="" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>').appendTo(this.parentEl),this.setOptions(e,n);var i=this.container;_.each(this.buttonClasses,function(t,e){i.find("button").addClass(e)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",_.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",_.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",_.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",_.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",_.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",_.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",_.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",_.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",_.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",_.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",_.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",_.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",_.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",_.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",_.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",_.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":_.proxy(this.show,this),"focus.daterangepicker":_.proxy(this.show,this),"keyup.daterangepicker":_.proxy(this.updateFromControl,this)}):this.element.on("click.daterangepicker",_.proxy(this.toggle,this))}i.prototype={constructor:i,setOptions:function(t,e){if(this.startDate=b().startOf("day"),this.endDate=b().endOf("day"),this.timeutcOffset=b().utcOffset(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerSeconds=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:b.weekdaysMin(),monthNames:b.monthsShort(),firstDay:b.localeData()._week.dow},this.cb=function(){},"string"==typeof t.format&&(this.format=t.format),"string"==typeof t.separator&&(this.separator=t.separator),"string"==typeof t.startDate&&(this.startDate=b(t.startDate,this.format)),"string"==typeof t.endDate&&(this.endDate=b(t.endDate,this.format)),"string"==typeof t.minDate&&(this.minDate=b(t.minDate,this.format)),"string"==typeof t.maxDate&&(this.maxDate=b(t.maxDate,this.format)),"object"==typeof t.startDate&&(this.startDate=b(t.startDate)),"object"==typeof t.endDate&&(this.endDate=b(t.endDate)),"object"==typeof t.minDate&&(this.minDate=b(t.minDate)),"object"==typeof t.maxDate&&(this.maxDate=b(t.maxDate)),"string"==typeof t.applyClass&&(this.applyClass=t.applyClass),"string"==typeof t.cancelClass&&(this.cancelClass=t.cancelClass),"object"==typeof t.dateLimit&&(this.dateLimit=t.dateLimit),"object"==typeof t.locale&&("object"==typeof t.locale.daysOfWeek&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),"object"==typeof t.locale.monthNames&&(this.locale.monthNames=t.locale.monthNames.slice()),"number"==typeof t.locale.firstDay&&(this.locale.firstDay=t.locale.firstDay),"string"==typeof t.locale.applyLabel&&(this.locale.applyLabel=t.locale.applyLabel),"string"==typeof t.locale.cancelLabel&&(this.locale.cancelLabel=t.locale.cancelLabel),"string"==typeof t.locale.fromLabel&&(this.locale.fromLabel=t.locale.fromLabel),"string"==typeof t.locale.toLabel&&(this.locale.toLabel=t.locale.toLabel),"string"==typeof t.locale.weekLabel&&(this.locale.weekLabel=t.locale.weekLabel),"string"==typeof t.locale.customRangeLabel&&(this.locale.customRangeLabel=t.locale.customRangeLabel)),"string"==typeof t.opens&&(this.opens=t.opens),"boolean"==typeof t.showWeekNumbers&&(this.showWeekNumbers=t.showWeekNumbers),"string"==typeof t.buttonClasses&&(this.buttonClasses=[t.buttonClasses]),"object"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses),"boolean"==typeof t.showDropdowns&&(this.showDropdowns=t.showDropdowns),"boolean"==typeof t.singleDatePicker&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof t.timePicker&&(this.timePicker=t.timePicker),"boolean"==typeof t.timePickerSeconds&&(this.timePickerSeconds=t.timePickerSeconds),"number"==typeof t.timePickerIncrement&&(this.timePickerIncrement=t.timePickerIncrement),"boolean"==typeof t.timePicker12Hour&&(this.timePicker12Hour=t.timePicker12Hour),0!=this.locale.firstDay)for(var n=this.locale.firstDay;0<n;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),n--;var i,r,o;if(void 0===t.startDate&&void 0===t.endDate&&_(this.element).is("input[type=text]")){var s=_(this.element).val(),a=s.split(this.separator);i=r=null,2==a.length?(i=b(a[0],this.format),r=b(a[1],this.format)):this.singleDatePicker&&""!==s&&(i=b(s,this.format),r=b(s,this.format)),null!==i&&null!==r&&(this.startDate=i,this.endDate=r)}if("string"==typeof t.timeutcOffset||"number"==typeof t.timeutcOffset?(this.timeutcOffset=t.timeutcOffset,this.startDate.utcOffset(this.timeutcOffset),this.endDate.utcOffset(this.timeutcOffset)):this.timeutcOffset=b(this.startDate).utcOffset(),"object"==typeof t.ranges){for(o in t.ranges)i="string"==typeof t.ranges[o][0]?b(t.ranges[o][0],this.format):b(t.ranges[o][0]),r="string"==typeof t.ranges[o][1]?b(t.ranges[o][1],this.format):b(t.ranges[o][1]),this.minDate&&i.isBefore(this.minDate)&&(i=b(this.minDate)),this.maxDate&&r.isAfter(this.maxDate)&&(r=b(this.maxDate)),this.minDate&&r.isBefore(this.minDate)||this.maxDate&&i.isAfter(this.maxDate)||(this.ranges[o]=[i,r]);var l="<ul>";for(o in this.ranges)l+="<li>"+o+"</li>";l+="<li>"+this.locale.customRangeLabel+"</li>",l+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(l)}if("function"==typeof e&&(this.cb=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:b([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute(),this.startDate.second()]),calendar:[]},this.rightCalendar={month:b([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute(),this.endDate.second()]),calendar:[]},"right"==this.opens||"center"==this.opens){var c=this.container.find(".calendar.first"),u=this.container.find(".calendar.second");u.hasClass("single")&&(u.removeClass("single"),c.addClass("single")),c.removeClass("left").addClass("right"),u.removeClass("right").addClass("left"),this.singleDatePicker&&(c.show(),u.hide())}void 0!==t.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.updateView(),this.updateCalendars()},setStartDate:function(t){"string"==typeof t&&(this.startDate=b(t,this.format).utcOffset(this.timeutcOffset)),"object"==typeof t&&(this.startDate=b(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},setEndDate:function(t){"string"==typeof t&&(this.endDate=b(t,this.format).utcOffset(this.timeutcOffset)),"object"==typeof t&&(this.endDate=b(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.separator),e=null,n=null;2===t.length&&(e=b(t[0],this.format).utcOffset(this.timeutcOffset),n=b(t[1],this.format).utcOffset(this.timeutcOffset)),!this.singleDatePicker&&null!==e&&null!==n||(n=e=b(this.element.val(),this.format).utcOffset(this.timeutcOffset)),n.isBefore(e)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=e,this.endDate=n,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var t={top:0,left:0},e=_(window).width();this.parentEl.is("body")||(t={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},e=this.parentEl[0].clientWidth+this.parentEl.offset().left),"left"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,right:e-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,left:this.element.offset().left-t.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,left:this.element.offset().left-t.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>_(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(t){this.element.hasClass("active")?this.hide():this.show()},show:function(t){this.isShowing||(this.element.addClass("active"),this.container.show(),this.move(),this._outsideClickProxy=_.proxy(function(t){this.outsideClick(t)},this),_(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.isShowing=!0,this.element.trigger("show.daterangepicker",this))},outsideClick:function(t){var e=_(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-date").length||this.hide()},hide:function(t){this.isShowing&&(_(document).off(".daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger("hide.daterangepicker",this))},enterRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(t){var e,n,i=_(t.target),r=b(i.val(),this.format);r.isValid()&&(n="daterangepicker_start"===i.attr("name")?(e=r,this.endDate):(e=this.startDate,r),this.setCustomDates(e,n))},inputsKeydown:function(t){13===t.keyCode&&(this.inputsChanged(t),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)):this.element.is("input")&&this.element.val(this.endDate.format(this.format))},clickRange:function(t){var e=t.target.innerHTML;if((this.chosenLabel=e)==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(t){_(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){_(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(t){var e=_(t.target).attr("data-title"),n=e.substr(1,1),i=e.substr(3,1);_(t.target).parents(".calendar").hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[n][i].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[n][i].format(this.format))},setCustomDates:function(t,e){if(this.chosenLabel=this.locale.customRangeLabel,t.isAfter(e)){var n=this.endDate.diff(this.startDate);e=b(t).add(n,"ms"),this.maxDate&&e.isAfter(this.maxDate)&&(e=this.maxDate)}this.startDate=t,this.endDate=e,this.updateView(),this.updateCalendars()},clickDate:function(t){var e,n,i=_(t.target).attr("data-title"),r=i.substr(1,1),o=i.substr(3,1),s=_(t.target).parents(".calendar");if(s.hasClass("left")){if(e=this.leftCalendar.calendar[r][o],n=this.endDate,"object"==typeof this.dateLimit){var a=b(e).add(this.dateLimit).startOf("day");n.isAfter(a)&&(n=a)}}else if(e=this.startDate,n=this.rightCalendar.calendar[r][o],"object"==typeof this.dateLimit){var l=b(n).subtract(this.dateLimit).startOf("day");e.isBefore(l)&&(e=l)}this.singleDatePicker&&s.hasClass("left")?n=e.clone():this.singleDatePicker&&s.hasClass("right")&&(e=n.clone()),s.find("td").removeClass("active"),_(t.target).addClass("active"),this.setCustomDates(e,n),this.timePicker||n.endOf("day"),this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(t){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(t){var e=_(t.target).closest(".calendar").hasClass("left")?"left":"right",n=this.container.find(".calendar."+e),i=parseInt(n.find(".monthselect").val(),10),r=n.find(".yearselect").val();this[e+"Calendar"].month.month(i).year(r),this.updateCalendars()},updateTime:function(t){var e=_(t.target).closest(".calendar"),n=e.hasClass("left"),i=parseInt(e.find(".hourselect").val(),10),r=parseInt(e.find(".minuteselect").val(),10),o=0;if(this.timePickerSeconds&&(o=parseInt(e.find(".secondselect").val(),10)),this.timePicker12Hour){var s=e.find(".ampmselect").val();"PM"===s&&i<12&&(i+=12),"AM"===s&&12===i&&(i=0)}if(n){var a=this.startDate.clone();a.hour(i),a.minute(r),a.second(o),this.startDate=a,this.leftCalendar.month.hour(i).minute(r).second(o),this.singleDatePicker&&(this.endDate=a.clone())}else{var l=this.endDate.clone();l.hour(i),l.minute(r),l.second(o),this.endDate=l,this.singleDatePicker&&(this.startDate=l.clone()),this.rightCalendar.month.hour(i).minute(r).second(o)}this.updateView(),this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),this.leftCalendar.month.second(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),this.rightCalendar.month.second(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,"left")),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,"right")),this.container.find(".ranges li").removeClass("active");var t=!0,e=0;for(var n in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()),e++;t&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},buildCalendar:function(t,e,n,i,r,o){var s,a=b([e,t]).daysInMonth(),l=b([e,t,1]),c=b([e,t,a]),u=b(l).subtract(1,"month").month(),h=b(l).subtract(1,"month").year(),d=b([h,u]).daysInMonth(),f=l.day(),p=[];for(p.firstDay=l,p.lastDay=c,s=0;s<6;s++)p[s]=[];var g=d-f+this.locale.firstDay+1;d<g&&(g-=7),f==this.locale.firstDay&&(g=d-6);var m,v,y=b([h,u,g,12,i,r]).utcOffset(this.timeutcOffset);for(v=m=s=0;s<42;s++,m++,y=b(y).add(24,"hour"))0<s&&m%7==0&&(m=0,v++),p[v][m]=y.clone().hour(n),y.hour(12),this.minDate&&p[v][m].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&p[v][m].isBefore(this.minDate)&&"left"==o&&(p[v][m]=this.minDate.clone()),this.maxDate&&p[v][m].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&p[v][m].isAfter(this.maxDate)&&"right"==o&&(p[v][m]=this.maxDate.clone());return p},renderDropdowns:function(t,e,n){for(var i=t.month(),r=t.year(),o=n&&n.year()||r+5,s=e&&e.year()||r-50,a='<select class="monthselect">',l=r==s,c=r==o,u=0;u<12;u++)(!l||u>=e.month())&&(!c||u<=n.month())&&(a+="<option value='"+u+"'"+(u===i?" selected='selected'":"")+">"+this.locale.monthNames[u]+"</option>");a+="</select>";for(var h='<select class="yearselect">',d=s;d<=o;d++)h+='<option value="'+d+'"'+(d===r?' selected="selected"':"")+">"+d+"</option>";return a+(h+="</select>")},renderCalendar:function(t,e,n,i,r){var o='<div class="calendar-date">';o+='<table class="table-condensed">',o+="<thead>",o+="<tr>",this.showWeekNumbers&&(o+="<th></th>"),!n||n.isBefore(t.firstDay)?o+='<th class="prev available"><i class="fa fa-chevron-left icon icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':o+="<th></th>";var s,a=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");this.showDropdowns&&(a=this.renderDropdowns(t[1][1],n,i)),o+='<th colspan="5" class="month">'+a+"</th>",!i||i.isAfter(t.lastDay)?o+='<th class="next available"><i class="fa fa-chevron-right icon icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':o+="<th></th>",o+="</tr>",o+="<tr>",this.showWeekNumbers&&(o+='<th class="week">'+this.locale.weekLabel+"</th>"),_.each(this.locale.daysOfWeek,function(t,e){o+="<th>"+e+"</th>"}),o+="</tr>",o+="</thead>",o+="<tbody>";for(var l=0;l<6;l++){o+="<tr>",this.showWeekNumbers&&(o+='<td class="week">'+t[l][0].week()+"</td>");for(var c=0;c<7;c++){var u="available ";u+=t[l][c].month()==t[1][1].month()?"":"off",n&&t[l][c].isBefore(n,"day")||i&&t[l][c].isAfter(i,"day")?u=" off disabled ":t[l][c].format("YYYY-MM-DD")==e.format("YYYY-MM-DD")?(u+=" active ",t[l][c].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(u+=" start-date "),t[l][c].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(u+=" end-date ")):t[l][c]>=this.startDate&&t[l][c]<=this.endDate&&(u+=" in-range ",t[l][c].isSame(this.startDate)&&(u+=" start-date "),t[l][c].isSame(this.endDate)&&(u+=" end-date "));var h="r"+l+"c"+c;o+='<td class="'+u.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+h+'">'+t[l][c].date()+"</td>"}o+="</tr>"}if(o+="</tbody>",o+="</table>",o+="</div>",this.timePicker){o+='<div class="calendar-time">',o+='<select class="hourselect">';var d=0,f=23;n&&("left"==r||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&(d=n.hour(),e.hour()<d&&e.hour(d),this.timePicker12Hour&&12<=d&&12<=e.hour()&&(d-=12),this.timePicker12Hour&&12==d&&(d=1)),i&&("right"==r||this.singleDatePicker)&&e.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&(f=i.hour(),e.hour()>f&&e.hour(f),this.timePicker12Hour&&12<=f&&12<=e.hour()&&(f-=12));var p=0,g=23,m=e.hour();for(this.timePicker12Hour&&(p=1,(g=12)<=m&&(m-=12),0===m&&(m=12)),s=p;s<=g;s++)o+=s==m?'<option value="'+s+'" selected="selected">'+s+"</option>":s<d||f<s?'<option value="'+s+'" disabled="disabled" class="disabled">'+s+"</option>":'<option value="'+s+'">'+s+"</option>";o+="</select> : ",o+='<select class="minuteselect">';var v=0,y=59;for(n&&("left"==r||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==n.format("YYYY-MM-DD h A")&&(v=n.minute(),e.minute()<v&&e.minute(v)),i&&("right"==r||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==i.format("YYYY-MM-DD h A")&&(y=i.minute(),e.minute()>y&&e.minute(y)),s=0;s<60;s+=this.timePickerIncrement){(b=s)<10&&(b="0"+b),s==e.minute()?o+='<option value="'+s+'" selected="selected">'+b+"</option>":o+=s<v||y<s?'<option value="'+s+'" disabled="disabled" class="disabled">'+b+"</option>":'<option value="'+s+'">'+b+"</option>"}if(o+="</select> ",this.timePickerSeconds){for(o+=': <select class="secondselect">',s=0;s<60;s+=this.timePickerIncrement){var b;(b=s)<10&&(b="0"+b),s==e.second()?o+='<option value="'+s+'" selected="selected">'+b+"</option>":o+='<option value="'+s+'">'+b+"</option>"}o+="</select>"}if(this.timePicker12Hour){o+='<select class="ampmselect">';var w="",x="";n&&("left"==r||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&12<=n.hour()&&(w=' disabled="disabled" class="disabled"'),i&&("right"==r||this.singleDatePicker)&&e.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&i.hour()<12&&(x=' disabled="disabled" class="disabled"'),12<=e.hour()?o+='<option value="AM"'+w+'>AM</option><option value="PM" selected="selected"'+x+">PM</option>":o+='<option value="AM" selected="selected"'+w+'>AM</option><option value="PM"'+x+">PM</option>",o+="</select>"}o+="</div>"}return o},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},_.fn.daterangepicker=function(e,n){return this.each(function(){var t=_(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new i(t,e,n))}),this}}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t:t(jQuery)}(function($t,Nt){"use strict";var t,At={beforeShow:n,move:n,change:n,show:n,hide:n,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},Pt=[],It=!!/msie/i.exec(window.navigator.userAgent),Ot=((t=document.createElement("div").style).cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")),Rt=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),Lt=function(){var t="";if(It)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function e(t,e){return!!~(""+t).indexOf(e)}function Ht(t,e,n,i){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s){var a=tinycolor(s),l=a.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(e,s)?" sp-thumb-active":"";var c=a.toString(i.preferredFormat||"rgb"),u=Ot?"background-color:"+a.toRgbString():"filter:"+a.toFilter();r.push('<span title="'+c+'" data-color="'+a.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+u+';" /></span>')}else{r.push($t("<div />").append($t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+r.join("")+"</div>"}function o(t,e){var c=function(t,e){var n=$t.extend({},At,t);return n.callbacks={move:zt(n.move,e),change:zt(n.change,e),show:zt(n.show,e),hide:zt(n.hide,e),beforeShow:zt(n.beforeShow,e)},n}(e,t),i=c.flat,n=c.showSelectionPalette,r=c.localStorageKey,o=c.theme,s=c.callbacks,a=function(n,i,r){var o;return function(){var t=this,e=arguments;r&&clearTimeout(o),!r&&o||(o=setTimeout(function(){o=null,n.apply(t,e)},i))}}(Et,10),l=!1,u=!1,h=0,d=0,f=0,p=0,g=0,m=0,v=0,y=0,b=0,w=0,x=1,_=[],C=[],k={},S=c.selectionPalette.slice(0),D=c.maxSelectionSize,E="sp-dragging",T=null,M=t.ownerDocument,$=(M.body,$t(t)),N=!1,A=$t(Lt,M).addClass(o),P=A.find(".sp-picker-container"),I=A.find(".sp-color"),O=A.find(".sp-dragger"),R=A.find(".sp-hue"),L=A.find(".sp-slider"),H=A.find(".sp-alpha-inner"),F=A.find(".sp-alpha"),z=A.find(".sp-alpha-handle"),j=A.find(".sp-input"),W=A.find(".sp-palette"),B=A.find(".sp-initial"),Y=A.find(".sp-cancel"),q=A.find(".sp-clear"),U=A.find(".sp-choose"),V=A.find(".sp-palette-toggle"),G=$.is("input"),X=G&&"color"===$.attr("type")&&Wt(),K=G&&!i,Q=K?$t(Rt).addClass(o).addClass(c.className).addClass(c.replacerClassName):$t([]),Z=K?Q:$,J=Q.find(".sp-preview-inner"),tt=c.color||G&&$.val(),et=!1,nt=c.preferredFormat,it=nt,rt=!c.showButtons||c.clickoutFiresChange,ot=!tt,st=c.allowEmpty&&!X;function at(){if(c.showPaletteOnly&&(c.showPalette=!0),V.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText),c.palette){_=c.palette.slice(0),C=$t.isArray(_[0])?_:[_],k={};for(var t=0;t<C.length;t++)for(var e=0;e<C[t].length;e++){var n=tinycolor(C[t][e]).toRgbString();k[n]=!0}}A.toggleClass("sp-flat",i),A.toggleClass("sp-input-disabled",!c.showInput),A.toggleClass("sp-alpha-enabled",c.showAlpha),A.toggleClass("sp-clear-enabled",st),A.toggleClass("sp-buttons-disabled",!c.showButtons),A.toggleClass("sp-palette-buttons-disabled",!c.togglePaletteOnly),A.toggleClass("sp-palette-disabled",!c.showPalette),A.toggleClass("sp-palette-only",c.showPaletteOnly),A.toggleClass("sp-initial-disabled",!c.showInitial),A.addClass(c.className).addClass(c.containerClassName),Et()}function lt(){if(r&&window.localStorage){try{var t=window.localStorage[r].split(",#");1<t.length&&(delete window.localStorage[r],$t.each(t,function(t,e){ct(e)}))}catch(t){}try{S=window.localStorage[r].split(";")}catch(t){}}}function ct(t){if(n){var e=tinycolor(t).toRgbString();if(!k[e]&&-1===$t.inArray(e,S))for(S.push(e);S.length>D;)S.shift();if(r&&window.localStorage)try{window.localStorage[r]=S.join(";")}catch(t){}}}function ut(){var n=_t(),t=$t.map(C,function(t,e){return Ht(t,n,"sp-palette-row sp-palette-row-"+e,c)});lt(),S&&t.push(Ht(function(){var t=[];if(c.showPalette)for(var e=0;e<S.length;e++){var n=tinycolor(S[e]).toRgbString();k[n]||t.push(S[e])}return t.reverse().slice(0,c.maxSelectionSize)}(),n,"sp-palette-row sp-palette-row-selection",c)),W.html(t.join(""))}function ht(){if(c.showInitial){var t=et,e=_t();B.html(Ht([t,e],e,"sp-palette-row-initial",c))}}function dt(){(d<=0||h<=0||p<=0)&&Et(),u=!0,A.addClass(E),T=null,$.trigger("dragstart.spectrum",[_t()])}function ft(){u=!1,A.removeClass(E),$.trigger("dragstop.spectrum",[_t()])}function pt(){var t=j.val();if(null!==t&&""!==t||!st){var e=tinycolor(t);e.isValid()?(xt(e),Dt(!0)):j.addClass("sp-validation-error")}else xt(null),Dt(!0)}function gt(){l?bt():mt()}function mt(){var t=$t.Event("beforeShow.spectrum");l?Et():($.trigger(t,[_t()]),!1===s.beforeShow(_t())||t.isDefaultPrevented()||(function(){for(var t=0;t<Pt.length;t++)Pt[t]&&Pt[t].hide()}(),l=!0,$t(M).bind("keydown.spectrum",vt),$t(M).bind("click.spectrum",yt),$t(window).bind("resize.spectrum",a),Q.addClass("sp-active"),A.removeClass("sp-hidden"),Et(),kt(),et=_t(),ht(),s.show(et),$.trigger("show.spectrum",[et])))}function vt(t){27===t.keyCode&&bt()}function yt(t){2!=t.button&&(u||(rt?Dt(!0):wt(),bt()))}function bt(){l&&!i&&(l=!1,$t(M).unbind("keydown.spectrum",vt),$t(M).unbind("click.spectrum",yt),$t(window).unbind("resize.spectrum",a),Q.removeClass("sp-active"),A.addClass("sp-hidden"),s.hide(_t()),$.trigger("hide.spectrum",[_t()]))}function wt(){xt(et,!0)}function xt(t,e){var n,i;tinycolor.equals(t,_t())?kt():(!t&&st?ot=!0:(ot=!1,i=(n=tinycolor(t)).toHsv(),y=i.h%360/360,b=i.s,w=i.v,x=i.a),kt(),n&&n.isValid()&&!e&&(it=nt||n.getFormat()))}function _t(t){return t=t||{},st&&ot?null:tinycolor.fromRatio({h:y,s:b,v:w,a:Math.round(100*x)/100},{format:t.format||it})}function Ct(){kt(),s.move(_t()),$.trigger("move.spectrum",[_t()])}function kt(){j.removeClass("sp-validation-error"),St();var t=tinycolor.fromRatio({h:y,s:1,v:1});I.css("background-color",t.toHexString());var e=it;x<1&&(0!==x||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=_t({format:e}),i="";if(J.removeClass("sp-clear-display"),J.css("background-color","transparent"),!n&&st)J.addClass("sp-clear-display");else{var r=n.toHexString(),o=n.toRgbString();if(Ot||1===n.alpha?J.css("background-color",o):(J.css("background-color","transparent"),J.css("filter",n.toFilter())),c.showAlpha){var s=n.toRgb();s.a=0;var a=tinycolor(s).toRgbString(),l="linear-gradient(left, "+a+", "+r+")";It?H.css("filter",tinycolor(a).toFilter({gradientType:1},r)):(H.css("background","-webkit-"+l),H.css("background","-moz-"+l),H.css("background","-ms-"+l),H.css("background","linear-gradient(to right, "+a+", "+r+")"))}i=n.toString("hex")}c.showInput&&j.val(i),c.showPalette&&ut(),ht()}function St(){var t=b,e=w;if(st&&ot)z.hide(),L.hide(),O.hide();else{z.show(),L.show(),O.show();var n=t*h,i=d-e*d;n=Math.max(-f,Math.min(h-f,n-f)),i=Math.max(-f,Math.min(d-f,i-f)),O.css({top:i+"px",left:n+"px"});var r=x*g;z.css({left:r-m/2+"px"});var o=y*p;L.css({top:o-v+"px"})}}function Dt(t){var e=_t(),n="",i=!tinycolor.equals(e,et);e&&(n=e.toString(it),ct(e)),G&&$.val(n),t&&i&&(s.change(e),$.trigger("change",[e]))}function Et(){h=I.width(),d=I.height(),f=O.height(),R.width(),p=R.height(),v=L.height(),g=F.width(),m=z.width(),i||(A.css("position","absolute"),c.offset?A.offset(c.offset):A.offset(function(t,e){var n=t.outerWidth(),i=t.outerHeight(),r=e.outerHeight(),o=t[0].ownerDocument,s=o.documentElement,a=s.clientWidth+$t(o).scrollLeft(),l=s.clientHeight+$t(o).scrollTop(),c=e.offset();return c.top+=r,c.left-=Math.min(c.left,c.left+n>a&&n<a?Math.abs(c.left+n-a):0),c.top-=Math.min(c.top,c.top+i>l&&i<l?Math.abs(i+r-0):0),c}(A,Z))),St(),c.showPalette&&ut(),$.trigger("reflow.spectrum")}function Tt(){bt(),N=!0,$.attr("disabled",!0),Z.addClass("sp-disabled")}!function(){if(It&&A.find("*:not(input)").attr("unselectable","on"),at(),K&&$.after(Q).hide(),st||q.hide(),i)$.after(A).hide();else{var t="parent"===c.appendTo?$.parent():$t(c.appendTo);1!==t.length&&(t=$t("body")),t.append(A)}function e(t){return t.data&&t.data.ignore?(xt($t(t.target).closest(".sp-thumb-el").data("color")),Ct()):(xt($t(t.target).closest(".sp-thumb-el").data("color")),Ct(),Dt(!0),c.hideAfterPaletteSelect&&bt()),!1}lt(),Z.bind("click.spectrum touchstart.spectrum",function(t){N||gt(),t.stopPropagation(),$t(t.target).is("input")||t.preventDefault()}),!$.is(":disabled")&&!0!==c.disabled||Tt(),A.click(Ft),j.change(pt),j.bind("paste",function(){setTimeout(pt,1)}),j.keydown(function(t){13==t.keyCode&&pt()}),Y.text(c.cancelText),Y.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),wt(),bt()}),q.attr("title",c.clearText),q.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),ot=!0,Ct(),i&&Dt(!0)}),U.text(c.chooseText),U.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),It&&j.is(":focus")&&j.trigger("change"),j.hasClass("sp-validation-error")||(Dt(!0),bt())}),V.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText),V.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),c.showPaletteOnly=!c.showPaletteOnly,c.showPaletteOnly||i||A.css("left","-="+(P.outerWidth(!0)+5)),at()}),jt(F,function(t,e,n){x=t/g,ot=!1,n.shiftKey&&(x=Math.round(10*x)/10),Ct()},dt,ft),jt(R,function(t,e){y=parseFloat(e/p),ot=!1,c.showAlpha||(x=1),Ct()},dt,ft),jt(I,function(t,e,n){if(n.shiftKey){if(!T){var i=b*h,r=d-w*d,o=Math.abs(t-i)>Math.abs(e-r);T=o?"x":"y"}}else T=null;var s=!T||"y"===T;T&&"x"!==T||(b=parseFloat(t/h)),s&&(w=parseFloat((d-e)/d)),ot=!1,c.showAlpha||(x=1),Ct()},dt,ft),tt?(xt(tt),kt(),it=nt||tinycolor(tt).format,ct(tt)):kt(),i&&mt();var n=It?"mousedown.spectrum":"click.spectrum touchstart.spectrum";W.delegate(".sp-thumb-el",n,e),B.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},e)}();var Mt={show:mt,hide:bt,toggle:gt,reflow:Et,option:function(t,e){return t===Nt?$t.extend({},c):e===Nt?c[t]:(c[t]=e,void at())},enable:function(){N=!1,$.attr("disabled",!1),Z.removeClass("sp-disabled")},disable:Tt,offset:function(t){c.offset=t,Et()},set:function(t){xt(t),Dt()},get:_t,destroy:function(){$.show(),Z.unbind("click.spectrum touchstart.spectrum"),A.remove(),Q.remove(),Pt[Mt.id]=null},container:A};return Mt.id=Pt.push(Mt)-1,Mt}function n(){}function Ft(t){t.stopPropagation()}function zt(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function jt(s,a,e,t){a=a||function(){},e=e||function(){},t=t||function(){};var l=document,c=!1,u={},h=0,d=0,f="ontouchstart"in window,n={};function p(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function i(t){if(c){if(It&&l.documentMode<9&&!t.button)return g();var e=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],n=e&&e.pageX||t.pageX,i=e&&e.pageY||t.pageY,r=Math.max(0,Math.min(n-u.left,d)),o=Math.max(0,Math.min(i-u.top,h));f&&p(t),a.apply(s,[r,o,t])}}function g(){c&&($t(l).unbind(n),$t(l.body).removeClass("sp-dragging"),setTimeout(function(){t.apply(s,arguments)},0)),c=!1}n.selectstart=p,n.dragstart=p,n["touchmove mousemove"]=i,n["touchend mouseup"]=g,$t(s).bind("touchstart mousedown",function(t){(t.which?3==t.which:2==t.button)||c||!1!==e.apply(s,arguments)&&(c=!0,h=$t(s).height(),d=$t(s).width(),u=$t(s).offset(),$t(l).bind(n),$t(l.body).addClass("sp-dragging"),i(t),p(t))})}function Wt(){return $t.fn.spectrum.inputTypeColorSupport()}var s="spectrum.id";$t.fn.spectrum=function(n,t){if("string"!=typeof n)return this.spectrum("destroy").each(function(){var t=o(this,$t.extend({},n,$t(this).data()));$t(this).data(s,t.id)});var i=this,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=Pt[$t(this).data(s)];if(t){var e=t[n];if(!e)throw new Error("Spectrum: no such method: '"+n+"'");"get"==n?i=t.get():"container"==n?i=t.container:"option"==n?i=t.option.apply(t,r):"destroy"==n?(t.destroy(),$t(this).removeData(s)):e.apply(t,r)}}),i},$t.fn.spectrum.load=!0,$t.fn.spectrum.loadOpts={},$t.fn.spectrum.draggable=jt,$t.fn.spectrum.defaults=At,$t.fn.spectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var e=$t("<input type='color' value='!' />")[0];t._cachedResult="color"===e.type&&"!"!==e.value}return t._cachedResult},$t.spectrum={},$t.spectrum.localization={},$t.spectrum.palettes={},$t.fn.spectrum.processNativeColorInputs=function(){var t=$t("input[type=color]");t.length&&!Wt()&&t.spectrum({preferredFormat:"hex6"})},function(){var o=/^[\s,#]+/,s=/\s+$/,i=0,c=Math,a=c.round,u=c.min,h=c.max,t=c.random,d=function(t,e){if(e=e||{},(t=t||"")instanceof d)return t;if(!(this instanceof d))return new d(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,i=!1,r=!1;"string"==typeof t&&(t=function(t){t=t.replace(o,"").replace(s,"").toLowerCase();var e,n=!1;if(D[t])t=D[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=L.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=L.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=L.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=L.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=L.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=L.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=L.hex8.exec(t))return{a:function(t){return N(t)/255}(e[1]),r:N(e[2]),g:N(e[3]),b:N(e[4]),format:n?"name":"hex8"};if(e=L.hex6.exec(t))return{r:N(e[1]),g:N(e[2]),b:N(e[3]),format:n?"name":"hex"};if(e=L.hex3.exec(t))return{r:N(e[1]+""+e[1]),g:N(e[2]+""+e[2]),b:N(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=function(t,e,n){return{r:255*M(t,255),g:255*M(e,255),b:255*M(n,255)}}(t.r,t.g,t.b),i=!0,r="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=P(t.s),t.v=P(t.v),e=function(t,e,n){t=6*M(t,360),e=M(e,100),n=M(n,100);var i=c.floor(t),r=t-i,o=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),l=i%6;return{r:255*[n,s,o,o,a,n][l],g:255*[a,n,n,s,o,o][l],b:255*[o,o,a,n,n,s][l]}}(t.h,t.s,t.v),i=!0,r="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=P(t.s),t.l=P(t.l),e=function(t,e,n){var i,r,o;function s(t,e,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=M(t,360),e=M(e,100),n=M(n,100),0===e)i=r=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=s(l,a,t+1/3),r=s(l,a,t),o=s(l,a,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(t.h,t.s,t.l),i=!0,r="hsl"),t.hasOwnProperty("a")&&(n=t.a));return n=T(n),{ok:i,format:t.format||r,r:u(255,h(e.r,0)),g:u(255,h(e.g,0)),b:u(255,h(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=a(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=n.ok,this._tc_id=i++};function r(t,e,n){t=M(t,255),e=M(e,255),n=M(n,255);var i,r,o=h(t,e,n),s=u(t,e,n),a=(o+s)/2;if(o==s)i=r=0;else{var l=o-s;switch(r=.5<a?l/(2-o-s):l/(o+s),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,l:a}}function l(t,e,n){t=M(t,255),e=M(e,255),n=M(n,255);var i,r,o=h(t,e,n),s=u(t,e,n),a=o,l=o-s;if(r=0===o?0:l/o,o==s)i=0;else{switch(o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,v:a}}function e(t,e,n,i){var r=[A(a(t).toString(16)),A(a(e).toString(16)),A(a(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function f(t,e,n,i){return[A(function(t){return Math.round(255*parseFloat(t)).toString(16)}(i)),A(a(t).toString(16)),A(a(e).toString(16)),A(a(n).toString(16))].join("")}function n(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.s-=e/100,n.s=$(n.s),d(n)}function p(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.s+=e/100,n.s=$(n.s),d(n)}function g(t){return d(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.l+=e/100,n.l=$(n.l),d(n)}function v(t,e){e=0===e?0:e||10;var n=d(t).toRgb();return n.r=h(0,u(255,n.r-a(-e/100*255))),n.g=h(0,u(255,n.g-a(-e/100*255))),n.b=h(0,u(255,n.b-a(-e/100*255))),d(n)}function y(t,e){e=0===e?0:e||10;var n=d(t).toHsl();return n.l-=e/100,n.l=$(n.l),d(n)}function b(t,e){var n=d(t).toHsl(),i=(a(n.h)+e)%360;return n.h=i<0?360+i:i,d(n)}function w(t){var e=d(t).toHsl();return e.h=(e.h+180)%360,d(e)}function x(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+120)%360,s:e.s,l:e.l}),d({h:(n+240)%360,s:e.s,l:e.l})]}function _(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+90)%360,s:e.s,l:e.l}),d({h:(n+180)%360,s:e.s,l:e.l}),d({h:(n+270)%360,s:e.s,l:e.l})]}function C(t){var e=d(t).toHsl(),n=e.h;return[d(t),d({h:(n+72)%360,s:e.s,l:e.l}),d({h:(n+216)%360,s:e.s,l:e.l})]}function k(t,e,n){e=e||6,n=n||30;var i=d(t).toHsl(),r=360/n,o=[d(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(d(i));return o}function S(t,e){e=e||6;for(var n=d(t).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/e;e--;)s.push(d({h:i,s:r,v:o})),o=(o+a)%1;return s}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=T(t),this._roundA=a(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=a(360*t.h),n=a(100*t.s),i=a(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=r(this._r,this._g,this._b),e=a(360*t.h),n=a(100*t.s),i=a(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return e(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return f(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(100*M(this._r,255))+"%",g:a(100*M(this._g,255))+"%",b:a(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+a(100*M(this._r,255))+"%, "+a(100*M(this._g,255))+"%, "+a(100*M(this._b,255))+"%)":"rgba("+a(100*M(this._r,255))+"%, "+a(100*M(this._g,255))+"%, "+a(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(E[e(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";t&&(n=d(t).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&0<=this._a;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(n,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(_,arguments)}},d.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:P(t[i]));t=n}return d(t,e)},d.equals=function(t,e){return!(!t||!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({r:t(),g:t(),b:t()})},d.mix=function(t,e,n){n=0===n?0:n||50;var i,r=d(t).toRgb(),o=d(e).toRgb(),s=n/100,a=2*s-1,l=o.a-r.a,c=1-(i=((i=a*l==-1?a:(a+l)/(1+a*l))+1)/2),u={r:o.r*i+r.r*c,g:o.g*i+r.g*c,b:o.b*i+r.b*c,a:o.a*s+r.a*(1-s)};return d(u)},d.readability=function(t,e){var n=d(t),i=d(e),r=n.toRgb(),o=i.toRgb(),s=n.getBrightness(),a=i.getBrightness(),l=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(s-a),color:l}},d.isReadable=function(t,e){var n=d.readability(t,e);return 125<n.brightness&&500<n.color},d.mostReadable=function(t,e){for(var n=null,i=0,r=!1,o=0;o<e.length;o++){var s=d.readability(t,e[o]),a=125<s.brightness&&500<s.color,l=s.brightness/125*3+s.color/500;(a&&!r||a&&r&&i<l||!a&&!r&&i<l)&&(r=a,i=l,n=d(e[o]))}return n};var D=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},E=d.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(D);function T(t){return t=parseFloat(t),(isNaN(t)||t<0||1<t)&&(t=1),t}function M(t,e){!function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}(t)||(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=u(e,h(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),c.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function $(t){return u(1,h(0,t))}function N(t){return parseInt(t,16)}function A(t){return 1==t.length?"0"+t:""+t}function P(t){return t<=1&&(t=100*t+"%"),t}var I,O,R,L=(O="[\\s|\\(]+("+(I="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?",R="[\\s|\\(]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?",{rgb:new RegExp("rgb"+O),rgba:new RegExp("rgba"+R),hsl:new RegExp("hsl"+O),hsla:new RegExp("hsla"+R),hsv:new RegExp("hsv"+O),hsva:new RegExp("hsva"+R),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=d}(),$t(function(){$t.fn.spectrum.load&&$t.fn.spectrum.processNativeColorInputs()})}),function(t){function s(){}function f(t,e){return t-e}var p,g,d="hasOwnProperty",m=/[\.\/]/,v={n:{}},y=function(t,e){var n,i=g,r=Array.prototype.slice.call(arguments,2),o=y.listeners(t),s=0,a=[],l={},c=[],u=p;p=t;for(var h=g=0,d=o.length;h<d;h++)"zIndex"in o[h]&&(a.push(o[h].zIndex),o[h].zIndex<0&&(l[o[h].zIndex]=o[h]));for(a.sort(f);a[s]<0;)if(n=l[a[s++]],c.push(n.apply(e,r)),g)return g=i,c;for(h=0;h<d;h++)if("zIndex"in(n=o[h]))if(n.zIndex==a[s]){if(c.push(n.apply(e,r)),g)break;do{if((n=l[a[++s]])&&c.push(n.apply(e,r)),g)break}while(n)}else l[n.zIndex]=n;else if(c.push(n.apply(e,r)),g)break;return g=i,p=u,c.length?c:null};y.listeners=function(t){var e,n,i,r,o,s,a,l,c=t.split(m),u=v,h=[u],d=[];for(r=0,o=c.length;r<o;r++){for(l=[],s=0,a=h.length;s<a;s++)for(n=[(u=h[s].n)[c[r]],u["*"]],i=2;i--;)(e=n[i])&&(l.push(e),d=d.concat(e.f||[]));h=l}return d},y.on=function(t,e){for(var n=t.split(m),i=v,r=0,o=n.length;r<o;r++)(i=i.n)[n[r]]||(i[n[r]]={n:{}}),i=i[n[r]];for(i.f=i.f||[],r=0,o=i.f.length;r<o;r++)if(i.f[r]==e)return s;return i.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},y.stop=function(){g=1},y.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(p):p},y.off=y.unbind=function(t,e){var n,i,r,o,s,a,l,c=t.split(m),u=[v];for(o=0,s=c.length;o<s;o++)for(a=0;a<u.length;a+=r.length-2){if(r=[a,1],n=u[a].n,"*"!=c[o])n[c[o]]&&r.push(n[c[o]]);else for(i in n)n[d](i)&&r.push(n[i]);u.splice.apply(u,r)}for(o=0,s=u.length;o<s;o++)for(n=u[o];n.n;){if(e){if(n.f){for(a=0,l=n.f.length;a<l;a++)if(n.f[a]==e){n.f.splice(a,1);break}n.f.length||delete n.f}for(i in n.n)if(n.n[d](i)&&n.n[i].f){var h=n.n[i].f;for(a=0,l=h.length;a<l;a++)if(h[a]==e){h.splice(a,1);break}h.length||delete n.n[i].f}}else for(i in delete n.f,n.n)n.n[d](i)&&n.n[i].f&&delete n.n[i].f;n=n.n}},y.once=function(e,n){var i=function(){var t=n.apply(this,arguments);return y.unbind(e,i),t};return y.on(e,i)},y.version="0.3.4",y.toString=function(){return"You are running Eve 0.3.4"},"undefined"!=typeof module&&module.exports?module.exports=y:"undefined"!=typeof define?define("eve",[],function(){return y}):t.eve=y}(this),function(){function t(t){for(var e=0;e<re.length;e++)re[e].el.paper==t&&re.splice(e--,1)}function _(t,e,n,i,r,o){n=X(n);var s,a,l,c,u,h,d=t.ms,f={},p={},g={};if(i)for(v=0,y=re.length;v<y;v++){var m=re[v];if(m.el.id==e.id&&m.anim==t){m.percent!=n?(re.splice(v,1),l=1):a=m,e.attr(m.totalOrigin);break}}else i=+p;for(var v=0,y=t.percents.length;v<y;v++){if(t.percents[v]==n||t.percents[v]>i*t.top){n=t.percents[v],u=t.percents[v-1]||0,d=d/t.top*(n-u),c=t.percents[v+1],s=t.anim[n];break}i&&e.attr(t.anim[t.percents[v]])}if(s){if(a)a.initstatus=i,a.start=new Date-a.ms*i;else{for(var b in s)if(s[L](b)&&(J[L](b)||e.paper.customAttributes[L](b)))switch(f[b]=e.attr(b),null==f[b]&&(f[b]=Z[b]),p[b]=s[b],J[b]){case F:g[b]=(p[b]-f[b])/d;break;case"colour":f[b]=O.getRGB(f[b]);var w=O.getRGB(p[b]);g[b]={r:(w.r-f[b].r)/d,g:(w.g-f[b].g)/d,b:(w.b-f[b].b)/d};break;case"path":var x=Pt(f[b],p[b]),_=x[1];for(f[b]=x[0],g[b]=[],v=0,y=f[b].length;v<y;v++){g[b][v]=[0];for(var C=1,k=f[b][v].length;C<k;C++)g[b][v][C]=(_[v][C]-f[b][v][C])/d}break;case"transform":var S=e._,D=Lt(S[b],p[b]);if(D)for(f[b]=D.from,p[b]=D.to,g[b]=[],g[b].real=!0,v=0,y=f[b].length;v<y;v++)for(g[b][v]=[f[b][v][0]],C=1,k=f[b][v].length;C<k;C++)g[b][v][C]=(p[b][v][C]-f[b][v][C])/d;else{var E=e.matrix||new I,T={_:{transform:S.transform},getBBox:function(){return e.getBBox(1)}};f[b]=[E.a,E.b,E.c,E.d,E.e,E.f],Rt(T,p[b]),p[b]=T._.transform,g[b]=[(T.matrix.a-E.a)/d,(T.matrix.b-E.b)/d,(T.matrix.c-E.c)/d,(T.matrix.d-E.d)/d,(T.matrix.e-E.e)/d,(T.matrix.f-E.f)/d]}break;case"csv":var M=H(s[b])[q](R),$=H(f[b])[q](R);if("clip-rect"==b)for(f[b]=$,g[b]=[],v=$.length;v--;)g[b][v]=(M[v]-f[b][v])/d;p[b]=M;break;default:for(M=[][Y](s[b]),$=[][Y](f[b]),g[b]=[],v=e.paper.customAttributes[b].length;v--;)g[b][v]=((M[v]||0)-($[v]||0))/d}var N=s.easing,A=O.easing_formulas[N];if(!A)if((A=H(N).match(j))&&5==A.length){var P=A;A=function(t){return function(t,e,n,i,r,o){function l(t){return((h*t+u)*t+c)*t}var c=3*e,u=3*(i-e)-c,h=1-c-u,s=3*n,a=3*(r-n)-s,d=1-s-a;return function(t,e){var n=function(t,e){var n,i,r,o,s,a;for(r=t,a=0;a<8;a++){if(o=l(r)-t,V(o)<e)return r;if(V(s=(3*h*r+2*u)*r+c)<1e-6)break;r-=o/s}if((r=t)<(n=0))return n;if((i=1)<r)return i;for(;n<i;){if(o=l(r),V(o-t)<e)return r;o<t?n=r:i=r,r=(i-n)/2+n}return r}(t,e);return((d*n+a)*n+s)*n}(t,1/(200*o))}(t,+P[1],+P[2],+P[3],+P[4],d)}}else A=at;if(m={anim:t,percent:n,timestamp:h=s.start||t.start||+new Date,start:h+(t.del||0),status:0,initstatus:i||0,stop:!1,ms:d,easing:A,from:f,diff:g,to:p,el:e,callback:s.callback,prev:u,next:c,repeat:o||t.times,origin:e.attr(),totalOrigin:r},re.push(m),i&&!a&&!l&&(m.stop=!0,m.start=new Date-d*i,1==re.length))return se();l&&(m.start=new Date-m.ms*i),1==re.length&&oe(se)}eve("raphael.anim.start."+e.id,e,t)}}function c(t,e){var n=[],i={};if(this.ms=e,this.times=1,t){for(var r in t)t[L](r)&&(i[X(r)]=t[r],n.push(X(r)));n.sort(o)}this.anim=i,this.top=n[n.length-1],this.percents=n}function n(){return this.x+D+this.y+D+this.width+" × "+this.height}function I(t,e,n,i,r,o){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+i,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function r(t,e,n){t=O._path2curve(t),e=O._path2curve(e);for(var i,r,o,s,a,l,c,u,h,d,f=n?0:[],p=0,g=t.length;p<g;p++){var m=t[p];if("M"==m[0])i=a=m[1],r=l=m[2];else{r="C"==m[0]?(i=(h=[i,r].concat(m.slice(1)))[6],h[7]):(h=[i,r,i,r,a,l,a,l],i=a,l);for(var v=0,y=e.length;v<y;v++){var b=e[v];if("M"==b[0])o=c=b[1],s=u=b[2];else{s="C"==b[0]?(o=(d=[o,s].concat(b.slice(1)))[6],d[7]):(d=[o,s,o,s,c,u,c,u],o=c,u);var w=C(h,d,n);if(n)f+=w;else{for(var x=0,_=w.length;x<_;x++)w[x].segment1=p,w[x].segment2=v,w[x].bez1=h,w[x].bez2=d;f=f.concat(w)}}}}}return f}function C(t,e,n){var i=O.bezierBBox(t),r=O.bezierBBox(e);if(!O.isBBoxIntersect(i,r))return n?0:[];for(var o=~~(S.apply(0,t)/5),s=~~(S.apply(0,e)/5),a=[],l=[],c={},u=n?0:[],h=0;h<1+o;h++){var d=O.findDotsAtSegment.apply(O,t.concat(h/o));a.push({x:d.x,y:d.y,t:h/o})}for(h=0;h<1+s;h++)d=O.findDotsAtSegment.apply(O,e.concat(h/s)),l.push({x:d.x,y:d.y,t:h/s});for(h=0;h<o;h++)for(var f=0;f<s;f++){var p=a[h],g=a[h+1],m=l[f],v=l[f+1],y=V(g.x-p.x)<.001?"y":"x",b=V(v.x-m.x)<.001?"y":"x",w=k(p.x,p.y,g.x,g.y,m.x,m.y,v.x,v.y);if(w){if(c[w.x.toFixed(4)]==w.y.toFixed(4))continue;c[w.x.toFixed(4)]=w.y.toFixed(4);var x=p.t+V((w[y]-p[y])/(g[y]-p[y]))*(g.t-p.t),_=m.t+V((w[b]-m[b])/(v[b]-m[b]))*(v.t-m.t);0<=x&&x<=1&&0<=_&&_<=1&&(n?u++:u.push({x:w.x,y:w.y,t1:x,t2:_}))}}return u}function k(t,e,n,i,r,o,s,a){if(!(E(t,n)<T(r,s)||T(t,n)>E(r,s)||E(e,i)<T(o,a)||T(e,i)>E(o,a))){var l=(t-n)*(o-a)-(e-i)*(r-s);if(!l)return;var c=((t*i-e*n)*(r-s)-(t-n)*(r*a-o*s))/l,u=((t*i-e*n)*(o-a)-(e-i)*(r*a-o*s))/l,h=+c.toFixed(2),d=+u.toFixed(2);if(h<+T(t,n).toFixed(2)||h>+E(t,n).toFixed(2)||h<+T(r,s).toFixed(2)||h>+E(r,s).toFixed(2)||d<+T(e,i).toFixed(2)||d>+E(e,i).toFixed(2)||d<+T(o,a).toFixed(2)||d>+E(o,a).toFixed(2))return;return{x:c,y:u}}}function S(t,e,n,i,r,o,s,a,l){null==l&&(l=1);for(var c=(l=1<l?1:l<0?0:l)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,f=0;f<12;f++){var p=c*u[f]+c,g=y(p,t,n,r,s),m=y(p,e,i,o,a),v=g*g+m*m;d+=h[f]*U.sqrt(v)}return c*d}function y(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}function b(t,e){for(var n=[],i=0,r=t.length;i<r-2*!e;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?o[3]={x:+t[0],y:+t[1]}:r-2==i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function l(){return this.hex}function B(o,s,a){return function t(){var e=Array.prototype.slice.call(arguments,0),n=e.join("␀"),i=t.cache=t.cache||{},r=t.count=t.count||[];return i[L](n)?function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}(r,n):(1e3<=r.length&&delete i[r.shift()],r.push(n),i[n]=o[m](s,e)),a?a(i[n]):i[n]}}function g(t){if(Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[L](n)&&(e[n]=g(t[n]));return e}function O(t){if(O.is(t,"function"))return s?t():eve.on("raphael.DOMload",t);if(O.is(t,N))return O._engine.create[m](O,t.splice(0,3+O.is(t[0],F))).add(t);var e=Array.prototype.slice.call(arguments,0);if(O.is(e[e.length-1],"function")){var n=e.pop();return s?n.call(O._engine.create[m](O,e)):eve.on("raphael.DOMload",function(){n.call(O._engine.create[m](O,e))})}return O._engine.create[m](O,arguments)}O.version="2.1.0",O.eve=eve;function e(){this.ca=this.customAttributes={}}function o(t,e){return X(t)-X(e)}function i(t,e,n,i){return null==i&&(i=n),[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]}var s,a,R=/[, ]+/,u={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},h=/\{(\d+)\}/g,L="hasOwnProperty",p={doc:document,win:window},d={was:Object.prototype[L].call(p.win,"Raphael"),is:p.win.Raphael},m="apply",Y="concat",v="createTouch"in p.doc,D=" ",H=String,q="split",f="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[q](D),w={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},x=H.prototype.toLowerCase,U=Math,E=U.max,T=U.min,V=U.abs,M=U.pow,G=U.PI,F="number",$="string",N="array",A=Object.prototype.toString,P=(O._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),z={NaN:1,Infinity:1,"-Infinity":1},j=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,W=U.round,X=parseFloat,K=parseInt,Q=H.prototype.toUpperCase,Z=O._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},J=O._availableAnimAttrs={blur:F,"clip-rect":"csv",cx:F,cy:F,fill:"colour","fill-opacity":F,"font-size":F,height:F,opacity:F,path:"path",r:F,rx:F,ry:F,stroke:"colour","stroke-opacity":F,"stroke-width":F,transform:"transform",width:F,x:F,y:F},tt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,et={hs:1,rg:1},nt=/,?([achlmqrstvxz]),?/gi,it=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,rt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ot=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,st=(O._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),at=function(t){return t},lt=O._rectPath=function(t,e,n,i,r){return r?[["M",t+r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]]},ct=O._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return i(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return i(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return lt(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return lt(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return lt(e.x,e.y,e.width,e.height)}},ut=O.mapPath=function(t,e){if(!e)return t;var n,i,r,o,s,a,l;for(r=0,s=(t=Pt(t)).length;r<s;r++)for(o=1,a=(l=t[r]).length;o<a;o+=2)n=e.x(l[o],l[o+1]),i=e.y(l[o],l[o+1]),l[o]=n,l[o+1]=i;return t};if(O._g=p,"VML"==(O.type=p.win.SVGAngle||p.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML")){var ht,dt=p.doc.createElement("div");if(dt.innerHTML='<v:shape adj="1"/>',(ht=dt.firstChild).style.behavior="url(#default#VML)",!ht||"object"!=typeof ht.adj)return O.type="";dt=null}O.svg=!(O.vml="VML"==O.type),O._Paper=e,O.fn=a=e.prototype=O.prototype,O._id=0,O._oid=0,O.is=function(t,e){return"finite"==(e=x.call(e))?!z[L](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||A.call(t).slice(8,-1).toLowerCase()==e},O.angle=function(t,e,n,i,r,o){if(null!=r)return O.angle(t,e,r,o)-O.angle(n,i,r,o);var s=t-n,a=e-i;return s||a?(180+180*U.atan2(-a,-s)/G+360)%360:0},O.rad=function(t){return t%360*G/180},O.deg=function(t){return 180*t/G%360},O.snapTo=function(t,e,n){if(n=O.is(n,"finite")?n:10,O.is(t,N)){for(var i=t.length;i--;)if(V(t[i]-e)<=n)return t[i]}else{var r=e%(t=+t);if(r<n)return e-r;if(t-n<r)return e-r+t}return e};var ft,pt;O.createUUID=(ft=/[xy]/g,pt=function(t){var e=16*U.random()|0;return("x"==t?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(ft,pt).toUpperCase()});O.setWindow=function(t){eve("raphael.setWindow",O,p.win,t),p.win=t,p.doc=p.win.document,O._engine.initWin&&O._engine.initWin(p.win)};function gt(){return"hsb("+[this.h,this.s,this.b]+")"}function mt(){return"hsl("+[this.h,this.s,this.l]+")"}function vt(){return this.hex}function yt(t,e,n){if(null==e&&O.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&O.is(t,$)){var i=O.getRGB(t);t=i.r,e=i.g,n=i.b}return(1<t||1<e||1<n)&&(t/=255,e/=255,n/=255),[t,e,n]}function bt(t,e,n,i){var r={r:t*=255,g:e*=255,b:n*=255,hex:O.rgb(t,e,n),toString:vt};return O.is(i,"finite")&&(r.opacity=i),r}var wt=function(t){if(O.vml){var n,i=/^\s+|\s+$/g;try{var e=new ActiveXObject("htmlfile");e.write("<body>"),e.close(),n=e.body}catch(t){n=createPopup().document.body}var r=n.createTextRange();wt=B(function(t){try{n.style.color=H(t).replace(i,"");var e=r.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(t){return"none"}})}else{var o=p.doc.createElement("i");o.title="Raphaël Colour Picker",o.style.display="none",p.doc.body.appendChild(o),wt=B(function(t){return o.style.color=t,p.doc.defaultView.getComputedStyle(o,"").getPropertyValue("color")})}return wt(t)};O.color=function(t){var e;return O.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=O.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):O.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=O.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(O.is(t,"string")&&(t=O.getRGB(t)),O.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=O.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=O.rgb2hsb(t),t.v=e.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=vt,t},O.hsb2rgb=function(t,e,n,i){var r,o,s,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,i=(t=t.h).o),a=(l=n*e)*(1-V((t=(t*=360)%360/60)%2-1)),r=o=s=n-l,bt(r+=[l,a,0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],i)},O.hsl2rgb=function(t,e,n,i){var r,o,s,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(1<t||1<e||1<n)&&(t/=360,e/=100,n/=100),a=(l=2*e*(n<.5?n:1-n))*(1-V((t=(t*=360)%360/60)%2-1)),r=o=s=n-l/2,bt(r+=[l,a,0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],i)},O.rgb2hsb=function(t,e,n){var i,r;return t=(n=yt(t,e,n))[0],e=n[1],n=n[2],{h:((0==(r=(i=E(t,e,n))-T(t,e,n))?null:i==t?(e-n)/r:i==e?(n-t)/r+2:(t-e)/r+4)+360)%6*60/360,s:0==r?0:r/i,b:i,toString:gt}},O.rgb2hsl=function(t,e,n){var i,r,o,s;return t=(n=yt(t,e,n))[0],e=n[1],n=n[2],i=((r=E(t,e,n))+(o=T(t,e,n)))/2,{h:((0==(s=r-o)?null:r==t?(e-n)/s:r==e?(n-t)/s+2:(t-e)/s+4)+360)%6*60/360,s:0==s?0:i<.5?s/(2*i):s/(2-2*i),l:i,toString:mt}},O._path2string=function(){return this.join(",").replace(nt,"$1")};O._preload=function(t,e){var n=p.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,p.doc.body.removeChild(this)},n.onerror=function(){p.doc.body.removeChild(this)},p.doc.body.appendChild(n),n.src=t};O.getRGB=B(function(t){if(!t||(t=H(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:l};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:l};et[L](t.toLowerCase().substring(0,2))||"#"==t.charAt()||(t=wt(t));var e,n,i,r,o,s,a=t.match(P);return a?(a[2]&&(i=K(a[2].substring(5),16),n=K(a[2].substring(3,5),16),e=K(a[2].substring(1,3),16)),a[3]&&(i=K((o=a[3].charAt(3))+o,16),n=K((o=a[3].charAt(2))+o,16),e=K((o=a[3].charAt(1))+o,16)),a[4]&&(s=a[4][q](tt),e=X(s[0]),"%"==s[0].slice(-1)&&(e*=2.55),n=X(s[1]),"%"==s[1].slice(-1)&&(n*=2.55),i=X(s[2]),"%"==s[2].slice(-1)&&(i*=2.55),"rgba"==a[1].toLowerCase().slice(0,4)&&(r=X(s[3])),s[3]&&"%"==s[3].slice(-1)&&(r/=100)),a[5]?(s=a[5][q](tt),e=X(s[0]),"%"==s[0].slice(-1)&&(e*=2.55),n=X(s[1]),"%"==s[1].slice(-1)&&(n*=2.55),i=X(s[2]),"%"==s[2].slice(-1)&&(i*=2.55),"deg"!=s[0].slice(-3)&&"°"!=s[0].slice(-1)||(e/=360),"hsba"==a[1].toLowerCase().slice(0,4)&&(r=X(s[3])),s[3]&&"%"==s[3].slice(-1)&&(r/=100),O.hsb2rgb(e,n,i,r)):a[6]?(s=a[6][q](tt),e=X(s[0]),"%"==s[0].slice(-1)&&(e*=2.55),n=X(s[1]),"%"==s[1].slice(-1)&&(n*=2.55),i=X(s[2]),"%"==s[2].slice(-1)&&(i*=2.55),"deg"!=s[0].slice(-3)&&"°"!=s[0].slice(-1)||(e/=360),"hsla"==a[1].toLowerCase().slice(0,4)&&(r=X(s[3])),s[3]&&"%"==s[3].slice(-1)&&(r/=100),O.hsl2rgb(e,n,i,r)):((a={r:e,g:n,b:i,toString:l}).hex="#"+(16777216|i|n<<8|e<<16).toString(16).slice(1),O.is(r,"finite")&&(a.opacity=r),a)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:l}},O),O.hsb=B(function(t,e,n){return O.hsb2rgb(t,e,n).hex}),O.hsl=B(function(t,e,n){return O.hsl2rgb(t,e,n).hex}),O.rgb=B(function(t,e,n){return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)}),(O.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,1<e.h&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex}).reset=function(){delete this.start},O.parsePathString=function(t){if(!t)return null;var e=xt(t);if(e.arr)return Tt(e.arr);var o={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},s=[];return O.is(t,N)&&O.is(t[0],N)&&(s=Tt(t)),s.length||H(t).replace(it,function(t,e,n){var i=[],r=e.toLowerCase();if(n.replace(ot,function(t,e){e&&i.push(+e)}),"m"==r&&2<i.length&&(s.push([e][Y](i.splice(0,2))),r="l",e="m"==e?"l":"L"),"r"==r)s.push([e][Y](i));else for(;i.length>=o[r]&&(s.push([e][Y](i.splice(0,o[r]))),o[r]););}),s.toString=O._path2string,e.arr=Tt(s),s},O.parseTransformString=B(function(t){if(!t)return null;var r=[];return O.is(t,N)&&O.is(t[0],N)&&(r=Tt(t)),r.length||H(t).replace(rt,function(t,e,n){var i=[];x.call(e);n.replace(ot,function(t,e){e&&i.push(+e)}),r.push([e][Y](i))}),r.toString=O._path2string,r});var xt=function(e){var n=xt.ps=xt.ps||{};return n[e]?n[e].sleep=100:n[e]={sleep:100},setTimeout(function(){for(var t in n)n[L](t)&&t!=e&&(n[t].sleep--,n[t].sleep||delete n[t])}),n[e]};O.findDotsAtSegment=function(t,e,n,i,r,o,s,a,l){var c=1-l,u=M(c,3),h=M(c,2),d=l*l,f=d*l,p=u*t+3*h*l*n+3*c*l*l*r+f*s,g=u*e+3*h*l*i+3*c*l*l*o+f*a,m=t+2*l*(n-t)+d*(r-2*n+t),v=e+2*l*(i-e)+d*(o-2*i+e),y=n+2*l*(r-n)+d*(s-2*r+n),b=i+2*l*(o-i)+d*(a-2*o+i),w=c*t+l*n,x=c*e+l*i,_=c*r+l*s,C=c*o+l*a,k=90-180*U.atan2(m-y,v-b)/G;return(y<m||v<b)&&(k+=180),{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:w,y:x},end:{x:_,y:C},alpha:k}},O.bezierBBox=function(t,e,n,i,r,o,s,a){O.is(t,"array")||(t=[t,e,n,i,r,o,s,a]);var l=At.apply(null,t);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},O.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},O.isBBoxIntersect=function(t,e){var n=O.isPointInsideBBox;return n(e,t.x,t.y)||n(e,t.x2,t.y)||n(e,t.x,t.y2)||n(e,t.x2,t.y2)||n(t,e.x,e.y)||n(t,e.x2,e.y)||n(t,e.x,e.y2)||n(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},O.pathIntersection=function(t,e){return r(t,e)},O.pathIntersectionNumber=function(t,e){return r(t,e,1)},O.isPointInsidePath=function(t,e,n){var i=O.pathBBox(t);return O.isPointInsideBBox(i,e,n)&&r(t,[["M",e,n],["H",i.x2+10]],1)%2==1},O._removedFactory=function(t){return function(){eve("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};function _t(t,e,n,i){return[t,e,n,i,n,i]}function Ct(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]}function kt(t,e,n,i,r,o,s,a,l){var c=1-l;return{x:M(c,3)*t+3*M(c,2)*l*n+3*c*l*l*r+M(l,3)*s,y:M(c,3)*e+3*M(c,2)*l*i+3*c*l*l*o+M(l,3)*a}}function St(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}var Dt,Et=O.pathBBox=function(t){var e=xt(t);if(e.bbox)return e.bbox;if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,i=0,r=0,o=[],s=[],a=0,l=(t=Pt(t)).length;a<l;a++)if("M"==(n=t[a])[0])i=n[1],r=n[2],o.push(i),s.push(r);else{var c=At(i,r,n[1],n[2],n[3],n[4],n[5],n[6]);o=o[Y](c.min.x,c.max.x),s=s[Y](c.min.y,c.max.y),i=n[5],r=n[6]}var u=T[m](0,o),h=T[m](0,s),d=E[m](0,o),f=E[m](0,s),p={x:u,y:h,x2:d,y2:f,width:d-u,height:f-h};return e.bbox=g(p),p},Tt=function(t){var e=g(t);return e.toString=O._path2string,e},Mt=O._pathToRelative=function(t){var e=xt(t);if(e.rel)return Tt(e.rel);O.is(t,N)&&O.is(t&&t[0],N)||(t=O.parsePathString(t));var n=[],i=0,r=0,o=0,s=0,a=0;"M"==t[0][0]&&(o=i=t[0][1],s=r=t[0][2],a++,n.push(["M",i,r]));for(var l=a,c=t.length;l<c;l++){var u=n[l]=[],h=t[l];if(h[0]!=x.call(h[0]))switch(u[0]=x.call(h[0]),u[0]){case"a":u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=+(h[6]-i).toFixed(3),u[7]=+(h[7]-r).toFixed(3);break;case"v":u[1]=+(h[1]-r).toFixed(3);break;case"m":o=h[1],s=h[2];default:for(var d=1,f=h.length;d<f;d++)u[d]=+(h[d]-(d%2?i:r)).toFixed(3)}else{u=n[l]=[],"m"==h[0]&&(o=h[1]+i,s=h[2]+r);for(var p=0,g=h.length;p<g;p++)n[l][p]=h[p]}var m=n[l].length;switch(n[l][0]){case"z":i=o,r=s;break;case"h":i+=+n[l][m-1];break;case"v":r+=+n[l][m-1];break;default:i+=+n[l][m-2],r+=+n[l][m-1]}}return n.toString=O._path2string,e.rel=Tt(n),n},$t=O._pathToAbsolute=function(t){var e=xt(t);if(e.abs)return Tt(e.abs);if(O.is(t,N)&&O.is(t&&t[0],N)||(t=O.parsePathString(t)),!t||!t.length)return[["M",0,0]];var n=[],i=0,r=0,o=0,s=0,a=0;"M"==t[0][0]&&(o=i=+t[0][1],s=r=+t[0][2],a++,n[0]=["M",i,r]);for(var l,c,u=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),h=a,d=t.length;h<d;h++){if(n.push(l=[]),(c=t[h])[0]!=Q.call(c[0]))switch(l[0]=Q.call(c[0]),l[0]){case"A":l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=+(c[6]+i),l[7]=+(c[7]+r);break;case"V":l[1]=+c[1]+r;break;case"H":l[1]=+c[1]+i;break;case"R":for(var f=[i,r][Y](c.slice(1)),p=2,g=f.length;p<g;p++)f[p]=+f[p]+i,f[++p]=+f[p]+r;n.pop(),n=n[Y](b(f,u));break;case"M":o=+c[1]+i,s=+c[2]+r;default:for(p=1,g=c.length;p<g;p++)l[p]=+c[p]+(p%2?i:r)}else if("R"==c[0])f=[i,r][Y](c.slice(1)),n.pop(),n=n[Y](b(f,u)),l=["R"][Y](c.slice(-2));else for(var m=0,v=c.length;m<v;m++)l[m]=c[m];switch(l[0]){case"Z":i=o,r=s;break;case"H":i=l[1];break;case"V":r=l[1];break;case"M":o=l[l.length-2],s=l[l.length-1];default:i=l[l.length-2],r=l[l.length-1]}}return n.toString=O._path2string,e.abs=Tt(n),n},Nt=function(t,e,n,i,r,o,s,a,l,c){var u,h=120*G/180,d=G/180*(+r||0),f=[],p=B(function(t,e,n){return{x:t*U.cos(n)-e*U.sin(n),y:t*U.sin(n)+e*U.cos(n)}});if(c)C=c[0],k=c[1],x=c[2],_=c[3];else{t=(u=p(t,e,-d)).x,e=u.y,a=(u=p(a,l,-d)).x,l=u.y;U.cos(G/180*r),U.sin(G/180*r);var g=(t-a)/2,m=(e-l)/2,v=g*g/(n*n)+m*m/(i*i);1<v&&(n*=v=U.sqrt(v),i*=v);var y=n*n,b=i*i,w=(o==s?-1:1)*U.sqrt(V((y*b-y*m*m-b*g*g)/(y*m*m+b*g*g))),x=w*n*m/i+(t+a)/2,_=w*-i*g/n+(e+l)/2,C=U.asin(((e-_)/i).toFixed(9)),k=U.asin(((l-_)/i).toFixed(9));(C=t<x?G-C:C)<0&&(C=2*G+C),(k=a<x?G-k:k)<0&&(k=2*G+k),s&&k<C&&(C-=2*G),!s&&C<k&&(k-=2*G)}var S=k-C;if(V(S)>h){var D=k,E=a,T=l;k=C+h*(s&&C<k?1:-1),a=x+n*U.cos(k),l=_+i*U.sin(k),f=Nt(a,l,n,i,r,0,s,E,T,[k,D,x,_])}S=k-C;var M=U.cos(C),$=U.sin(C),N=U.cos(k),A=U.sin(k),P=U.tan(S/4),I=4/3*n*P,O=4/3*i*P,R=[t,e],L=[t+I*$,e-O*M],H=[a+I*A,l-O*N],F=[a,l];if(L[0]=2*R[0]-L[0],L[1]=2*R[1]-L[1],c)return[L,H,F][Y](f);for(var z=[],j=0,W=(f=[L,H,F][Y](f).join()[q](",")).length;j<W;j++)z[j]=j%2?p(f[j-1],f[j],d).y:p(f[j],f[j+1],d).x;return z},At=B(function(t,e,n,i,r,o,s,a){var l,c=r-2*n+t-(s-2*r+n),u=2*(n-t)-2*(r-n),h=t-n,d=(-u+U.sqrt(u*u-4*c*h))/2/c,f=(-u-U.sqrt(u*u-4*c*h))/2/c,p=[e,a],g=[t,s];return"1e12"<V(d)&&(d=.5),"1e12"<V(f)&&(f=.5),0<d&&d<1&&(l=kt(t,e,n,i,r,o,s,a,d),g.push(l.x),p.push(l.y)),0<f&&f<1&&(l=kt(t,e,n,i,r,o,s,a,f),g.push(l.x),p.push(l.y)),c=o-2*i+e-(a-2*o+i),h=e-i,d=(-(u=2*(i-e)-2*(o-i))+U.sqrt(u*u-4*c*h))/2/c,f=(-u-U.sqrt(u*u-4*c*h))/2/c,"1e12"<V(d)&&(d=.5),"1e12"<V(f)&&(f=.5),0<d&&d<1&&(l=kt(t,e,n,i,r,o,s,a,d),g.push(l.x),p.push(l.y)),0<f&&f<1&&(l=kt(t,e,n,i,r,o,s,a,f),g.push(l.x),p.push(l.y)),{min:{x:T[m](0,g),y:T[m](0,p)},max:{x:E[m](0,g),y:E[m](0,p)}}}),Pt=O._path2curve=B(function(t,e){var n=!e&&xt(t);if(!e&&n.curve)return Tt(n.curve);function i(t,e){if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][Y](Nt[m](0,[e.x,e.y][Y](t.slice(1))));break;case"S":t=["C",e.x+(e.x-(e.bx||e.x)),e.y+(e.y-(e.by||e.y))][Y](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][Y](Ct(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][Y](Ct(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][Y](_t(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][Y](_t(e.x,e.y,t[1],e.y));break;case"V":t=["C"][Y](_t(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][Y](_t(e.x,e.y,e.X,e.Y))}return t}function r(t,e){if(7<t[e].length){t[e].shift();for(var n=t[e];n.length;)t.splice(e++,0,["C"][Y](n.splice(0,6)));t.splice(e,1),h=E(s.length,a&&a.length||0)}}function o(t,e,n,i,r){t&&e&&"M"==t[r][0]&&"M"!=e[r][0]&&(e.splice(r,0,["M",i.x,i.y]),n.bx=0,n.by=0,n.x=t[r][1],n.y=t[r][2],h=E(s.length,a&&a.length||0))}for(var s=$t(t),a=e&&$t(e),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=0,h=E(s.length,a&&a.length||0);u<h;u++){s[u]=i(s[u],l),r(s,u),a&&(a[u]=i(a[u],c)),a&&r(a,u),o(s,a,l,c,u),o(a,s,c,l,u);var d=s[u],f=a&&a[u],p=d.length,g=a&&f.length;l.x=d[p-2],l.y=d[p-1],l.bx=X(d[p-4])||l.x,l.by=X(d[p-3])||l.y,c.bx=a&&(X(f[g-4])||c.x),c.by=a&&(X(f[g-3])||c.y),c.x=a&&f[g-2],c.y=a&&f[g-1]}return a||(n.curve=Tt(s)),a?[s,a]:s},null,Tt),It=(O._parseDots=B(function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r={},o=t[n].match(/^([^:]*):?([\d\.]*)/);if(r.color=O.getRGB(o[1]),r.color.error)return null;r.color=r.color.hex,o[2]&&(r.offset=o[2]+"%"),e.push(r)}for(n=1,i=e.length-1;n<i;n++)if(!e[n].offset){for(var s=X(e[n-1].offset||0),a=0,l=n+1;l<i;l++)if(e[l].offset){a=e[l].offset;break}a||(a=100,l=i);for(var c=((a=X(a))-s)/(l-n+1);n<l;n++)s+=c,e[n].offset=s+"%"}return e}),O._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Ot=(O._tofront=function(t,e){e.top!==t&&(It(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},O._toback=function(t,e){e.bottom!==t&&(It(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},O._insertafter=function(t,e,n){It(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,(t.prev=e).next=t},O._insertbefore=function(t,e,n){It(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,(e.prev=t).next=e},O.toMatrix=function(t,e){var n=Et(t),i={_:{transform:""},getBBox:function(){return n}};return Rt(i,e),i.matrix}),Rt=(O.transformPath=function(t,e){return ut(t,Ot(t,e))},O._extractTransform=function(t,e){if(null==e)return t._.transform;e=H(e).replace(/\.{3}|\u2026/g,t._.transform||"");var n,i,r=O.parseTransformString(e),o=0,s=1,a=1,l=t._,c=new I;if(l.transform=r||[],r)for(var u=0,h=r.length;u<h;u++){var d,f,p,g,m,v=r[u],y=v.length,b=H(v[0]).toLowerCase(),w=v[0]!=b,x=w?c.invert():0;"t"==b&&3==y?w?(d=x.x(0,0),f=x.y(0,0),p=x.x(v[1],v[2]),g=x.y(v[1],v[2]),c.translate(p-d,g-f)):c.translate(v[1],v[2]):"r"==b?2==y?(m=m||t.getBBox(1),c.rotate(v[1],m.x+m.width/2,m.y+m.height/2),o+=v[1]):4==y&&(w?(p=x.x(v[2],v[3]),g=x.y(v[2],v[3]),c.rotate(v[1],p,g)):c.rotate(v[1],v[2],v[3]),o+=v[1]):"s"==b?2==y||3==y?(m=m||t.getBBox(1),c.scale(v[1],v[y-1],m.x+m.width/2,m.y+m.height/2),s*=v[1],a*=v[y-1]):5==y&&(w?(p=x.x(v[3],v[4]),g=x.y(v[3],v[4]),c.scale(v[1],v[2],p,g)):c.scale(v[1],v[2],v[3],v[4]),s*=v[1],a*=v[2]):"m"==b&&7==y&&c.add(v[1],v[2],v[3],v[4],v[5],v[6]),l.dirtyT=1,t.matrix=c}t.matrix=c,l.sx=s,l.sy=a,l.deg=o,l.dx=n=c.e,l.dy=i=c.f,1==s&&1==a&&!o&&l.bbox?(l.bbox.x+=+n,l.bbox.y+=+i):l.dirtyT=1}),Lt=O._equaliseTransform=function(t,e){e=H(e).replace(/\.{3}|\u2026/g,t),t=O.parseTransformString(t)||[],e=O.parseTransformString(e)||[];for(var n,i,r,o,s=E(t.length,e.length),a=[],l=[],c=0;c<s;c++){if(r=t[c]||St(e[c]),o=e[c]||St(r),r[0]!=o[0]||"r"==r[0].toLowerCase()&&(r[2]!=o[2]||r[3]!=o[3])||"s"==r[0].toLowerCase()&&(r[3]!=o[3]||r[4]!=o[4]))return;for(a[c]=[],l[c]=[],n=0,i=E(r.length,o.length);n<i;n++)n in r&&(a[c][n]=r[n]),n in o&&(l[c][n]=o[n])}return{from:a,to:l}};function Ht(t){var e=U.sqrt(Ft(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}function Ft(t){return t[0]*t[0]+t[1]*t[1]}O._getContainer=function(t,e,n,i){var r;if(null!=(r=null!=i||O.is(t,"object")?t:p.doc.getElementById(t)))return r.tagName?null==e?{container:r,width:r.style.pixelWidth||r.offsetWidth,height:r.style.pixelHeight||r.offsetHeight}:{container:r,width:e,height:n}:{container:1,x:t,y:e,width:n,height:i}},O.pathToRelative=Mt,O._engine={},O.path2curve=Pt,O.matrix=function(t,e,n,i,r,o){return new I(t,e,n,i,r,o)},(Dt=I.prototype).add=function(t,e,n,i,r,o){var s,a,l,c,u=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,n,r],[e,i,o],[0,0,1]];for(t&&t instanceof I&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;s<3;s++)for(a=0;a<3;a++){for(l=c=0;l<3;l++)c+=h[s][l]*d[l][a];u[s][a]=c}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},Dt.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new I(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},Dt.clone=function(){return new I(this.a,this.b,this.c,this.d,this.e,this.f)},Dt.translate=function(t,e){this.add(1,0,0,1,t,e)},Dt.scale=function(t,e,n,i){null==e&&(e=t),(n||i)&&this.add(1,0,0,1,n,i),this.add(t,0,0,e,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},Dt.rotate=function(t,e,n){t=O.rad(t),e=e||0,n=n||0;var i=+U.cos(t).toFixed(9),r=+U.sin(t).toFixed(9);this.add(i,r,-r,i,e,n),this.add(1,0,0,1,-e,-n)},Dt.x=function(t,e){return t*this.a+e*this.c+this.e},Dt.y=function(t,e){return t*this.b+e*this.d+this.f},Dt.get=function(t){return+this[H.fromCharCode(97+t)].toFixed(4)},Dt.toString=function(){return O.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},Dt.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},Dt.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},Dt.split=function(){var t={};t.dx=this.e,t.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];t.scalex=U.sqrt(Ft(e[0])),Ht(e[0]),t.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*t.shear,e[1][1]-e[0][1]*t.shear],t.scaley=U.sqrt(Ft(e[1])),Ht(e[1]),t.shear/=t.scaley;var n=-e[0][1],i=e[1][1];return i<0?(t.rotate=O.deg(U.acos(i)),n<0&&(t.rotate=360-t.rotate)):t.rotate=O.deg(U.asin(n)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},Dt.toTransformString=function(t){var e=t||this[q]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:"")+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:"")+(e.rotate?"r"+[e.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]};var zt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(zt&&zt[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&zt&&zt[1]<8?a.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:a.safari=function(){};function jt(){this.returnValue=!1}function Wt(){return this.originalEvent.preventDefault()}function Bt(){this.cancelBubble=!0}function Yt(){return this.originalEvent.stopPropagation()}function qt(t){for(var e,n=t.clientX,i=t.clientY,r=p.doc.documentElement.scrollTop||p.doc.body.scrollTop,o=p.doc.documentElement.scrollLeft||p.doc.body.scrollLeft,s=Vt.length;s--;){if(e=Vt[s],v){for(var a,l=t.touches.length;l--;)if((a=t.touches[l]).identifier==e.el._drag.id){n=a.clientX,i=a.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var c,u=e.el.node,h=u.nextSibling,d=u.parentNode,f=u.style.display;p.win.opera&&d.removeChild(u),u.style.display="none",c=e.el.paper.getElementByPoint(n,i),u.style.display=f,p.win.opera&&(h?d.insertBefore(u,h):d.appendChild(u)),c&&eve("raphael.drag.over."+e.el.id,e.el,c),n+=o,i+=r,eve("raphael.drag.move."+e.el.id,e.move_scope||e.el,n-e.el._drag.x,i-e.el._drag.y,n,i,t)}}for(var Ut=p.doc.addEventListener?function(l,c,u,h){function t(t){var e=p.doc.documentElement.scrollTop||p.doc.body.scrollTop,n=p.doc.documentElement.scrollLeft||p.doc.body.scrollLeft,i=t.clientX+n,r=t.clientY+e;if(v&&w[L](c))for(var o=0,s=t.targetTouches&&t.targetTouches.length;o<s;o++)if(t.targetTouches[o].target==l){var a=t;(t=t.targetTouches[o]).originalEvent=a,t.preventDefault=Wt,t.stopPropagation=Yt;break}return u.call(h,t,i,r)}var e=v&&w[c]?w[c]:c;return l.addEventListener(e,t,!1),function(){return l.removeEventListener(e,t,!1),!0}}:p.doc.attachEvent?function(t,e,o,s){function n(t){t=t||p.win.event;var e=p.doc.documentElement.scrollTop||p.doc.body.scrollTop,n=p.doc.documentElement.scrollLeft||p.doc.body.scrollLeft,i=t.clientX+n,r=t.clientY+e;return t.preventDefault=t.preventDefault||jt,t.stopPropagation=t.stopPropagation||Bt,o.call(s,t,i,r)}return t.attachEvent("on"+e,n),function(){return t.detachEvent("on"+e,n),!0}}:void 0,Vt=[],Gt=function(t){O.unmousemove(qt).unmouseup(Gt);for(var e,n=Vt.length;n--;)(e=Vt[n]).el._drag={},eve("raphael.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,t);Vt=[]},Xt=O.el={},Kt=f.length;Kt--;)!function(i){O[i]=Xt[i]=function(t,e){return O.is(t,"function")&&(this.events=this.events||[],this.events.push({name:i,f:t,unbind:Ut(this.shape||this.node||p.doc,i,t,e||this)})),this},O["un"+i]=Xt["un"+i]=function(t){for(var e=this.events||[],n=e.length;n--;)if(e[n].name==i&&e[n].f==t)return e[n].unbind(),e.splice(n,1),e.length||delete this.events,this;return this}}(f[Kt]);Xt.data=function(t,e){var n=st[this.id]=st[this.id]||{};if(1!=arguments.length)return n[t]=e,eve("raphael.data.set."+this.id,this,e,t),this;if(O.is(t,"object")){for(var i in t)t[L](i)&&this.data(i,t[i]);return this}return eve("raphael.data.get."+this.id,this,n[t],t),n[t]},Xt.removeData=function(t){return null==t?st[this.id]={}:st[this.id]&&delete st[this.id][t],this},Xt.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)},Xt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Qt=[];Xt.drag=function(i,r,o,s,a,l){function t(t){(t.originalEvent||t).preventDefault();var e=p.doc.documentElement.scrollTop||p.doc.body.scrollTop,n=p.doc.documentElement.scrollLeft||p.doc.body.scrollLeft;this._drag.x=t.clientX+n,this._drag.y=t.clientY+e,this._drag.id=t.identifier,Vt.length||O.mousemove(qt).mouseup(Gt),Vt.push({el:this,move_scope:s,start_scope:a,end_scope:l}),r&&eve.on("raphael.drag.start."+this.id,r),i&&eve.on("raphael.drag.move."+this.id,i),o&&eve.on("raphael.drag.end."+this.id,o),eve("raphael.drag.start."+this.id,a||s||this,t.clientX+n,t.clientY+e,t)}return this._drag={},Qt.push({el:this,start:t}),this.mousedown(t),this},Xt.onDragOver=function(t){t?eve.on("raphael.drag.over."+this.id,t):eve.unbind("raphael.drag.over."+this.id)},Xt.undrag=function(){for(var t=Qt.length;t--;)Qt[t].el==this&&(this.unmousedown(Qt[t].start),Qt.splice(t,1),eve.unbind("raphael.drag.*."+this.id));Qt.length||O.unmousemove(qt).unmouseup(Gt)},a.circle=function(t,e,n){var i=O._engine.circle(this,t||0,e||0,n||0);return this.__set__&&this.__set__.push(i),i},a.rect=function(t,e,n,i,r){var o=O._engine.rect(this,t||0,e||0,n||0,i||0,r||0);return this.__set__&&this.__set__.push(o),o},a.ellipse=function(t,e,n,i){var r=O._engine.ellipse(this,t||0,e||0,n||0,i||0);return this.__set__&&this.__set__.push(r),r},a.path=function(t){!t||O.is(t,$)||O.is(t[0],N)||(t+="");var e=O._engine.path(O.format[m](O,arguments),this);return this.__set__&&this.__set__.push(e),e},a.image=function(t,e,n,i,r){var o=O._engine.image(this,t||"about:blank",e||0,n||0,i||0,r||0);return this.__set__&&this.__set__.push(o),o},a.text=function(t,e,n){var i=O._engine.text(this,t||0,e||0,H(n));return this.__set__&&this.__set__.push(i),i},a.set=function(t){O.is(t,"array")||(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new fe(t);return this.__set__&&this.__set__.push(e),e},a.setStart=function(t){this.__set__=t||this.set()},a.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},a.setSize=function(t,e){return O._engine.setSize.call(this,t,e)},a.setViewBox=function(t,e,n,i,r){return O._engine.setViewBox.call(this,t,e,n,i,r)},a.top=a.bottom=null,a.raphael=O;a.getElementByPoint=function(t,e){var n=this.canvas,i=p.doc.elementFromPoint(t,e);if(p.win.opera&&"svg"==i.tagName){var r=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.body,r=n.documentElement,o=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0;return{y:e.top+(p.win.pageYOffset||r.scrollTop||i.scrollTop)-o,x:e.left+(p.win.pageXOffset||r.scrollLeft||i.scrollLeft)-s}}(n),o=n.createSVGRect();o.x=t-r.x,o.y=e-r.y,o.width=o.height=1;var s=n.getIntersectionList(o,null);s.length&&(i=s[s.length-1])}if(!i)return null;for(;i.parentNode&&i!=n.parentNode&&!i.raphael;)i=i.parentNode;return i==this.canvas.parentNode&&(i=n),i=i&&i.raphael?this.getById(i.raphaelid):null},a.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},a.forEach=function(t,e){for(var n=this.bottom;n;){if(!1===t.call(e,n))return this;n=n.next}return this},a.getElementsByPoint=function(e,n){var i=this.set();return this.forEach(function(t){t.isPointInside(e,n)&&i.push(t)}),i},Xt.isPointInside=function(t,e){var n=this.realPath=this.realPath||ct[this.type](this);return O.isPointInsidePath(n,t,e)},Xt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=ct[this.type](this),e.bboxwt=Et(this.realPath),e.bboxwt.toString=n,e.dirty=0),e.bboxwt):(!e.dirty&&!e.dirtyT&&e.bbox||(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=ct[this.type](this)),e.bbox=Et(ut(this.realPath,this.matrix)),e.bbox.toString=n,e.dirty=e.dirtyT=0),e.bbox)},Xt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Xt.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,i=this.paper,r=i.set(),o=this.realPath||ct[this.type](this);o=this.matrix?ut(o,this.matrix):o;for(var s=1;s<1+n;s++)r.push(i.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*s).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};function Zt(t,e,n,i,r,o,s,a,l){return null==l?S(t,e,n,i,r,o,s,a):O.findDotsAtSegment(t,e,n,i,r,o,s,a,function(t,e,n,i,r,o,s,a,l){if(!(l<0||S(t,e,n,i,r,o,s,a)<l)){var c,u=.5,h=1-u;for(c=S(t,e,n,i,r,o,s,a,h);.01<V(c-l);)c=S(t,e,n,i,r,o,s,a,h+=(c<l?1:-1)*(u/=2));return h}}(t,e,n,i,r,o,s,a,l))}function Jt(f,p){return function(t,e,n){for(var i,r,o,s,a,l="",c={},u=0,h=0,d=(t=Pt(t)).length;h<d;h++){if("M"==(o=t[h])[0])i=+o[1],r=+o[2];else{if(e<u+(s=Zt(i,r,o[1],o[2],o[3],o[4],o[5],o[6]))){if(p&&!c.start){if(l+=["C"+(a=Zt(i,r,o[1],o[2],o[3],o[4],o[5],o[6],e-u)).start.x,a.start.y,a.m.x,a.m.y,a.x,a.y],n)return l;c.start=l,l=["M"+a.x,a.y+"C"+a.n.x,a.n.y,a.end.x,a.end.y,o[5],o[6]].join(),u+=s,i=+o[5],r=+o[6];continue}if(!f&&!p)return{x:(a=Zt(i,r,o[1],o[2],o[3],o[4],o[5],o[6],e-u)).x,y:a.y,alpha:a.alpha}}u+=s,i=+o[5],r=+o[6]}l+=o.shift()+o}return c.end=l,(a=f?u:p?c:O.findDotsAtSegment(i,r,o[0],o[1],o[2],o[3],o[4],o[5],1)).alpha&&(a={x:a.x,y:a.y,alpha:a.alpha}),a}}var te=Jt(1),ee=Jt(),ne=Jt(0,1);O.getTotalLength=te,O.getPointAtLength=ee,O.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return ne(t,e).end;var i=ne(t,n,1);return e?ne(i,e).end:i},Xt.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():te(this.attrs.path)},Xt.getPointAtLength=function(t){if("path"==this.type)return ee(this.attrs.path,t)},Xt.getSubpath=function(t,e){if("path"==this.type)return O.getSubpath(this.attrs.path,t,e)};var ie=O.easing_formulas={linear:function(t){return t},"<":function(t){return M(t,1.7)},">":function(t){return M(t,.48)},"<>":function(t){var e=.48-t/1.04,n=U.sqrt(.1734+e*e),i=n-e,r=-n-e,o=M(V(i),1/3)*(i<0?-1:1)+M(V(r),1/3)*(r<0?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},elastic:function(t){return t==!!t?t:M(2,-10*t)*U.sin(2*(t-.075)*G/.3)+1},bounce:function(t){var e=7.5625;return t<1/2.75?e*t*t:t<2/2.75?e*(t-=1.5/2.75)*t+.75:t<2.5/2.75?e*(t-=2.25/2.75)*t+.9375:e*(t-=2.625/2.75)*t+.984375}};ie.easeIn=ie["ease-in"]=ie["<"],ie.easeOut=ie["ease-out"]=ie[">"],ie.easeInOut=ie["ease-in-out"]=ie["<>"],ie["back-in"]=ie.backIn,ie["back-out"]=ie.backOut;var re=[],oe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},se=function(){for(var t=+new Date,e=0;e<re.length;e++){var n=re[e];if(!n.el.removed&&!n.paused){var i,r,o=t-n.start,s=n.ms,a=n.easing,l=n.from,c=n.diff,u=n.to,h=(n.t,n.el),d={},f={};if(n.initstatus?(o=(n.initstatus*n.anim.top-n.prev)/(n.percent-n.prev)*s,n.status=n.initstatus,delete n.initstatus,n.stop&&re.splice(e--,1)):n.status=(n.prev+(n.percent-n.prev)*(o/s))/n.anim.top,!(o<0))if(o<s){var p=a(o/s);for(var g in l)if(l[L](g)){switch(J[g]){case F:i=+l[g]+p*s*c[g];break;case"colour":i="rgb("+[ae(W(l[g].r+p*s*c[g].r)),ae(W(l[g].g+p*s*c[g].g)),ae(W(l[g].b+p*s*c[g].b))].join(",")+")";break;case"path":i=[];for(var m=0,v=l[g].length;m<v;m++){i[m]=[l[g][m][0]];for(var y=1,b=l[g][m].length;y<b;y++)i[m][y]=+l[g][m][y]+p*s*c[g][m][y];i[m]=i[m].join(D)}i=i.join(D);break;case"transform":if(c[g].real)for(i=[],m=0,v=l[g].length;m<v;m++)for(i[m]=[l[g][m][0]],y=1,b=l[g][m].length;y<b;y++)i[m][y]=l[g][m][y]+p*s*c[g][m][y];else{function w(t){return+l[g][t]+p*s*c[g][t]}i=[["m",w(0),w(1),w(2),w(3),w(4),w(5)]]}break;case"csv":if("clip-rect"==g)for(i=[],m=4;m--;)i[m]=+l[g][m]+p*s*c[g][m];break;default:var x=[][Y](l[g]);for(i=[],m=h.paper.customAttributes[g].length;m--;)i[m]=+x[m]+p*s*c[g][m]}d[g]=i}h.attr(d),function(t,e,n){setTimeout(function(){eve("raphael.anim.frame."+t,e,n)})}(h.id,h,n.anim)}else{if(function(t,e,n){setTimeout(function(){eve("raphael.anim.frame."+e.id,e,n),eve("raphael.anim.finish."+e.id,e,n),O.is(t,"function")&&t.call(e)})}(n.callback,h,n.anim),h.attr(u),re.splice(e--,1),1<n.repeat&&!n.next){for(r in u)u[L](r)&&(f[r]=n.totalOrigin[r]);n.el.attr(f),_(n.anim,n.el,n.anim.percents[0],null,n.totalOrigin,n.repeat-1)}n.next&&!n.stop&&_(n.anim,n.el,n.next,null,n.totalOrigin,n.repeat)}}}O.svg&&h&&h.paper&&h.paper.safari(),re.length&&oe(se)},ae=function(t){return 255<t?255:t<0?0:t};Xt.animateWith=function(t,e,n,i,r,o){if(this.removed)return o&&o.call(this),this;var s=n instanceof c?n:O.animation(n,i,r,o);_(s,this,s.percents[0],null,this.attr());for(var a=0,l=re.length;a<l;a++)if(re[a].anim==e&&re[a].el==t){re[l-1].start=re[a].start;break}return this},Xt.onAnimation=function(t){return t?eve.on("raphael.anim.frame."+this.id,t):eve.unbind("raphael.anim.frame."+this.id),this},c.prototype.delay=function(t){var e=new c(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},c.prototype.repeat=function(t){var e=new c(this.anim,this.ms);return e.del=this.del,e.times=U.floor(E(t,0))||1,e},O.animation=function(t,e,n,i){if(t instanceof c)return t;!O.is(n,"function")&&n||(i=i||n||null,n=null),t=Object(t),e=+e||0;var r,o,s={};for(o in t)t[L](o)&&X(o)!=o&&X(o)+"%"!=o&&(r=!0,s[o]=t[o]);return r?(n&&(s.easing=n),i&&(s.callback=i),new c({100:s},e)):new c(t,e)},Xt.animate=function(t,e,n,i){if(this.removed)return i&&i.call(this),this;var r=t instanceof c?t:O.animation(t,e,n,i);return _(r,this,r.percents[0],null,this.attr()),this},Xt.setTime=function(t,e){return t&&null!=e&&this.status(t,T(e,t.ms)/t.ms),this},Xt.status=function(t,e){var n,i,r=[],o=0;if(null!=e)return _(t,this,-1,T(e,1)),this;for(n=re.length;o<n;o++)if((i=re[o]).el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;r.push({anim:i.anim,status:i.status})}return t?0:r},Xt.pause=function(t){for(var e=0;e<re.length;e++)re[e].el.id!=this.id||t&&re[e].anim!=t||!1===eve("raphael.anim.pause."+this.id,this,re[e].anim)||(re[e].paused=!0);return this},Xt.resume=function(t){for(var e=0;e<re.length;e++)if(re[e].el.id==this.id&&(!t||re[e].anim==t)){var n=re[e];!1!==eve("raphael.anim.resume."+this.id,this,n.anim)&&(delete n.paused,this.status(n.anim,n.status))}return this},Xt.stop=function(t){for(var e=0;e<re.length;e++)re[e].el.id!=this.id||t&&re[e].anim!=t||!1===eve("raphael.anim.stop."+this.id,this,re[e].anim)||re.splice(e--,1);return this},eve.on("raphael.remove",t),eve.on("raphael.clear",t),Xt.toString=function(){return"Raphaël’s object"};var le,ce,ue,he,de,fe=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=Xt.constructor&&t[e].constructor!=fe||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},pe=fe.prototype;for(var ge in pe.push=function(){for(var t,e,n=0,i=arguments.length;n<i;n++)!(t=arguments[n])||t.constructor!=Xt.constructor&&t.constructor!=fe||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},pe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},pe.forEach=function(t,e){for(var n=0,i=this.items.length;n<i;n++)if(!1===t.call(e,this.items[n],n))return this;return this},Xt)Xt[L](ge)&&(pe[ge]=function(n){return function(){var e=arguments;return this.forEach(function(t){t[n][m](t,e)})}}(ge));pe.attr=function(t,e){if(t&&O.is(t,N)&&O.is(t[0],"object"))for(var n=0,i=t.length;n<i;n++)this.items[n].attr(t[n]);else for(var r=0,o=this.items.length;r<o;r++)this.items[r].attr(t,e);return this},pe.clear=function(){for(;this.length;)this.pop()},pe.splice=function(t,e,n){t=t<0?E(this.length+t,0):t,e=E(0,T(this.length-t,e));var i,r=[],o=[],s=[];for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;i<e;i++)o.push(this[t+i]);for(;i<this.length-t;i++)r.push(this[t+i]);var a=s.length;for(i=0;i<a+r.length;i++)this.items[t+i]=this[t+i]=i<a?s[i]:r[i-a];for(i=this.items.length=this.length-=e-a;this[i];)delete this[i++];return new fe(o)},pe.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},pe.animate=function(t,e,n,i){!O.is(n,"function")&&n||(i=n||null);var r,o,s=this.items.length,a=s,l=this;if(!s)return this;i&&(o=function(){--s||i.call(l)}),n=O.is(n,$)?n:o;var c=O.animation(t,e,n,o);for(r=this.items[--a].animate(c);a--;)this.items[a]&&!this.items[a].removed&&this.items[a].animateWith(r,c,c);return this},pe.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},pe.getBBox=function(){for(var t=[],e=[],n=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();t.push(o.x),e.push(o.y),n.push(o.x+o.width),i.push(o.y+o.height)}return{x:t=T[m](0,t),y:e=T[m](0,e),x2:n=E[m](0,n),y2:i=E[m](0,i),width:n-t,height:i-e}},pe.clone=function(t){t=new fe;for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},pe.toString=function(){return"Raphaël‘s set"},O.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var i in t.face)t.face[L](i)&&(e.face[i]=t.face[i]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg)for(var r in e.face["units-per-em"]=K(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[L](r)){var o=t.glyphs[r];if(e.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var s in o.k)o[L](s)&&(e.glyphs[r].k[s]=o.k[s])}return t},a.getFont=function(t,e,n,i){if(i=i||"normal",n=n||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,O.fonts){var r,o=O.fonts[t];if(!o){var s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var a in O.fonts)if(O.fonts[L](a)&&s.test(a)){o=O.fonts[a];break}}if(o)for(var l=0,c=o.length;l<c&&((r=o[l]).face["font-weight"]!=e||r.face["font-style"]!=n&&r.face["font-style"]||r.face["font-stretch"]!=i);l++);return r}},a.print=function(t,e,n,i,r,o,s){o=o||"middle",s=E(T(s||0,1),-1);var a,l=H(n)[q](""),c=0,u=0,h="";if(O.is(i,n)&&(i=this.getFont(i)),i){a=(r||16)/i.face["units-per-em"];for(var d=i.face.bbox[q](R),f=+d[0],p=d[3]-d[1],g=0,m=+d[1]+("baseline"==o?p+ +i.face.descent:p/2),v=0,y=l.length;v<y;v++){if("\n"==l[v])u=w=c=0,g+=p;else{var b=u&&i.glyphs[l[v-1]]||{},w=i.glyphs[l[v]];c+=u?(b.w||i.w)+(b.k&&b.k[l[v]]||0)+i.w*s:0,u=1}w&&w.d&&(h+=O.transformPath(w.d,["t",c*a,g*a,"s",a,a,f,m,"t",(t-f)/a,(e-m)/a]))}}return this.path(h).attr({fill:"#000",stroke:"none"})},a.add=function(t){if(O.is(t,"array"))for(var e,n=this.set(),i=0,r=t.length;i<r;i++)e=t[i]||{},u[L](e.type)&&n.push(this[e.type]().attr(e));return n},O.format=function(t,e){var n=O.is(e,N)?[0][Y](e):arguments;return t&&O.is(t,$)&&n.length-1&&(t=t.replace(h,function(t,e){return null==n[++e]?"":n[e]})),t||""},O.fullfill=(he=/\{([^\}]+)\}/g,de=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,n){return String(t).replace(he,function(t,e){return function(t,e,n){var o=n;return e.replace(de,function(t,e,n,i,r){e=e||i,o&&(e in o&&(o=o[e]),"function"==typeof o&&r&&(o=o()))}),o=(null==o||o==n?t:o)+""}(t,e,n)})}),O.ninja=function(){return d.was?p.win.Raphael=d.is:delete Raphael,O},O.st=pe,le=document,ce="DOMContentLoaded",null==le.readyState&&le.addEventListener&&(le.addEventListener(ce,ue=function(){le.removeEventListener(ce,ue,!1),le.readyState="complete"},!1),le.readyState="loading"),function t(){/in/.test(le.readyState)?setTimeout(t,9):O.eve("raphael.DOMload")}(),d.was?p.win.Raphael=O:Raphael=O,eve.on("raphael.DOMload",function(){s=!0})}(),window.Raphael.svg&&function(S){var D="hasOwnProperty",E=String,m=parseFloat,w=parseInt,v=Math,x=v.max,_=v.abs,y=v.pow,C=/[, ]+/,d=S.eve,k="http://www.w3.org/1999/xlink",T={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},M={};S.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};function $(t,e){var r="linear",n=t.id+e,o=.5,s=.5,i=t.node,a=t.paper,l=i.style,c=S._g.doc.getElementById(n);if(!c){if(e=(e=E(e).replace(S._radial_gradient,function(t,e,n){if(r="radial",e&&n){o=m(e);var i=2*(.5<(s=m(n)))-1;.25<y(o-.5,2)+y(s-.5,2)&&(s=v.sqrt(.25-y(o-.5,2))*i+.5)&&.5!=s&&(s=s.toFixed(5)-1e-5*i)}return""})).split(/\s*\-\s*/),"linear"==r){var u=e.shift();if(u=-m(u),isNaN(u))return null;var h=[0,0,v.cos(S.rad(u)),v.sin(S.rad(u))],d=1/(x(_(h[2]),_(h[3]))||1);h[2]*=d,h[3]*=d,h[2]<0&&(h[0]=-h[2],h[2]=0),h[3]<0&&(h[1]=-h[3],h[3]=0)}var f=S._parseDots(e);if(!f)return null;if(n=n.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&n!=t.gradient.id&&(a.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){c=I(r+"Gradient",{id:n}),t.gradient=c,I(c,"radial"==r?{fx:o,fy:s}:{x1:h[0],y1:h[1],x2:h[2],y2:h[3],gradientTransform:t.matrix.invert()}),a.defs.appendChild(c);for(var p=0,g=f.length;p<g;p++)c.appendChild(I("stop",{offset:f[p].offset?f[p].offset:p?"100%":"0%","stop-color":f[p].color||"#fff"}))}}return I(i,{fill:"url(#"+n+")",opacity:1,"fill-opacity":1}),l.fill="",l.opacity=1,l.fillOpacity=1}function N(t){var e=t.getBBox(1);I(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})}function A(t,e,n){if("path"==t.type){for(var i,r,o,s,a,l=E(e).toLowerCase().split("-"),c=t.paper,u=n?"end":"start",h=t.node,d=t.attrs,f=d["stroke-width"],p=l.length,g="classic",m=3,v=3,y=5;p--;)switch(l[p]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":g=l[p];break;case"wide":v=5;break;case"narrow":v=2;break;case"long":m=5;break;case"short":m=2}if(a="open"==g?(m+=2,v+=2,y+=2,o=1,s=n?4:1,{fill:"none",stroke:d.stroke}):(s=o=m/2,{fill:d.stroke,stroke:"none"}),t._.arrows?n?(t._.arrows.endPath&&M[t._.arrows.endPath]--,t._.arrows.endMarker&&M[t._.arrows.endMarker]--):(t._.arrows.startPath&&M[t._.arrows.startPath]--,t._.arrows.startMarker&&M[t._.arrows.startMarker]--):t._.arrows={},"none"!=g){var b="raphael-marker-"+g,w="raphael-marker-"+u+g+m+v;S._g.doc.getElementById(b)?M[b]++:(c.defs.appendChild(I(I("path"),{"stroke-linecap":"round",d:T[g],id:b})),M[b]=1);var x,_=S._g.doc.getElementById(w);_?(M[w]++,x=_.getElementsByTagName("use")[0]):(_=I(I("marker"),{id:w,markerHeight:v,markerWidth:m,orient:"auto",refX:s,refY:v/2}),x=I(I("use"),{"xlink:href":"#"+b,transform:(n?"rotate(180 "+m/2+" "+v/2+") ":"")+"scale("+m/y+","+v/y+")","stroke-width":(1/((m/y+v/y)/2)).toFixed(4)}),_.appendChild(x),c.defs.appendChild(_),M[w]=1),I(x,a);var C=o*("diamond"!=g&&"oval"!=g);r=n?(i=t._.arrows.startdx*f||0,S.getTotalLength(d.path)-C*f):(i=C*f,S.getTotalLength(d.path)-(t._.arrows.enddx*f||0)),(a={})["marker-"+u]="url(#"+w+")",(r||i)&&(a.d=Raphael.getSubpath(d.path,i,r)),I(h,a),t._.arrows[u+"Path"]=b,t._.arrows[u+"Marker"]=w,t._.arrows[u+"dx"]=C,t._.arrows[u+"Type"]=g,t._.arrows[u+"String"]=e}else r=n?(i=t._.arrows.startdx*f||0,S.getTotalLength(d.path)-i):(i=0,S.getTotalLength(d.path)-(t._.arrows.enddx*f||0)),t._.arrows[u+"Path"]&&I(h,{d:Raphael.getSubpath(d.path,i,r)}),delete t._.arrows[u+"Path"],delete t._.arrows[u+"Marker"],delete t._.arrows[u+"dx"],delete t._.arrows[u+"Type"],delete t._.arrows[u+"String"];for(a in M)if(M[D](a)&&!M[a]){var k=S._g.doc.getElementById(a);k&&k.parentNode.removeChild(k)}}}function P(t,e,n){if(e=a[E(e).toLowerCase()]){for(var i=t.attrs["stroke-width"]||"1",r={round:i,square:i,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,o=[],s=e.length;s--;)o[s]=e[s]*i+(s%2?1:-1)*r;I(t.node,{"stroke-dasharray":o.join(",")})}}function f(i,t){var e=i.node,n=i.attrs,r=e.style.visibility;for(var o in e.style.visibility="hidden",t)if(t[D](o)){if(!S._availableAttrs[D](o))continue;var s=t[o];switch(n[o]=s,o){case"blur":i.blur(s);break;case"href":case"title":case"target":var a=e.parentNode;if("a"!=a.tagName.toLowerCase()){var l=I("a");a.insertBefore(l,e),l.appendChild(e),a=l}"target"==o?a.setAttributeNS(k,"show","blank"==s?"new":s):a.setAttributeNS(k,o,s);break;case"cursor":e.style.cursor=s;break;case"transform":i.transform(s);break;case"arrow-start":A(i,s);break;case"arrow-end":A(i,s,1);break;case"clip-rect":var c=E(s).split(C);if(4==c.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var u=I("clipPath"),h=I("rect");u.id=S.createUUID(),I(h,{x:c[0],y:c[1],width:c[2],height:c[3]}),u.appendChild(h),i.paper.defs.appendChild(u),I(e,{"clip-path":"url(#"+u.id+")"}),i.clip=h}if(!s){var d=e.getAttribute("clip-path");if(d){var f=S._g.doc.getElementById(d.replace(/(^url\(#|\)$)/g,""));f&&f.parentNode.removeChild(f),I(e,{"clip-path":""}),delete i.clip}}break;case"path":"path"==i.type&&(I(e,{d:s?n.path=S._pathToAbsolute(s):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&A(i,i._.arrows.startString),"endString"in i._.arrows&&A(i,i._.arrows.endString,1)));break;case"width":if(e.setAttribute(o,s),i._.dirty=1,!n.fx)break;o="x",s=n.x;case"x":n.fx&&(s=-n.x-(n.width||0));case"rx":if("rx"==o&&"rect"==i.type)break;case"cx":e.setAttribute(o,s),i.pattern&&N(i),i._.dirty=1;break;case"height":if(e.setAttribute(o,s),i._.dirty=1,!n.fy)break;o="y",s=n.y;case"y":n.fy&&(s=-n.y-(n.height||0));case"ry":if("ry"==o&&"rect"==i.type)break;case"cy":e.setAttribute(o,s),i.pattern&&N(i),i._.dirty=1;break;case"r":"rect"==i.type?I(e,{rx:s,ry:s}):e.setAttribute(o,s),i._.dirty=1;break;case"src":"image"==i.type&&e.setAttributeNS(k,"href",s);break;case"stroke-width":1==i._.sx&&1==i._.sy||(s/=x(_(i._.sx),_(i._.sy))||1),i.paper._vbSize&&(s*=i.paper._vbSize),e.setAttribute(o,s),n["stroke-dasharray"]&&P(i,n["stroke-dasharray"],t),i._.arrows&&("startString"in i._.arrows&&A(i,i._.arrows.startString),"endString"in i._.arrows&&A(i,i._.arrows.endString,1));break;case"stroke-dasharray":P(i,s,t);break;case"fill":var p=E(s).match(S._ISURL);if(p){u=I("pattern");var g=I("image");u.id=S.createUUID(),I(u,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),I(g,{x:0,y:0,"xlink:href":p[1]}),u.appendChild(g),function(n){S._preload(p[1],function(){var t=this.offsetWidth,e=this.offsetHeight;I(n,{width:t,height:e}),I(g,{width:t,height:e}),i.paper.safari()})}(u),i.paper.defs.appendChild(u),I(e,{fill:"url(#"+u.id+")"}),i.pattern=u,i.pattern&&N(i);break}var m=S.getRGB(s);if(m.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=E(s).charAt())&&$(i,s)){if("opacity"in n||"fill-opacity"in n){var v=S._g.doc.getElementById(e.getAttribute("fill").replace(/^url\(#|\)$/g,""));if(v){var y=v.getElementsByTagName("stop");I(y[y.length-1],{"stop-opacity":("opacity"in n?n.opacity:1)*("fill-opacity"in n?n["fill-opacity"]:1)})}}n.gradient=s,n.fill="none";break}}else delete t.gradient,delete n.gradient,!S.is(n.opacity,"undefined")&&S.is(t.opacity,"undefined")&&I(e,{opacity:n.opacity}),!S.is(n["fill-opacity"],"undefined")&&S.is(t["fill-opacity"],"undefined")&&I(e,{"fill-opacity":n["fill-opacity"]});m[D]("opacity")&&I(e,{"fill-opacity":1<m.opacity?m.opacity/100:m.opacity});case"stroke":m=S.getRGB(s),e.setAttribute(o,m.hex),"stroke"==o&&m[D]("opacity")&&I(e,{"stroke-opacity":1<m.opacity?m.opacity/100:m.opacity}),"stroke"==o&&i._.arrows&&("startString"in i._.arrows&&A(i,i._.arrows.startString),"endString"in i._.arrows&&A(i,i._.arrows.endString,1));break;case"gradient":"circle"!=i.type&&"ellipse"!=i.type&&"r"==E(s).charAt()||$(i,s);break;case"opacity":n.gradient&&!n[D]("stroke-opacity")&&I(e,{"stroke-opacity":1<s?s/100:s});case"fill-opacity":if(n.gradient){(v=S._g.doc.getElementById(e.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(y=v.getElementsByTagName("stop"),I(y[y.length-1],{"stop-opacity":s}));break}default:"font-size"==o&&(s=w(s,10)+"px");var b=o.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});e.style[b]=s,i._.dirty=1,e.setAttribute(o,s)}}O(i,t),e.style.visibility=r}function l(t,e){this[0]=this.node=t,t.raphael=!0,this.id=S._oid++,t.raphaelid=this.id,this.matrix=S.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},e.bottom||(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null}var I=function(t,e){if(e)for(var n in"string"==typeof t&&(t=I(t)),e)e[D](n)&&("xlink:"==n.substring(0,6)?t.setAttributeNS(k,n.substring(6),E(e[n])):t.setAttribute(n,E(e[n])));else(t=S._g.doc.createElementNS("http://www.w3.org/2000/svg",t)).style&&(t.style.webkitTapHighlightColor="rgba(0,0,0,0)");return t},a={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},O=function(t,e){if("text"==t.type&&(e[D]("text")||e[D]("font")||e[D]("font-size")||e[D]("x")||e[D]("y"))){var n=t.attrs,i=t.node,r=i.firstChild?w(S._g.doc.defaultView.getComputedStyle(i.firstChild,"").getPropertyValue("font-size"),10):10;if(e[D]("text")){for(n.text=e.text;i.firstChild;)i.removeChild(i.firstChild);for(var o,s=E(e.text).split("\n"),a=[],l=0,c=s.length;l<c;l++)o=I("tspan"),l&&I(o,{dy:1.2*r,x:n.x}),o.appendChild(S._g.doc.createTextNode(s[l])),i.appendChild(o),a[l]=o}else for(l=0,c=(a=i.getElementsByTagName("tspan")).length;l<c;l++)l?I(a[l],{dy:1.2*r,x:n.x}):I(a[0],{dy:0});I(i,{x:n.x,y:n.y}),t._.dirty=1;var u=t._getBBox(),h=n.y-(u.y+u.height/2);h&&S.is(h,"finite")&&I(a[0],{dy:h})}},t=S.el;(l.prototype=t).constructor=l,S._engine.path=function(t,e){var n=I("path");e.canvas&&e.canvas.appendChild(n);var i=new l(n,e);return i.type="path",f(i,{fill:"none",stroke:"#000",path:t}),i},t.rotate=function(t,e,n){if(this.removed)return this;if((t=E(t).split(C)).length-1&&(e=m(t[1]),n=m(t[2])),t=m(t[0]),null==n&&(e=n),null==e||null==n){var i=this.getBBox(1);e=i.x+i.width/2,n=i.y+i.height/2}return this.transform(this._.transform.concat([["r",t,e,n]])),this},t.scale=function(t,e,n,i){if(this.removed)return this;if((t=E(t).split(C)).length-1&&(e=m(t[1]),n=m(t[2]),i=m(t[3])),t=m(t[0]),null==e&&(e=t),null==i&&(n=i),null==n||null==i)var r=this.getBBox(1);return n=null==n?r.x+r.width/2:n,i=null==i?r.y+r.height/2:i,this.transform(this._.transform.concat([["s",t,e,n,i]])),this},t.translate=function(t,e){return this.removed||((t=E(t).split(C)).length-1&&(e=m(t[1])),t=m(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]]))),this},t.transform=function(t){var e=this._;if(null==t)return e.transform;if(S._extractTransform(this,t),this.clip&&I(this.clip,{transform:this.matrix.invert()}),this.pattern&&N(this),this.node&&I(this.node,{transform:this.matrix}),1!=e.sx||1!=e.sy){var n=this.attrs[D]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":n})}return this},t.hide=function(){return this.removed||this.paper.safari(this.node.style.display="none"),this},t.show=function(){return this.removed||this.paper.safari(this.node.style.display=""),this},t.remove=function(){if(!this.removed&&this.node.parentNode){var t=this.paper;for(var e in t.__set__&&t.__set__.exclude(this),d.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),S._tear(this,t),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node),this)this[e]="function"==typeof this[e]?S._removedFactory(e):null;this.removed=!0}},t._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(t){}finally{e=e||{}}return t&&this.hide(),e},t.attr=function(t,e){if(this.removed)return this;if(null==t){var n={};for(var i in this.attrs)this.attrs[D](i)&&(n[i]=this.attrs[i]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==e&&S.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var r=t.split(C),o={},s=0,a=r.length;s<a;s++)(t=r[s])in this.attrs?o[t]=this.attrs[t]:S.is(this.paper.customAttributes[t],"function")?o[t]=this.paper.customAttributes[t].def:o[t]=S._availableAttrs[t];return a-1?o:o[r[0]]}if(null==e&&S.is(t,"array")){for(o={},s=0,a=t.length;s<a;s++)o[t[s]]=this.attr(t[s]);return o}if(null!=e){var l={};l[t]=e}else null!=t&&S.is(t,"object")&&(l=t);for(var c in l)d("raphael.attr."+c+"."+this.id,this,l[c]);for(c in this.paper.customAttributes)if(this.paper.customAttributes[D](c)&&l[D](c)&&S.is(this.paper.customAttributes[c],"function")){var u=this.paper.customAttributes[c].apply(this,[].concat(l[c]));for(var h in this.attrs[c]=l[c],u)u[D](h)&&(l[h]=u[h])}return f(this,l),this},t.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&S._tofront(this,t),this},t.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;"a"==t.tagName.toLowerCase()?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),S._toback(this,this.paper);this.paper;return this},t.insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),S._insertafter(this,t,this.paper),this},t.insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),S._insertbefore(this,t,this.paper),this},t.blur=function(t){var e=this;if(0!=+t){var n=I("filter"),i=I("feGaussianBlur");e.attrs.blur=t,n.id=S.createUUID(),I(i,{stdDeviation:+t||1.5}),n.appendChild(i),e.paper.defs.appendChild(n),e._blur=n,I(e.node,{filter:"url(#"+n.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter")},S._engine.circle=function(t,e,n,i){var r=I("circle");t.canvas&&t.canvas.appendChild(r);var o=new l(r,t);return o.attrs={cx:e,cy:n,r:i,fill:"none",stroke:"#000"},o.type="circle",I(r,o.attrs),o},S._engine.rect=function(t,e,n,i,r,o){var s=I("rect");t.canvas&&t.canvas.appendChild(s);var a=new l(s,t);return a.attrs={x:e,y:n,width:i,height:r,r:o||0,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},a.type="rect",I(s,a.attrs),a},S._engine.ellipse=function(t,e,n,i,r){var o=I("ellipse");t.canvas&&t.canvas.appendChild(o);var s=new l(o,t);return s.attrs={cx:e,cy:n,rx:i,ry:r,fill:"none",stroke:"#000"},s.type="ellipse",I(o,s.attrs),s},S._engine.image=function(t,e,n,i,r,o){var s=I("image");I(s,{x:n,y:i,width:r,height:o,preserveAspectRatio:"none"}),s.setAttributeNS(k,"href",e),t.canvas&&t.canvas.appendChild(s);var a=new l(s,t);return a.attrs={x:n,y:i,width:r,height:o,src:e},a.type="image",a},S._engine.text=function(t,e,n,i){var r=I("text");t.canvas&&t.canvas.appendChild(r);var o=new l(r,t);return o.attrs={x:e,y:n,"text-anchor":"middle",text:i,font:S._availableAttrs.font,stroke:"none",fill:"#000"},o.type="text",f(o,o.attrs),o},S._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},S._engine.create=function(){var t=S._getContainer.apply(0,arguments),e=t&&t.container,n=t.x,i=t.y,r=t.width,o=t.height;if(!e)throw new Error("SVG container not found.");var s,a=I("svg"),l="overflow:hidden;";return n=n||0,i=i||0,I(a,{height:o=o||342,version:1.1,width:r=r||512,xmlns:"http://www.w3.org/2000/svg"}),1==e?(a.style.cssText=l+"position:absolute;left:"+n+"px;top:"+i+"px",S._g.doc.body.appendChild(a),s=1):(a.style.cssText=l+"position:relative",e.firstChild?e.insertBefore(a,e.firstChild):e.appendChild(a)),(e=new S._Paper).width=r,e.height=o,e.canvas=a,e.clear(),e._left=e._top=0,s&&(e.renderfix=function(){}),e.renderfix(),e},S._engine.setViewBox=function(t,e,n,i,r){d("raphael.setViewBox",this,this._viewBox,[t,e,n,i,r]);var o,s,a=x(n/this.width,i/this.height),l=this.top,c=r?"meet":"xMinYMin";for(o=null==t?(this._vbSize&&(a=1),delete this._vbSize,"0 0 "+this.width+" "+this.height):(this._vbSize=a,t+" "+e+" "+n+" "+i),I(this.canvas,{viewBox:o,preserveAspectRatio:c});a&&l;)s="stroke-width"in l.attrs?l.attrs["stroke-width"]:1,l.attr({"stroke-width":s}),l._.dirty=1,l._.dirtyT=1,l=l.prev;return this._viewBox=[t,e,n,i,!!r],this},S.prototype.renderfix=function(){var e,n=this.canvas,t=n.style;try{e=n.getScreenCTM()||n.createSVGMatrix()}catch(t){e=n.createSVGMatrix()}var i=-e.e%1,r=-e.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,t.left=this._left+"px"),r&&(this._top=(this._top+r)%1,t.top=this._top+"px"))},S.prototype.clear=function(){S.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=I("desc")).appendChild(S._g.doc.createTextNode("Created with Raphaël "+S.version)),t.appendChild(this.desc),t.appendChild(this.defs=I("defs"))},S.prototype.remove=function(){for(var t in d("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?S._removedFactory(t):null};var e=S.st;for(var n in t)t[D](n)&&!e[D](n)&&(e[n]=function(n){return function(){var e=arguments;return this.forEach(function(t){t[n].apply(t,e)})}}(n))}(window.Raphael),window.Raphael.vml&&function(A){function v(t,e,n){var i=A.matrix();return i.rotate(-t,.5,.5),{dx:i.x(e,n),dy:i.y(e,n)}}function P(t,e,n,i,r,o){var s=t._,a=t.matrix,l=s.fillpos,c=t.node,u=c.style,h=1,d="",f=q/e,p=q/n;if(u.visibility="hidden",e&&n){if(c.coordsize=y(f)+" "+y(p),u.rotation=o*(e*n<0?-1:1),o){var g=v(o,i,r);i=g.dx,r=g.dy}if(e<0&&(d+="x"),n<0&&(d+=" y")&&(h=-1),u.flip=d,c.coordorigin=i*-f+" "+r*-p,l||s.fillsize){var m=c.getElementsByTagName(z);m=m&&m[0],c.removeChild(m),l&&(g=v(o,a.x(l[0],l[1]),a.y(l[0],l[1])),m.position=g.dx*h+" "+g.dy*h),s.fillsize&&(m.size=s.fillsize[0]*y(e)+" "+s.fillsize[1]*y(n)),c.appendChild(m)}u.visibility="visible"}}var I="hasOwnProperty",O=String,R=parseFloat,h=Math,L=h.round,H=h.max,F=h.min,y=h.abs,z="fill",j=/[, ]+/,d=A.eve,W={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},B=/([clmz]),?([^clmz]*)/gi,i=/ progid:\S+Blur\([^\)]+\)/g,Y=/-?[^,\s-]+/g,u="position:absolute;left:0;top:0;width:1px;height:1px",q=21600,U={path:1,rect:1,image:1},V={circle:1,ellipse:1};A.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};function G(t,e,n){for(var i=O(e).toLowerCase().split("-"),r=n?"end":"start",o=i.length,s="classic",a="medium",l="medium";o--;)switch(i[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=i[o];break;case"wide":case"narrow":l=i[o];break;case"long":case"short":a=i[o]}var c=t.node.getElementsByTagName("stroke")[0];c[r+"arrow"]=s,c[r+"arrowlength"]=a,c[r+"arrowwidth"]=l}function f(t,e){t.attrs=t.attrs||{};var n=t.node,i=t.attrs,r=n.style,o=U[t.type]&&(e.x!=i.x||e.y!=i.y||e.width!=i.width||e.height!=i.height||e.cx!=i.cx||e.cy!=i.cy||e.rx!=i.rx||e.ry!=i.ry||e.r!=i.r),s=V[t.type]&&(i.cx!=e.cx||i.cy!=e.cy||i.r!=e.r||i.rx!=e.rx||i.ry!=e.ry),a=t;for(var l in e)e[I](l)&&(i[l]=e[l]);if(o&&(i.path=A._getPath[t.type](t),t._.dirty=1),e.href&&(n.href=e.href),e.title&&(n.title=e.title),e.target&&(n.target=e.target),e.cursor&&(r.cursor=e.cursor),"blur"in e&&t.blur(e.blur),(e.path&&"path"==t.type||o)&&(n.path=function(t){var e=/[ahqstv]/gi,n=A._pathToAbsolute;if(O(t).match(e)&&(n=A._path2curve),e=/[clmz]/g,n==A._pathToAbsolute&&!O(t).match(e)){var i=O(t).replace(B,function(t,e,n){var i=[],r="m"==e.toLowerCase(),o=W[e];return n.replace(Y,function(t){r&&2==i.length&&(o+=i+W["m"==e?"l":"L"],i=[]),i.push(L(t*q))}),o+i});return i}var r,o,s=n(t);i=[];for(var a=0,l=s.length;a<l;a++){r=s[a],"z"==(o=s[a][0].toLowerCase())&&(o="x");for(var c=1,u=r.length;c<u;c++)o+=L(r[c]*q)+(c!=u-1?",":"");i.push(o)}return i.join(" ")}(~O(i.path).toLowerCase().indexOf("r")?A._pathToAbsolute(i.path):i.path),"image"==t.type&&(t._.fillpos=[i.x,i.y],t._.fillsize=[i.width,i.height],P(t,1,1,0,0,0))),"transform"in e&&t.transform(e.transform),s){var c=+i.cx,u=+i.cy,h=+i.rx||+i.r||0,d=+i.ry||+i.r||0;n.path=A.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",L((c-h)*q),L((u-d)*q),L((c+h)*q),L((u+d)*q),L(c*q))}if("clip-rect"in e){var f=O(e["clip-rect"]).split(j);if(4==f.length){f[2]=+f[2]+ +f[0],f[3]=+f[3]+ +f[1];var p=n.clipRect||A._g.doc.createElement("div"),g=p.style;g.clip=A.format("rect({1}px {2}px {3}px {0}px)",f),n.clipRect||(g.position="absolute",g.top=0,g.left=0,g.width=t.paper.width+"px",g.height=t.paper.height+"px",n.parentNode.insertBefore(p,n),p.appendChild(n),n.clipRect=p)}e["clip-rect"]||n.clipRect&&(n.clipRect.style.clip="auto")}if(t.textpath){var m=t.textpath.style;e.font&&(m.font=e.font),e["font-family"]&&(m.fontFamily='"'+e["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),e["font-size"]&&(m.fontSize=e["font-size"]),e["font-weight"]&&(m.fontWeight=e["font-weight"]),e["font-style"]&&(m.fontStyle=e["font-style"])}if("arrow-start"in e&&G(a,e["arrow-start"]),"arrow-end"in e&&G(a,e["arrow-end"],1),null!=e.opacity||null!=e["stroke-width"]||null!=e.fill||null!=e.src||null!=e.stroke||null!=e["stroke-width"]||null!=e["stroke-opacity"]||null!=e["fill-opacity"]||null!=e["stroke-dasharray"]||null!=e["stroke-miterlimit"]||null!=e["stroke-linejoin"]||null!=e["stroke-linecap"]){var v=n.getElementsByTagName(z);if((v=v&&v[0])||(v=X(z)),"image"==t.type&&e.src&&(v.src=e.src),e.fill&&(v.on=!0),null!=v.on&&"none"!=e.fill&&null!==e.fill||(v.on=!1),v.on&&e.fill){var y=O(e.fill).match(A._ISURL);if(y){v.parentNode==n&&n.removeChild(v),v.rotate=!0,v.src=y[1],v.type="tile";var b=t.getBBox(1);v.position=b.x+" "+b.y,t._.fillpos=[b.x,b.y],A._preload(y[1],function(){t._.fillsize=[this.offsetWidth,this.offsetHeight]})}else v.color=A.getRGB(e.fill).hex,v.src="",v.type="solid",A.getRGB(e.fill).error&&(a.type in{circle:1,ellipse:1}||"r"!=O(e.fill).charAt())&&K(a,e.fill,v)&&(i.fill="none",i.gradient=e.fill,v.rotate=!1)}if("fill-opacity"in e||"opacity"in e){var w=((+i["fill-opacity"]+1||2)-1)*((+i.opacity+1||2)-1)*((+A.getRGB(e.fill).o+1||2)-1);w=F(H(w,0),1),v.opacity=w,v.src&&(v.color="none")}n.appendChild(v);var x=n.getElementsByTagName("stroke")&&n.getElementsByTagName("stroke")[0],_=!1;x||(_=x=X("stroke")),(e.stroke&&"none"!=e.stroke||e["stroke-width"]||null!=e["stroke-opacity"]||e["stroke-dasharray"]||e["stroke-miterlimit"]||e["stroke-linejoin"]||e["stroke-linecap"])&&(x.on=!0),"none"!=e.stroke&&null!==e.stroke&&null!=x.on&&0!=e.stroke&&0!=e["stroke-width"]||(x.on=!1);var C=A.getRGB(e.stroke);x.on&&e.stroke&&(x.color=C.hex),w=((+i["stroke-opacity"]+1||2)-1)*((+i.opacity+1||2)-1)*((+C.o+1||2)-1);var k=.75*(R(e["stroke-width"])||1);if(w=F(H(w,0),1),null==e["stroke-width"]&&(k=i["stroke-width"]),e["stroke-width"]&&(x.weight=k),k&&k<1&&(w*=k)&&(x.weight=1),x.opacity=w,e["stroke-linejoin"]&&(x.joinstyle=e["stroke-linejoin"]||"miter"),x.miterlimit=e["stroke-miterlimit"]||8,e["stroke-linecap"]&&(x.endcap="butt"==e["stroke-linecap"]?"flat":"square"==e["stroke-linecap"]?"square":"round"),e["stroke-dasharray"]){var S={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};x.dashstyle=S[I](e["stroke-dasharray"])?S[e["stroke-dasharray"]]:""}_&&n.appendChild(x)}if("text"==a.type){a.paper.canvas.style.display="";var D=a.paper.span,E=i.font&&i.font.match(/\d+(?:\.\d*)?(?=px)/);r=D.style,i.font&&(r.font=i.font),i["font-family"]&&(r.fontFamily=i["font-family"]),i["font-weight"]&&(r.fontWeight=i["font-weight"]),i["font-style"]&&(r.fontStyle=i["font-style"]),E=R(i["font-size"]||E&&E[0])||10,r.fontSize=100*E+"px",a.textpath.string&&(D.innerHTML=O(a.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var T=D.getBoundingClientRect();a.W=i.w=(T.right-T.left)/100,a.H=i.h=(T.bottom-T.top)/100,a.X=i.x,a.Y=i.y+a.H/2,("x"in e||"y"in e)&&(a.path.v=A.format("m{0},{1}l{2},{1}",L(i.x*q),L(i.y*q),L(i.x*q)+1));for(var M=["x","y","text","font","font-family","font-weight","font-style","font-size"],$=0,N=M.length;$<N;$++)if(M[$]in e){a._.dirty=1;break}switch(i["text-anchor"]){case"start":a.textpath.style["v-text-align"]="left",a.bbx=a.W/2;break;case"end":a.textpath.style["v-text-align"]="right",a.bbx=-a.W/2;break;default:a.textpath.style["v-text-align"]="center",a.bbx=0}a.textpath.style["v-text-kern"]=!0}}function p(t,e){this[0]=this.node=t,t.raphael=!0,this.id=A._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=A.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},e.bottom||(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null}var X,K=function(t,e,n){t.attrs=t.attrs||{};t.attrs;var i=Math.pow,r="linear",o=".5 .5";if(t.attrs.gradient=e,e=(e=O(e).replace(A._radial_gradient,function(t,e,n){return r="radial",e&&n&&(e=R(e),n=R(n),.25<i(e-.5,2)+i(n-.5,2)&&(n=h.sqrt(.25-i(e-.5,2))*(2*(.5<n)-1)+.5),o=e+" "+n),""})).split(/\s*\-\s*/),"linear"==r){var s=e.shift();if(s=-R(s),isNaN(s))return null}var a=A._parseDots(e);if(!a)return null;if(t=t.shape||t.node,a.length){t.removeChild(n),n.on=!0,n.method="none",n.color=a[0].color,n.color2=a[a.length-1].color;for(var l=[],c=0,u=a.length;c<u;c++)a[c].offset&&l.push(a[c].offset+" "+a[c].color);n.colors=l.length?l.join():"0% "+n.color,"radial"==r?(n.type="gradientTitle",n.focus="100%",n.focussize="0 0",n.focusposition=o,n.angle=0):(n.type="gradient",n.angle=(270-s)%360),t.appendChild(n)}return 1},t=A.el;(p.prototype=t).constructor=p,t.transform=function(t){if(null==t)return this._.transform;var e,n=this.paper._viewBoxShift,i=n?"s"+[n.scale,n.scale]+"-1-1t"+[n.dx,n.dy]:"";n&&(e=t=O(t).replace(/\.{3}|\u2026/g,this._.transform||"")),A._extractTransform(this,i+t);var r,o=this.matrix.clone(),s=this.skew,a=this.node,l=~O(this.attrs.fill).indexOf("-"),c=!O(this.attrs.fill).indexOf("url(");if(o.translate(-.5,-.5),c||l||"image"==this.type)if(s.matrix="1 0 0 1",s.offset="0 0",r=o.split(),l&&r.noRotation||!r.isSimple){a.style.filter=o.toFilter();var u=this.getBBox(),h=this.getBBox(1),d=u.x-h.x,f=u.y-h.y;a.coordorigin=d*-q+" "+f*-q,P(this,1,1,d,f,0)}else a.style.filter="",P(this,r.scalex,r.scaley,r.dx,r.dy,r.rotate);else a.style.filter="",s.matrix=O(o),s.offset=o.offset();return e&&(this._.transform=e),this},t.rotate=function(t,e,n){if(this.removed)return this;if(null!=t){if((t=O(t).split(j)).length-1&&(e=R(t[1]),n=R(t[2])),t=R(t[0]),null==n&&(e=n),null==e||null==n){var i=this.getBBox(1);e=i.x+i.width/2,n=i.y+i.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,n]])),this}},t.translate=function(t,e){return this.removed||((t=O(t).split(j)).length-1&&(e=R(t[1])),t=R(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]]))),this},t.scale=function(t,e,n,i){if(this.removed)return this;if((t=O(t).split(j)).length-1&&(e=R(t[1]),n=R(t[2]),i=R(t[3]),isNaN(n)&&(n=null),isNaN(i)&&(i=null)),t=R(t[0]),null==e&&(e=t),null==i&&(n=i),null==n||null==i)var r=this.getBBox(1);return n=null==n?r.x+r.width/2:n,i=null==i?r.y+r.height/2:i,this.transform(this._.transform.concat([["s",t,e,n,i]])),this._.dirtyT=1,this},t.hide=function(){return this.removed||(this.node.style.display="none"),this},t.show=function(){return this.removed||(this.node.style.display=""),this},t._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},t.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),A.eve.unbind("raphael.*.*."+this.id),A._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?A._removedFactory(t):null;this.removed=!0}},t.attr=function(t,e){if(this.removed)return this;if(null==t){var n={};for(var i in this.attrs)this.attrs[I](i)&&(n[i]=this.attrs[i]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==e&&A.is(t,"string")){if(t==z&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var r=t.split(j),o={},s=0,a=r.length;s<a;s++)(t=r[s])in this.attrs?o[t]=this.attrs[t]:A.is(this.paper.customAttributes[t],"function")?o[t]=this.paper.customAttributes[t].def:o[t]=A._availableAttrs[t];return a-1?o:o[r[0]]}if(this.attrs&&null==e&&A.is(t,"array")){for(o={},s=0,a=t.length;s<a;s++)o[t[s]]=this.attr(t[s]);return o}var l;for(var c in null!=e&&((l={})[t]=e),null==e&&A.is(t,"object")&&(l=t),l)d("raphael.attr."+c+"."+this.id,this,l[c]);if(l){for(c in this.paper.customAttributes)if(this.paper.customAttributes[I](c)&&l[I](c)&&A.is(this.paper.customAttributes[c],"function")){var u=this.paper.customAttributes[c].apply(this,[].concat(l[c]));for(var h in this.attrs[c]=l[c],u)u[I](h)&&(l[h]=u[h])}l.text&&"text"==this.type&&(this.textpath.string=l.text),f(this,l)}return this},t.toFront=function(){return this.removed||this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&A._tofront(this,this.paper),this},t.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),A._toback(this,this.paper)),this},t.insertAfter=function(t){return this.removed||(t.constructor==A.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),A._insertafter(this,t,this.paper)),this},t.insertBefore=function(t){return this.removed||(t.constructor==A.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),A._insertbefore(this,t,this.paper)),this},t.blur=function(t){var e=this.node.runtimeStyle,n=e.filter;n=n.replace(i,""),0!=+t?(this.attrs.blur=t,e.filter=n+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+t||1.5)+")",e.margin=A.format("-{0}px 0 0 -{0}px",L(+t||1.5))):(e.filter=n,e.margin=0,delete this.attrs.blur)},A._engine.path=function(t,e){var n=X("shape");n.style.cssText=u,n.coordsize=q+" "+q,n.coordorigin=e.coordorigin;var i=new p(n,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),i.type="path",i.path=[],i.Path="",f(i,r),e.canvas.appendChild(n);var o=X("skew");return o.on=!0,n.appendChild(o),i.skew=o,i.transform(""),i},A._engine.rect=function(t,e,n,i,r,o){var s=A._rectPath(e,n,i,r,o),a=t.path(s),l=a.attrs;return a.X=l.x=e,a.Y=l.y=n,a.W=l.width=i,a.H=l.height=r,l.r=o,l.path=s,a.type="rect",a},A._engine.ellipse=function(t,e,n,i,r){var o=t.path();o.attrs;return o.X=e-i,o.Y=n-r,o.W=2*i,o.H=2*r,o.type="ellipse",f(o,{cx:e,cy:n,rx:i,ry:r}),o},A._engine.circle=function(t,e,n,i){var r=t.path();r.attrs;return r.X=e-i,r.Y=n-i,r.W=r.H=2*i,r.type="circle",f(r,{cx:e,cy:n,r:i}),r},A._engine.image=function(t,e,n,i,r,o){var s=A._rectPath(n,i,r,o),a=t.path(s).attr({stroke:"none"}),l=a.attrs,c=a.node,u=c.getElementsByTagName(z)[0];return l.src=e,a.X=l.x=n,a.Y=l.y=i,a.W=l.width=r,a.H=l.height=o,l.path=s,a.type="image",u.parentNode==c&&c.removeChild(u),u.rotate=!0,u.src=e,u.type="tile",a._.fillpos=[n,i],a._.fillsize=[r,o],c.appendChild(u),P(a,1,1,0,0,0),a},A._engine.text=function(t,e,n,i){var r=X("shape"),o=X("path"),s=X("textpath");e=e||0,n=n||0,i=i||"",o.v=A.format("m{0},{1}l{2},{1}",L(e*q),L(n*q),L(e*q)+1),o.textpathok=!0,s.string=O(i),s.on=!0,r.style.cssText=u,r.coordsize=q+" "+q,r.coordorigin="0 0";var a=new p(r,t),l={fill:"#000",stroke:"none",font:A._availableAttrs.font,text:i};a.shape=r,a.path=o,a.textpath=s,a.type="text",a.attrs.text=O(i),a.attrs.x=e,a.attrs.y=n,a.attrs.w=1,a.attrs.h=1,f(a,l),r.appendChild(s),r.appendChild(o),t.canvas.appendChild(r);var c=X("skew");return c.on=!0,r.appendChild(c),a.skew=c,a.transform(""),a},A._engine.setSize=function(t,e){var n=this.canvas.style;return(this.width=t)==+t&&(t+="px"),(this.height=e)==+e&&(e+="px"),n.width=t,n.height=e,n.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&A._engine.setViewBox.apply(this,this._viewBox),this},A._engine.setViewBox=function(t,e,n,i,r){A.eve("raphael.setViewBox",this,this._viewBox,[t,e,n,i,r]);var o,s,a=this.width,l=this.height,c=1/H(n/a,i/l);return r&&(n*(o=l/i)<a&&(t-=(a-n*o)/2/o),i*(s=a/n)<l&&(e-=(l-i*s)/2/s)),this._viewBox=[t,e,n,i,!!r],this._viewBoxShift={dx:-t,dy:-e,scale:c},this.forEach(function(t){t.transform("...")}),this},A._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{e.namespaces.rvml||e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),X=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){X=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},A._engine.initWin(A._g.win),A._engine.create=function(){var t=A._getContainer.apply(0,arguments),e=t.container,n=t.height,i=t.width,r=t.x,o=t.y;if(!e)throw new Error("VML container not found.");var s=new A._Paper,a=s.canvas=A._g.doc.createElement("div"),l=a.style;return r=r||0,o=o||0,i=i||512,n=n||342,(s.width=i)==+i&&(i+="px"),(s.height=n)==+n&&(n+="px"),s.coordsize=216e5+" 21600000",s.coordorigin="0 0",s.span=A._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",a.appendChild(s.span),l.cssText=A.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,n),1==e?(A._g.doc.body.appendChild(a),l.left=r+"px",l.top=o+"px",l.position="absolute"):e.firstChild?e.insertBefore(a,e.firstChild):e.appendChild(a),s.renderfix=function(){},s},A.prototype.clear=function(){A.eve("raphael.clear",this),this.canvas.innerHTML="",this.span=A._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},A.prototype.remove=function(){for(var t in A.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?A._removedFactory(t):null;return!0};var e=A.st;for(var n in t)t[I](n)&&!e[I](n)&&(e[n]=function(n){return function(){var e=arguments;return this.forEach(function(t){t[n].apply(t,e)})}}(n))}(window.Raphael),angular.module("ui.multiselect",[]).factory("optionParser",["$parse",function(n){var i=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(t){var e=t.match(i);if(!e)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+t+"'.");return{itemName:e[3],source:n(e[4]),viewMapper:n(e[2]||e[1]),modelMapper:n(e[1])}}}}]).directive("multiselect",["$parse","$document","$compile","optionParser",function(p,t,g,m){return{restrict:"E",require:"ngModel",link:function(i,t,e,r){var n=e.options,o=m.parse(n),s=!!e.multiple,a=!1,l=i.$new(),c=e.change||anguler.noop;l.items=[],l.header="Select Category",l.multiple=s,l.disabled=!1,i.$on("$destroy",function(){l.$destroy()});var u=angular.element("<multiselect-popup></multiselect-popup>");function h(){l.items.length=0;for(var t=o.source(i),e=0;e<t.length;e++){var n={};n[o.itemName]=t[e],l.items.push({label:o.viewMapper(n),model:t[e],checked:!1})}}function d(){if(s){var n=0;if(angular.forEach(l.items,function(t,e){1==t.model.is_selected&&n++}),0==n)return l.header="Select Category";l.header=n+" selected"}else{var t={};t[o.itemName]=r.$modelValue,l.header=o.viewMapper(t)}}function f(t){var e;if(t)return values=[],selectedProductCategory=[],angular.forEach(l.items,function(t){values.push(t.model),"1"==t.model.is_selected&&selectedProductCategory.push(t.model)}),r.$setViewValue(values),void d();angular.forEach(l.items,function(t){if(t.checked)return e=t.model,!1}),r.$setViewValue(e)}(e.required||e.ngRequired)&&(a=!0),e.$observe("required",function(t){a=t}),l.$watch(function(){return p(e.disabled)(i)},function(t){l.disabled=t}),l.$watch(function(){return p(e.multiple)(i)},function(t){s=t||!1}),l.$watch(function(){return o.source(i)},function(t){angular.isDefined(t)&&(h(),f(!0))}),l.$watch(function(){return r.$modelValue},function(t,e){angular.isDefined(t)&&(function(e){angular.isArray(e)?angular.forEach(e,function(e){angular.forEach(l.items,function(t){angular.equals(t.model,e)&&(t.checked=!0)})}):angular.forEach(l.items,function(t){if(angular.equals(t.model,e))return!(t.checked=!0)})}(t),l.$eval(c)),d(),r.$setValidity("required",l.valid())},!0),h(),t.append(g(u)(l)),l.valid=function(){if(!a)return!0;var t=r.$modelValue;return angular.isArray(t)&&0<t.length||!angular.isArray(t)&&null!=t},l.checkAll=function(){s&&(angular.forEach(l.items,function(t){t.checked=!0}),f(!0))},l.uncheckAll=function(){angular.forEach(l.items,function(t){t.checked=!1}),f(!0)},l.select=function(t){!1===s?(function(t){t.checked?l.uncheckAll():(l.uncheckAll(),t.checked=!t.checked),f(!1)}(t),l.toggleSelect()):function(t){1==t.model.is_selected?t.model.is_selected=0:t.model.is_selected=1,f(!0)}(t)}}}}]).directive("multiselectPopup",["$document",function(o){return{restrict:"E",scope:!1,replace:!0,template:'<div class="dropdown"><button class="btn" ng-click="toggleSelect()" ng-disabled="disabled" ng-class="{\'error\': !valid()}"><span class="pull-left">{{header}}</span><span class="caret pull-right" style="margin-top: 8px;"></span></button><ul class="dropdown-menu"><li ng-repeat="i in items"><a ng-click="select(i);"><i ng-class="getClass(i)"></i>{{i.label}}</a></li></ul></div>',link:function(e,n,t){function i(t){r(t.target,n.find(t.target.tagName))||(n.removeClass("open"),o.unbind("click",i),e.$digest())}e.isVisible=!1,e.toggleSelect=function(){n.hasClass("open")?(n.removeClass("open"),o.unbind("click",i)):(n.addClass("open"),o.bind("click",i))},e.getClass=function(t){return 1==t.model.is_selected?"fa fa-check":"icon-empty"};var r=function(t,e){for(var n=0;n<e.length;n++)if(t==e[n])return!0;return!1}}}}]),function(c){function l(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function u(t,e){return at.call(t,e)}function o(t){!1===nt.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function e(t,e){var n=!0;return s(function(){return n&&(o(t),n=!1),e.apply(this,arguments)},e)}function t(e,n){return function(t){return f(e.call(this,t),n)}}function n(e,n){return function(t){return this.localeData().ordinal(e.call(this,t),n)}}function i(){}function r(t,e){!1!==e&&T(t),a(this,t),this._d=new Date(+t._d),!1===Jt&&(Jt=!0,nt.updateOffset(this),Jt=!1)}function h(t){var e=x(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=nt.localeData(),this._bubble()}function s(t,e){for(var n in e)u(e,n)&&(t[n]=e[n]);return u(e,"toString")&&(t.toString=e.toString),u(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e){var n,i,r;if(void 0!==e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),void 0!==e._i&&(t._i=e._i),void 0!==e._f&&(t._f=e._f),void 0!==e._l&&(t._l=e._l),void 0!==e._strict&&(t._strict=e._strict),void 0!==e._tzm&&(t._tzm=e._tzm),void 0!==e._isUTC&&(t._isUTC=e._isUTC),void 0!==e._offset&&(t._offset=e._offset),void 0!==e._pf&&(t._pf=e._pf),void 0!==e._locale&&(t._locale=e._locale),0<mt.length)for(n in mt)void 0!==(r=e[i=mt[n]])&&(t[i]=r);return t}function d(t){return t<0?Math.ceil(t):Math.floor(t)}function f(t,e,n){for(var i=""+Math.abs(t),r=0<=t;i.length<e;)i="0"+i;return(r?n?"+":"":"-")+i}function p(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function g(i,r){return function(t,e){var n;return null===e||isNaN(+e)||(function(t,e){Qt[t]||(o(e),Qt[t]=!0)}(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period)."),n=t,t=e,e=n),t="string"==typeof t?+t:t,m(this,nt.duration(t,e),i),this}}function m(t,e,n,i){var r=e._milliseconds,o=e._days,s=e._months;i=null==i||i,r&&t._d.setTime(+t._d+r*n),o&&K(t,"Date",X(t,"Date")+o*n),s&&G(t,X(t,"Month")+s*n),i&&nt.updateOffset(t,o||s)}function v(t){return"[object Array]"===Object.prototype.toString.call(t)}function y(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function b(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&C(t[i])!==C(e[i]))&&s++;return s+o}function w(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=Yt[t]||qt[e]||e}return t}function x(t){var e,n,i={};for(n in t)u(t,n)&&((e=w(n))&&(i[e]=t[n]));return i}function _(s){var a,l;if(0===s.indexOf("week"))a=7,l="day";else{if(0!==s.indexOf("month"))return;a=12,l="month"}nt[s]=function(n,t){var e,i,r=nt._locale[s],o=[];if("number"==typeof n&&(t=n,n=c),i=function(t){var e=nt().utc().set(l,t);return r.call(nt._locale,e,n||"")},null!=t)return i(t);for(e=0;e<a;e++)o.push(i(e));return o}}function C(t){var e=+t,n=0;return 0!=e&&isFinite(e)&&(n=0<=e?Math.floor(e):Math.ceil(e)),n}function k(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function S(t,e,n){return q(nt([t,11,31+e-n]),e,n).week}function D(t){return E(t)?366:365}function E(t){return t%4==0&&t%100!=0||t%400==0}function T(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[ct]<0||11<t._a[ct]?ct:t._a[ut]<1||t._a[ut]>k(t._a[lt],t._a[ct])?ut:t._a[ht]<0||24<t._a[ht]||24===t._a[ht]&&(0!==t._a[dt]||0!==t._a[ft]||0!==t._a[pt])?ht:t._a[dt]<0||59<t._a[dt]?dt:t._a[ft]<0||59<t._a[ft]?ft:t._a[pt]<0||999<t._a[pt]?pt:-1,t._pf._overflowDayOfYear&&(e<lt||ut<e)&&(e=ut),t._pf.overflow=e)}function M(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===c)),t._isValid}function $(t){return t?t.toLowerCase().replace("_","-"):t}function N(t){var e=null;if(!gt[t]&&vt)try{e=nt.locale(),require("./locale/"+t),nt.locale(e)}catch(t){}return gt[t]}function A(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(nt.isMoment(t)||y(t)?+t:+nt(t))-+n,n._d.setTime(+n._d+i),nt.updateOffset(n,!1),n):nt(t).local()}function P(t,e){return t.isValid()?(e=I(e,t.localeData()),Ut[e]||(Ut[e]=function(n){var i,r,t,o=n.match(xt);for(i=0,r=o.length;i<r;i++)o[i]=Kt[o[i]]?Kt[o[i]]:(t=o[i]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){var e="";for(i=0;i<r;i++)e+=o[i]instanceof Function?o[i].call(t,n):o[i];return e}}(e)),Ut[e](t)):t.localeData().invalidDate()}function I(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(_t.lastIndex=0;0<=i&&_t.test(t);)t=t.replace(_t,n),_t.lastIndex=0,i-=1;return t}function O(t,e){var n=e._strict;switch(t){case"Q":return Pt;case"DDDD":return Ot;case"YYYY":case"GGGG":case"gggg":return n?Rt:St;case"Y":case"G":case"g":return Ht;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?Lt:Dt;case"S":if(n)return Pt;case"SS":if(n)return It;case"SSS":if(n)return Ot;case"DDD":return kt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Tt;case"a":case"A":return e._locale._meridiemParse;case"x":return Nt;case"X":return At;case"Z":case"ZZ":return Mt;case"T":return $t;case"SSSS":return Et;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?It:Ct;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ct;case"Do":return n?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return new RegExp(function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(function(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})}(t.replace("\\",""))))}}function R(t){var e=(t=t||"").match(Mt)||[],n=((e[e.length-1]||[])+"").match(Wt)||["-",0,0],i=60*n[1]+C(n[2]);return"+"===n[0]?i:-i}function L(t,e,n){var i,r=n._a;switch(t){case"Q":null!=e&&(r[ct]=3*(C(e)-1));break;case"M":case"MM":null!=e&&(r[ct]=C(e)-1);break;case"MMM":case"MMMM":null!=(i=n._locale.monthsParse(e,t,n._strict))?r[ct]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(r[ut]=C(e));break;case"Do":null!=e&&(r[ut]=C(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=C(e));break;case"YY":r[lt]=nt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":r[lt]=C(e);break;case"a":case"A":n._meridiem=e;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":r[ht]=C(e);break;case"m":case"mm":r[dt]=C(e);break;case"s":case"ss":r[ft]=C(e);break;case"S":case"SS":case"SSS":case"SSSS":r[pt]=C(1e3*("0."+e));break;case"x":n._d=new Date(C(e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=R(e);break;case"dd":case"ddd":case"dddd":null!=(i=n._locale.weekdaysParse(e))?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=C(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=nt.parseTwoDigitYear(e)}}function H(t){var e,n,i,r,o,s,a;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,s=4,n=l(e.GG,t._a[lt],q(nt(),1,4).year),i=l(e.W,1),r=l(e.E,1)):(o=t._locale._week.dow,s=t._locale._week.doy,n=l(e.gg,t._a[lt],q(nt(),o,s).year),i=l(e.w,1),null!=e.d?(r=e.d)<o&&++i:r=null!=e.e?e.e+o:o),a=function(t,e,n,i,r){var o,s=B(t,0,1).getUTCDay();return{year:0<(o=7*(e-1)+((n=null!=n?n:r)-r)+(r-(s=0===s?7:s)+(i<s?7:0)-(s<r?7:0))+1)?t:t-1,dayOfYear:0<o?o:D(t-1)+o}}(n,i,r,s,o),t._a[lt]=a.year,t._dayOfYear=a.dayOfYear}function F(t){var e,n,i,r,o=[];if(!t._d){for(i=function(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[ut]&&null==t._a[ct]&&H(t),t._dayOfYear&&(r=l(t._a[lt],i[lt]),t._dayOfYear>D(r)&&(t._pf._overflowDayOfYear=!0),n=B(r,0,t._dayOfYear),t._a[ct]=n.getUTCMonth(),t._a[ut]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ht]&&0===t._a[dt]&&0===t._a[ft]&&0===t._a[pt]&&(t._nextDay=!0,t._a[ht]=0),t._d=(t._useUTC?B:function(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return t<1970&&a.setFullYear(t),a}).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ht]=24)}}function z(t){if(t._f!==nt.ISO_8601){t._a=[],t._pf.empty=!0;var e,n,i,r,o,s=""+t._i,a=s.length,l=0;for(i=I(t._f,t._locale).match(xt)||[],e=0;e<i.length;e++)r=i[e],(n=(s.match(O(r,t))||[])[0])&&(0<(o=s.substr(0,s.indexOf(n))).length&&t._pf.unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),l+=n.length),Kt[r]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(r),L(r,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=a-l,0<s.length&&t._pf.unusedInput.push(s),!0===t._pf.bigHour&&t._a[ht]<=12&&(t._pf.bigHour=c),t._a[ht]=function(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0)),e)}(t._locale,t._a[ht],t._meridiem),F(t),T(t)}else j(t)}function j(t){var e,n,i=t._i,r=Ft.exec(i);if(r){for(t._pf.iso=!0,e=0,n=zt.length;e<n;e++)if(zt[e][1].exec(i)){t._f=zt[e][0]+(r[6]||" ");break}for(e=0,n=jt.length;e<n;e++)if(jt[e][1].exec(i)){t._f+=jt[e][0];break}i.match(Mt)&&(t._f+="Z"),z(t)}else t._isValid=!1}function W(t){var e,n=t._i;n===c?t._d=new Date:y(n)?t._d=new Date(+n):null!==(e=yt.exec(n))?t._d=new Date(+e[1]):"string"==typeof n?function(t){j(t),!1===t._isValid&&(delete t._isValid,nt.createFromInputFallback(t))}(t):v(n)?(t._a=function(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}(n.slice(0),function(t){return parseInt(t,10)}),F(t)):"object"==typeof n?function(t){var e;t._d||(e=x(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],F(t))}(t):"number"==typeof n?t._d=new Date(n):nt.createFromInputFallback(t)}function B(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function Y(t,e,n){var i=nt.duration(t).abs(),r=st(i.as("s")),o=st(i.as("m")),s=st(i.as("h")),a=st(i.as("d")),l=st(i.as("M")),c=st(i.as("y")),u=r<Vt.s&&["s",r]||1===o&&["m"]||o<Vt.m&&["mm",o]||1===s&&["h"]||s<Vt.h&&["hh",s]||1===a&&["d"]||a<Vt.d&&["dd",a]||1===l&&["M"]||l<Vt.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=e,u[3]=0<+t,u[4]=n,function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply({},u)}function q(t,e,n){var i,r=n-e,o=n-t.day();return r<o&&(o-=7),o<r-7&&(o+=7),i=nt(t).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function U(t){var e,n=t._i,i=t._f;return t._locale=t._locale||nt.localeData(t._l),null===n||i===c&&""===n?nt.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),nt.isMoment(n)?new r(n,!0):(i?v(i)?function(t){var e,n,i,r,o;if(0===t._f.length)return t._pf.invalidFormat=!0,t._d=new Date(NaN);for(r=0;r<t._f.length;r++)o=0,e=a({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},e._f=t._f[r],z(e),M(e)&&(o+=e._pf.charsLeftOver,o+=10*e._pf.unusedTokens.length,e._pf.score=o,(null==i||o<i)&&(i=o,n=e));s(t,n||e)}(t):z(t):W(t),(e=new r(t))._nextDay&&(e.add(1,"d"),e._nextDay=c),e))}function V(t,e){var n,i;if(1===e.length&&v(e[0])&&(e=e[0]),!e.length)return nt();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function G(t,e){var n;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))||(n=Math.min(t.date(),k(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n)),t}function X(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function K(t,e,n){return"Month"===e?G(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function Q(e,n){return function(t){return null!=t?(K(this,e,t),nt.updateOffset(this,n),this):X(this,e)}}function Z(t){return 400*t/146097}function J(t){return 146097*t/400}function tt(t){nt.duration.fn[t]=function(){return this._data[t]}}function et(t){"undefined"==typeof ender&&(it=ot.moment,ot.moment=t?e("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",nt):nt)}for(var nt,it,rt,ot="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,st=Math.round,at=Object.prototype.hasOwnProperty,lt=0,ct=1,ut=2,ht=3,dt=4,ft=5,pt=6,gt={},mt=[],vt="undefined"!=typeof module&&module&&module.exports,yt=/^\/?Date\((\-?\d+)/i,bt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,wt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,xt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,_t=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ct=/\d\d?/,kt=/\d{1,3}/,St=/\d{1,4}/,Dt=/[+\-]?\d{1,6}/,Et=/\d+/,Tt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Mt=/Z|[\+\-]\d\d:?\d\d/gi,$t=/T/i,Nt=/[\+\-]?\d+/,At=/[\+\-]?\d+(\.\d{1,3})?/,Pt=/\d/,It=/\d\d/,Ot=/\d{3}/,Rt=/\d{4}/,Lt=/[+-]?\d{6}/,Ht=/[+-]?\d+/,Ft=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],jt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Wt=/([\+\-]|\d\d)/gi,Bt=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Yt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},qt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Ut={},Vt={s:45,m:45,h:22,d:26,M:11},Gt="DDD w W M D d".split(" "),Xt="M D H h m s w W".split(" "),Kt={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return f(this.year()%100,2)},YYYY:function(){return f(this.year(),4)},YYYYY:function(){return f(this.year(),5)},YYYYYY:function(){var t=this.year();return(0<=t?"+":"-")+f(Math.abs(t),6)},gg:function(){return f(this.weekYear()%100,2)},gggg:function(){return f(this.weekYear(),4)},ggggg:function(){return f(this.weekYear(),5)},GG:function(){return f(this.isoWeekYear()%100,2)},GGGG:function(){return f(this.isoWeekYear(),4)},GGGGG:function(){return f(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return f(C(this.milliseconds()/10),2)},SSS:function(){return f(this.milliseconds(),3)},SSSS:function(){return f(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+f(C(t/60),2)+":"+f(C(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+f(C(t/60),2)+f(C(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Qt={},Zt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],Jt=!1;Gt.length;)rt=Gt.pop(),Kt[rt+"o"]=n(Kt[rt],rt);for(;Xt.length;)rt=Xt.pop(),Kt[rt+rt]=t(Kt[rt],2);for(Kt.DDDD=t(Kt.DDD,3),s(i.prototype,{set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=nt.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=nt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.apply(e,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[0<t?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return q(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(nt=function(t,e,n,i){var r;return"boolean"==typeof n&&(i=n,n=c),(r={_isAMomentObject:!0})._i=t,r._f=e,r._l=n,r._strict=i,r._isUTC=!1,r._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},U(r)}).suppressDeprecationWarnings=!1,nt.createFromInputFallback=e("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),nt.min=function(){return V("isBefore",[].slice.call(arguments,0))},nt.max=function(){return V("isAfter",[].slice.call(arguments,0))},nt.utc=function(t,e,n,i){var r;return"boolean"==typeof n&&(i=n,n=c),(r={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0})._l=n,r._i=t,r._f=e,r._strict=i,r._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},U(r).utc()},nt.unix=function(t){return nt(1e3*t)},nt.duration=function(t,e){var n,i,r,o,s=t,a=null;return nt.isDuration(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(a=bt.exec(t))?(n="-"===a[1]?-1:1,s={y:0,d:C(a[ut])*n,h:C(a[ht])*n,m:C(a[dt])*n,s:C(a[ft])*n,ms:C(a[pt])*n}):(a=wt.exec(t))?(n="-"===a[1]?-1:1,s={y:(r=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n})(a[2]),M:r(a[3]),d:r(a[4]),h:r(a[5]),m:r(a[6]),s:r(a[7]),w:r(a[8])}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=function(t,e){var n;return e=A(e,t),t.isBefore(e)?n=p(t,e):((n=p(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n}(nt(s.from),nt(s.to)),(s={}).ms=o.milliseconds,s.M=o.months),i=new h(s),nt.isDuration(t)&&u(t,"_locale")&&(i._locale=t._locale),i},nt.version="2.9.0",nt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",nt.ISO_8601=function(){},nt.momentProperties=mt,nt.updateOffset=function(){},nt.relativeTimeThreshold=function(t,e){return Vt[t]!==c&&(e===c?Vt[t]:(Vt[t]=e,!0))},nt.lang=e("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return nt.locale(t,e)}),nt.locale=function(t,e){var n;return t&&((n=void 0!==e?nt.defineLocale(t,e):nt.localeData(t))&&(nt.duration._locale=nt._locale=n)),nt._locale._abbr},nt.defineLocale=function(t,e){return null!==e?(e.abbr=t,gt[t]||(gt[t]=new i),gt[t].set(e),nt.locale(t),gt[t]):(delete gt[t],null)},nt.langData=e("moment.langData is deprecated. Use moment.localeData instead.",function(t){return nt.localeData(t)}),nt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return nt._locale;if(!v(t)){if(e=N(t))return e;t=[t]}return function(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=$(t[o]).split("-")).length,n=(n=$(t[o+1]))?n.split("-"):null;0<e;){if(i=N(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&b(r,n,!0)>=e-1)break;e--}o++}return null}(t)},nt.isMoment=function(t){return t instanceof r||null!=t&&u(t,"_isAMomentObject")},nt.isDuration=function(t){return t instanceof h},rt=Zt.length-1;0<=rt;--rt)_(Zt[rt]);for(rt in nt.normalizeUnits=function(t){return w(t)},nt.invalid=function(t){var e=nt.utc(NaN);return null!=t?s(e._pf,t):e._pf.userInvalidated=!0,e},nt.parseZone=function(){return nt.apply(null,arguments).parseZone()},nt.parseTwoDigitYear=function(t){return C(t)+(68<C(t)?1900:2e3)},nt.isDate=y,s(nt.fn=r.prototype,{clone:function(){return nt(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=nt(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():P(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return M(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&0<b(this._a,(this._isUTC?nt.utc(this._a):nt(this._a)).toArray()))},parsingFlags:function(){return s({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=P(this,t||nt.defaultFormat);return this.localeData().postformat(e)},add:g(1,"add"),subtract:g(-1,"subtract"),diff:function(t,e,n){var i,r,o=A(t,this),s=6e4*(o.utcOffset()-this.utcOffset());return"year"===(e=w(e))||"month"===e||"quarter"===e?(r=function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(1+n,"months")-i)))}(this,o),"quarter"===e?r/=3:"year"===e&&(r/=12)):(i=this-o,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?r:d(r)},from:function(t,e){return nt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(nt(),t)},calendar:function(t){var e=t||nt(),n=A(e,this).startOf("day"),i=this.diff(n,"days",!0),r=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,nt(e)))},isLeapYear:function(){return E(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){if("string"==typeof t)if(isNaN(t)){if("number"!=typeof(t=e.weekdaysParse(t)))return null}else t=parseInt(t,10);return t}(t,this.localeData()),this.add(t-e,"d")):e},month:Q("Month",!0),startOf:function(t){switch(t=w(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return(t=w(t))===c||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(t,e){return"millisecond"===(e=w(void 0!==e?e:"millisecond"))?+(t=nt.isMoment(t)?t:nt(t))<+this:(nt.isMoment(t)?+t:+nt(t))<+this.clone().startOf(e)},isBefore:function(t,e){var n;return"millisecond"===(e=w(void 0!==e?e:"millisecond"))?+this<+(t=nt.isMoment(t)?t:nt(t)):(n=nt.isMoment(t)?+t:+nt(t),+this.clone().endOf(e)<n)},isBetween:function(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)},isSame:function(t,e){var n;return"millisecond"===(e=w(e||"millisecond"))?+this==+(t=nt.isMoment(t)?t:nt(t)):(n=+nt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},min:e("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return(t=nt.apply(null,arguments))<this?this:t}),max:e("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return this<(t=nt.apply(null,arguments))?this:t}),zone:e("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var n,i=this._offset||0;return null!=t?("string"==typeof t&&(t=R(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(n=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?m(this,nt.duration(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,nt.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(R(this._i)),this},hasAlignedHourOffset:function(t){return t=t?nt(t).utcOffset():0,(this.utcOffset()-t)%60==0},daysInMonth:function(){return k(this.year(),this.month())},dayOfYear:function(t){var e=st((nt(this).startOf("day")-nt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=q(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=q(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=q(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return S(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return S(this.year(),t.dow,t.doy)},get:function(t){return this[t=w(t)]()},set:function(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else"function"==typeof this[t=w(t)]&&this[t](e);return this},locale:function(t){var e;return t===c?this._locale._abbr:(null!=(e=nt.localeData(t))&&(this._locale=e),this)},lang:e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===c?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),nt.fn.millisecond=nt.fn.milliseconds=Q("Milliseconds",!1),nt.fn.second=nt.fn.seconds=Q("Seconds",!1),nt.fn.minute=nt.fn.minutes=Q("Minutes",!1),nt.fn.hour=nt.fn.hours=Q("Hours",!0),nt.fn.date=Q("Date",!0),nt.fn.dates=e("dates accessor is deprecated. Use date instead.",Q("Date",!0)),nt.fn.year=Q("FullYear",!0),nt.fn.years=e("years accessor is deprecated. Use year instead.",Q("FullYear",!0)),nt.fn.days=nt.fn.day,nt.fn.months=nt.fn.month,nt.fn.weeks=nt.fn.week,nt.fn.isoWeeks=nt.fn.isoWeek,nt.fn.quarters=nt.fn.quarter,nt.fn.toJSON=nt.fn.toISOString,nt.fn.isUTC=nt.fn.isUtc,s(nt.duration.fn=h.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,r=this._days,o=this._months,s=this._data,a=0;s.milliseconds=i%1e3,t=d(i/1e3),s.seconds=t%60,e=d(t/60),s.minutes=e%60,n=d(e/60),s.hours=n%24,r+=d(n/24),o+=d((r-=d(J(a=d(Z(r)))))/30),r%=30,a+=d(o/12),o%=12,s.days=r,s.months=o,s.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return d(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},humanize:function(t){var e=Y(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=nt.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=nt.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return this[(t=w(t)).toLowerCase()+"s"]()},as:function(t){var e,n;if("month"===(t=w(t))||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*Z(e),"month"===t?n:n/12;switch(e=this._days+Math.round(J(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:nt.fn.lang,locale:nt.fn.locale,toIsoString:e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),nt.duration.fn.toString=nt.duration.fn.toISOString,Bt)u(Bt,rt)&&tt(rt.toLowerCase());nt.duration.fn.asMilliseconds=function(){return this.as("ms")},nt.duration.fn.asSeconds=function(){return this.as("s")},nt.duration.fn.asMinutes=function(){return this.as("m")},nt.duration.fn.asHours=function(){return this.as("h")},nt.duration.fn.asDays=function(){return this.as("d")},nt.duration.fn.asWeeks=function(){return this.as("weeks")},nt.duration.fn.asMonths=function(){return this.as("M")},nt.duration.fn.asYears=function(){return this.as("y")},nt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===C(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),vt?module.exports=nt:"function"==typeof define&&define.amd?(define(function(t,e,n){return n.config&&n.config()&&!0===n.config().noGlobal&&(ot.moment=it),nt}),et(!0)):et()}.call(this),angular.module("ui.calendar",[]).constant("uiCalendarConfig",{calendars:{}}).controller("uiCalendarCtrl",["$scope","$locale",function(i,r){var a=i.eventSources,o=i.calendarWatchEvent?i.calendarWatchEvent:angular.noop,s=1;this.eventFingerprint=function(t){t._id||(t._id=s++);var e=o({event:t})||"",n=moment.isMoment(t.start)?t.start.unix():t.start?moment(t.start).unix():"",i=moment.isMoment(t.end)?t.end.unix():t.end?moment(t.end).unix():"";return""+t._id+(t.id||"")+(t.title||"")+(t.url||"")+n+i+(t.allDay||"")+(t.className||"")+e};var l=1,c=1;this.sourceFingerprint=function(t){var e=""+(t.__id||(t.__id=l++)),n=angular.isObject(t)&&t.events;return n&&(e=e+"-"+(n.__id||(n.__id=c++))),e},this.allEvents=function(){for(var t=[],e=0,n=a.length;e<n;e++){var i=a[e];if(angular.isArray(i))t.push(i);else if(angular.isObject(i)&&angular.isArray(i.events)){var r={};for(var o in i)"_id"!==o&&"events"!==o&&(r[o]=i[o]);for(var s=0;s<i.events.length;s++)angular.extend(i.events[s],r);t.push(i.events)}}return Array.prototype.concat.apply([],t)},this.changeWatcher=function(s,h){function e(){for(var t,e,n=angular.isFunction(s)?s():s,i=[],r=0,o=n.length;r<o;r++)e=n[r],t=h(e),p[t]=e,i.push(t);return i}function d(t,e){var n,i,r=[],o={};for(n=0,i=e.length;n<i;n++)o[e[n]]=!0;for(n=0,i=t.length;n<i;n++)o[t[n]]||r.push(t[n]);return r}var f,p={};return f={subscribe:function(t,n){t.$watch(e,function(t,e){n&&!1===n(t,e)||function(t,e){var n,i,r,o,s={},a=d(e,t);for(n=0,i=a.length;n<i;n++){var l=a[n];r=p[l],delete p[l];var c=h(r);c===l?f.onRemoved(r):(s[c]=l,f.onChanged(r))}var u=d(t,e);for(n=0,i=u.length;n<i;n++)o=u[n],r=p[o],s[o]||f.onAdded(r)}(t,e)},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}},this.getFullCalendarConfig=function(t,e){var n={};return angular.extend(n,e),angular.extend(n,t),angular.forEach(n,function(t,e){"function"==typeof t&&(n[e]=function(n){return function(){if(i.$root.$$phase)return n.apply(this,arguments);var t=arguments,e=this;return i.$root.$apply(function(){return n.apply(e,t)})}}(n[e]))}),n},this.getLocaleConfig=function(t){if(t.lang&&!t.useNgLocale)return{};function e(t){var e,n;for(n in e=[],t)e[n]=t[n];return e}var n=r.DATETIME_FORMATS;return{monthNames:e(n.MONTH),monthNamesShort:e(n.SHORTMONTH),dayNames:e(n.DAY),dayNamesShort:e(n.SHORTDAY)}}}]).directive("uiCalendar",["uiCalendarConfig",function(u){return{restrict:"A",scope:{eventSources:"=ngModel",calendarWatchEvent:"&"},controller:"uiCalendarCtrl",link:function(o,t,s,a){var r,l=o.eventSources,e=!1,n=a.changeWatcher(l,a.sourceFingerprint),i=a.changeWatcher(a.allEvents,a.eventFingerprint),c=null;o.destroyCalendar=function(){r&&r.fullCalendar&&r.fullCalendar("destroy"),r=s.calendar?u.calendars[s.calendar]=$(t).html(""):$(t).html("")},o.initCalendar=function(){(r=r||angular.element(t).html("")).fullCalendar(c),s.calendar&&(u.calendars[s.calendar]=r)},o.$on("$destroy",function(){o.destroyCalendar()}),n.onAdded=function(t){r&&r.fullCalendar&&(r.fullCalendar(c),s.calendar&&(u.calendars[s.calendar]=r),r.fullCalendar("addEventSource",t),e=!0)},n.onRemoved=function(t){r&&r.fullCalendar&&(r.fullCalendar("removeEventSource",t),e=!0)},n.onChanged=function(){r&&r.fullCalendar&&(r.fullCalendar("refetchEvents"),e=!0)},i.onAdded=function(t){r&&r.fullCalendar&&r.fullCalendar("renderEvent",t,!!t.stick)},i.onRemoved=function(t){r&&r.fullCalendar&&r.fullCalendar("removeEvents",t._id)},i.onChanged=function(t){if(r&&r.fullCalendar)for(var e=r.fullCalendar("clientEvents",t._id),n=0;n<e.length;n++){var i=e[n];i=angular.extend(i,t),r.fullCalendar("updateEvent",i)}},n.subscribe(o),i.subscribe(o,function(){if(!0===e)return e=!1}),o.$watch(function(){var t,e=s.uiCalendar?o.$parent.$eval(s.uiCalendar):{};t=a.getFullCalendarConfig(e,u);var n=a.getLocaleConfig(t);angular.extend(n,t),c={eventSources:l},angular.extend(c,n),c.calendars=null;var i={};for(var r in c)"eventSources"!==r&&(i[r]=c[r]);return JSON.stringify(i)},function(t,e){t!==e?(o.destroyCalendar(),o.initCalendar()):t&&angular.isUndefined(r)&&o.initCalendar()})}}}]),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(M,$){var N=M.fullCalendar={version:"2.4.0"},u=N.views={};M.fn.fullCalendar=function(o){var s=Array.prototype.slice.call(arguments,1),a=this;return this.each(function(t,e){var n,i=M(e),r=i.data("fullCalendar");"string"==typeof o?r&&M.isFunction(r[o])&&(n=r[o].apply(r,s),t||(a=n),"destroy"===o&&i.removeData("fullCalendar")):r||(r=new Ht(i,o),i.data("fullCalendar",r),r.render())}),a};var o=["header","buttonText","buttonIcons","themeButtonIcons"];function h(t){return H(t,o)}function r(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function s(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function d(){M("body").addClass("fc-not-allowed")}function f(){M("body").removeClass("fc-not-allowed")}function n(r,t,e){var o=Math.floor(t/r.length),s=Math.floor(t-o*(r.length-1)),a=[],l=[],c=[],u=0;i(r),r.each(function(t,e){var n=t===r.length-1?s:o,i=M(e).outerHeight(!0);i<n?(a.push(e),l.push(i),c.push(M(e).height())):u+=i}),e&&(t-=u,o=Math.floor(t/a.length),s=Math.floor(t-o*(a.length-1))),M(a).each(function(t,e){var n=t===a.length-1?s:o,i=l[t],r=n-(i-c[t]);i<n&&M(e).height(r)})}function i(t){t.height("")}function t(t){var i=0;return t.find("> *").each(function(t,e){var n=M(e).outerWidth();i<n&&(i=n)}),i++,t.width(i),i}function a(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight||(l(t),!1)}function l(t){t.height("").removeClass("fc-scroller")}function p(t){var e=t.css("position"),n=t.parents().filter(function(){var t=M(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&n.length?n:M(t[0].ownerDocument||document)}function c(t){var e=t.offset();return{left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()}}function e(t){var e=t.offset(),n=g(t),i=e.left+v(t,"border-left-width")+n.left,r=e.top+v(t,"border-top-width")+n.top;return{left:i,right:i+t[0].clientWidth,top:r,bottom:r+t[0].clientHeight}}function g(t){var e=t.innerWidth()-t[0].clientWidth,n={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return!function(){null===m&&(m=function(){var t=M("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),e=t.children().offset().left>t.offset().left;return t.remove(),e}());return m}()||"rtl"!=t.css("direction")?n.right=e:n.left=e,n}N.intersectionToSeg=k,N.applyAll=W,N.debounce=Q,N.isInt=X,N.htmlEscape=Y,N.cssToStr=U,N.proxy=K,N.capitaliseFirstLetter=V,N.getClientRect=e,N.getContentRect=function(t){var e=t.offset(),n=e.left+v(t,"border-left-width")+v(t,"padding-left"),i=e.top+v(t,"border-top-width")+v(t,"padding-top");return{left:n,right:n+t.width(),top:i,bottom:i+t.height()}},N.getScrollbarWidths=g;var m=null;function v(t,e){return parseFloat(t.css(e))||0}function y(t){return 1==t.which&&!t.ctrlKey}function b(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function w(t){var e,n,i=[],r=[];for("string"==typeof t?r=t.split(/\s*,\s*/):"function"==typeof t?r=[t]:M.isArray(t)&&(r=t),e=0;e<r.length;e++)"string"==typeof(n=r[e])?i.push("-"==n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&i.push({func:n});return i}function x(t,e,n){var i,r;for(i=0;i<n.length;i++)if(r=_(t,e,n[i]))return r;return 0}function _(t,e,n){return n.func?n.func(t,e):C(t[n.field],e[n.field])*(n.order||1)}function C(t,e){return t||e?null==e?-1:null==t?1:"string"===M.type(t)||"string"===M.type(e)?String(t).localeCompare(String(e)):t-e:0}function k(t,e){var n,i,r,o,s=t.start,a=t.end,l=e.start,c=e.end;if(l<a&&s<c)return r=l<=s?(n=s.clone(),!0):(n=l.clone(),!1),o=a<=c?(i=a.clone(),!0):(i=c.clone(),!1),{start:n,end:i,isStart:r,isEnd:o}}N.intersectRects=b,N.parseFieldSpecs=w,N.compareByFieldSpecs=x,N.compareByFieldSpec=_,N.flexibleCompare=C,N.computeIntervalUnit=E,N.divideRangeByDuration=function(t,e,n){var i;if(O(n))return(e-t)/n;if(i=n.asMonths(),1<=Math.abs(i)&&X(i))return e.diff(t,"months",!0)/i;return e.diff(t,"days",!0)/n.asDays()},N.divideDurationByDuration=I,N.multiplyDuration=function(t,e){var n;if(O(t))return $.duration(t*e);if(n=t.asMonths(),1<=Math.abs(n)&&X(n))return $.duration({months:n*e});return $.duration({days:t.asDays()*e})},N.durationHasTime=O;var S=["sun","mon","tue","wed","thu","fri","sat"],D=["year","month","week","day","hour","minute","second","millisecond"];function A(t,e){return $.duration({days:t.clone().stripTime().diff(e.clone().stripTime(),"days"),ms:t.time()-e.time()})}function P(t,e,n){return $.duration(Math.round(t.diff(e,n,!0)),n)}function E(t,e){var n,i,r;for(n=0;n<D.length&&!(1<=(r=T(i=D[n],t,e))&&X(r));n++);return i}function T(t,e,n){return null!=n?n.diff(e,t,!0):$.isDuration(e)?e.as(t):e.end.diff(e.start,t,!0)}function I(t,e){var n,i;return O(t)||O(e)?t/e:(n=t.asMonths(),i=e.asMonths(),1<=Math.abs(n)&&X(n)&&1<=Math.abs(i)&&X(i)?n/i:t.asDays()/e.asDays())}function O(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function R(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}N.log=function(){var t=window.console;if(t&&t.log)return t.log.apply(t,arguments)},N.warn=function(){var t=window.console;return t&&t.warn?t.warn.apply(t,arguments):N.log.apply(N,arguments)};var L={}.hasOwnProperty;function H(t,e){var n,i,r,o,s,a,l={};if(e)for(n=0;n<e.length;n++){for(i=e[n],r=[],o=t.length-1;0<=o;o--)if("object"==typeof(s=t[o][i]))r.unshift(s);else if(void 0!==s){l[i]=s;break}r.length&&(l[i]=H(r))}for(n=t.length-1;0<=n;n--)for(i in a=t[n])i in l||(l[i]=a[i]);return l}function F(t){function e(){}return e.prototype=t,new e}function z(t,e){for(var n in t)j(t,n)&&(e[n]=t[n])}function j(t,e){return L.call(t,e)}function W(t,e,n){if(M.isFunction(t)&&(t=[t]),t){var i,r;for(i=0;i<t.length;i++)r=t[i].apply(e,n)||r;return r}}function B(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}function Y(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function q(t){return t.replace(/&.*?;/g,"")}function U(t){var n=[];return M.each(t,function(t,e){null!=e&&n.push(t+":"+e)}),n.join(";")}function V(t){return t.charAt(0).toUpperCase()+t.slice(1)}function G(t,e){return t-e}function X(t){return t%1==0}function K(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function Q(e,n){var i,r,o,s,a=function(){var t=+new Date-s;t<n&&0<t?i=setTimeout(a,n-t):(i=null,e.apply(o,r),i||(o=r=null))};return function(){o=this,r=arguments,s=+new Date,i=i||setTimeout(a,n)}}var Z,J,tt,et=/^\s*\d{4}-\d\d$/,nt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,it=$.fn,rt=M.extend({},it);function ot(t,e,n){var i,r,o,s,a=t[0],l=1==t.length&&"string"==typeof a;return $.isMoment(a)?at(a,s=$.apply(null,t)):!function(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}(a)&&void 0!==a?(r=i=!1,l?et.test(a)?(t=[a+="-01"],r=i=!0):(o=nt.exec(a))&&(i=!o[5],r=!0):M.isArray(a)&&(r=!0),s=e||i?$.utc.apply($,t):$.apply(null,t),i?(s._ambigTime=!0,s._ambigZone=!0):n&&(r?s._ambigZone=!0:l&&(s.utcOffset?s.utcOffset(a):s.zone(a)))):s=$.apply(null,t),s._fullCalendar=!0,s}function st(t,e){var n,i,r=!1,o=!1,s=t.length,a=[];for(n=0;n<s;n++)i=t[n],$.isMoment(i)||(i=N.moment.parseZone(i)),r=r||i._ambigTime,o=o||i._ambigZone,a.push(i);for(n=0;n<s;n++)i=a[n],e||!r||i._ambigTime?o&&!i._ambigZone&&(a[n]=i.clone().stripZone()):a[n]=i.clone().stripTime();return a}function at(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function lt(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function ct(t,e){return rt.format.call(t,e)}function ut(t,e){var n,i="";for(n=0;n<e.length;n++)i+=dt(t,e[n]);return i}N.moment=function(){return ot(arguments)},N.moment.utc=function(){var t=ot(arguments,!0);return t.hasTime()&&t.utc(),t},N.moment.parseZone=function(){return ot(arguments,!0,!0)},it.clone=function(){var t=rt.clone.apply(this,arguments);return at(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},it.week=it.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?rt.isoWeek.apply(this,arguments):rt.week.apply(this,arguments)},it.time=function(t){if(!this._fullCalendar)return rt.time.apply(this,arguments);if(null==t)return $.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,$.isDuration(t)||$.isMoment(t)||(t=$.duration(t));var e=0;return $.isDuration(t)&&(e=24*Math.floor(t.asDays())),this.hours(e+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},it.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),J(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},it.hasTime=function(){return!this._ambigTime},it.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),J(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},it.hasZone=function(){return!this._ambigZone},it.local=function(){var t=this.toArray(),e=this._ambigZone;return rt.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&tt(this,t),this},it.utc=function(){return rt.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},M.each(["zone","utcOffset"],function(t,e){rt[e]&&(it[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),rt[e].apply(this,arguments)})}),it.format=function(){return this._fullCalendar&&arguments[0]?function(t,e){return ut(t,vt(e))}(this,arguments[0]):this._ambigTime?ct(this,"YYYY-MM-DD"):this._ambigZone?ct(this,"YYYY-MM-DD[T]HH:mm:ss"):rt.format.apply(this,arguments)},it.toISOString=function(){return this._ambigTime?ct(this,"YYYY-MM-DD"):this._ambigZone?ct(this,"YYYY-MM-DD[T]HH:mm:ss"):rt.toISOString.apply(this,arguments)},it.isWithin=function(t,e){var n=st([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},it.isSame=function(t,e){var n;return this._fullCalendar?e?(n=st([this,t],!0),rt.isSame.call(n[0],n[1],e)):(t=N.moment.parseZone(t),rt.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):rt.isSame.apply(this,arguments)},M.each(["isBefore","isAfter"],function(t,i){it[i]=function(t,e){var n;return this._fullCalendar?(n=st([this,t]),rt[i].call(n[0],n[1],e)):rt[i].apply(this,arguments)}}),Z="_d"in $()&&"updateOffset"in $,J=Z?function(t,e){t._d.setTime(Date.UTC.apply(Date,e)),$.updateOffset(t,!1)}:lt,tt=Z?function(t,e){t._d.setTime(+new Date(e[0]||0,e[1]||0,e[2]||0,e[3]||0,e[4]||0,e[5]||0,e[6]||0)),$.updateOffset(t,!1)}:lt;var ht={t:function(t){return ct(t,"a").charAt(0)},T:function(t){return ct(t,"A").charAt(0)}};function dt(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?ht[n]?ht[n](t):ct(t,n):e.maybe&&(i=ut(t,e.maybe)).match(/[1-9]/)?i:""}function ft(t,e,n,i,r){return i=i||" - ",function(t,e,n,i,r){var o,s,a,l,c="",u="",h="",d="",f="";for(s=0;s<n.length&&!1!==(o=gt(t,e,n[s]));s++)c+=o;for(a=n.length-1;s<a&&!1!==(o=gt(t,e,n[a]));a--)u=o+u;for(l=s;l<=a;l++)h+=dt(t,n[l]),d+=dt(e,n[l]);(h||d)&&(f=r?d+i+h:h+i+d);return c+f+u}(t=N.moment.parseZone(t),e=N.moment.parseZone(e),vt(n=(t.localeData||t.lang).call(t).longDateFormat(n)||n),i,r)}N.formatRange=ft;var pt={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};function gt(t,e,n){var i,r;return"string"==typeof n?n:!!((i=n.token)&&(r=pt[i.charAt(0)])&&t.isSame(e,r))&&ct(t,i)}var mt={};function vt(t){return t in mt?mt[t]:mt[t]=function t(e){var n=[];var i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;var r;for(;r=i.exec(e);)r[1]?n.push(r[1]):r[2]?n.push({maybe:t(r[2])}):r[3]?n.push({token:r[3]}):r[5]&&n.push(r[5]);return n}(t)}function yt(){}(N.Class=yt).extend=function(t){var e,n=this;return j(t=t||{},"constructor")&&(e=t.constructor),"function"!=typeof e&&(e=t.constructor=function(){n.apply(this,arguments)}),e.prototype=F(n.prototype),z(t,e.prototype),function(t,e){var n,i,r=["constructor","toString","valueOf"];for(n=0;n<r.length;n++)t[i=r[n]]!==Object.prototype[i]&&(e[i]=t[i])}(t,e.prototype),z(n,e),e},yt.mixin=function(t){z(t.prototype||t,this.prototype)};var bt=N.Emitter=yt.extend({callbackHash:null,on:function(t,e){return this.getCallbacks(t).add(e),this},off:function(t,e){return this.getCallbacks(t).remove(e),this},trigger:function(t){var e=Array.prototype.slice.call(arguments,1);return this.triggerWith(t,this,e),this},triggerWith:function(t,e,n){return this.getCallbacks(t).fireWith(e,n),this},getCallbacks:function(t){return this.callbackHash||(this.callbackHash={}),this.callbackHash[t]||(this.callbackHash[t]=M.Callbacks())}}),wt=yt.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,e=this.options;this.el=M('<div class="fc-popover"/>').addClass(e.className||"").css({top:0,left:0}).append(e.content).appendTo(e.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),e.autoHide&&M(document).on("mousedown",this.documentMousedownProxy=K(this,"documentMousedown"))},documentMousedown:function(t){this.el&&!M(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),M(document).off("mousedown",this.documentMousedownProxy)},position:function(){var t,e,n,i,r,o=this.options,s=this.el.offsetParent().offset(),a=this.el.outerWidth(),l=this.el.outerHeight(),c=M(window),u=p(this.el);i=o.top||0,r=void 0!==o.left?o.left:void 0!==o.right?o.right-a:0,e=u.is(window)||u.is(document)?(u=c,t=0):(t=(n=u.offset()).top,n.left),t+=c.scrollTop(),e+=c.scrollLeft(),!1!==o.viewportConstrain&&(i=Math.min(i,t+u.outerHeight()-l-this.margin),i=Math.max(i,t+this.margin),r=Math.min(r,e+u.outerWidth()-a-this.margin),r=Math.max(r,e+this.margin)),this.el.css({top:i-s.top,left:r-s.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),xt=yt.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(t){this.grid=t},build:function(){this.grid.build(),this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.grid.clear(),this.rowCoords=null,this.colCoords=null},getCell:function(t,e){var n,i,r,o=this.rowCoords,s=o.length,a=this.colCoords,l=a.length,c=null,u=null;if(this.inBounds(t,e)){for(n=0;n<s;n++)if(e>=(i=o[n]).top&&e<i.bottom){c=n;break}for(n=0;n<l;n++)if(t>=(i=a[n]).left&&t<i.right){u=n;break}if(null!==c&&null!==u)return(r=this.grid.getCell(c,u)).grid=this.grid,M.extend(r,o[c],a[u]),r}return null},computeBounds:function(){this.bounds=this.containerEl?e(this.containerEl):null},inBounds:function(t,e){var n=this.bounds;return!n||t>=n.left&&t<n.right&&e>=n.top&&e<n.bottom}}),_t=yt.extend({coordMaps:null,constructor:function(t){this.coordMaps=t},build:function(){var t,e=this.coordMaps;for(t=0;t<e.length;t++)e[t].build()},getCell:function(t,e){var n,i=this.coordMaps,r=null;for(n=0;n<i.length&&!r;n++)r=i[n].getCell(t,e);return r},clear:function(){var t,e=this.coordMaps;for(t=0;t<e.length;t++)e[t].clear()}}),Ct=N.DragListener=yt.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(t){t=t||{},this.options=t,this.subjectEl=t.subjectEl},mousedown:function(t){y(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(t){var e;this.isListening||(t&&this.options.scroll&&((e=p(M(t.target))).is(window)||e.is(document)||(this.scrollEl=e,this.scrollHandlerProxy=Q(K(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),M(document).on("mousemove",this.mousemoveProxy=K(this,"mousemove")).on("mouseup",this.mouseupProxy=K(this,"mouseup")).on("selectstart",this.preventDefault),t?(this.originX=t.pageX,this.originY=t.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(t))},listenStart:function(t){this.trigger("listenStart",t)},mousemove:function(t){var e,n=t.pageX-this.originX,i=t.pageY-this.originY;this.isDragging||(e=this.options.distance||1)*e<=n*n+i*i&&this.startDrag(t),this.isDragging&&this.drag(n,i,t)},startDrag:function(t){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(t))},dragStart:function(t){var e=this.subjectEl;this.trigger("dragStart",t),(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},drag:function(t,e,n){this.trigger("drag",t,e,n),this.updateScroll(n)},mouseup:function(t){this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.dragStop(t),this.isDragging=!1)},dragStop:function(t){var e=this;this.trigger("dragStop",t),setTimeout(function(){e.subjectHref&&e.subjectEl.attr("href",e.subjectHref)},0)},stopListening:function(t){this.stopDrag(t),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),M(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(t))},listenStop:function(t){this.trigger("listenStop",t)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t=this.scrollEl;this.scrollBounds=t?c(t):null},updateScroll:function(t){var e,n,i,r,o=this.scrollSensitivity,s=this.scrollBounds,a=0,l=0;s&&(e=(o-(t.pageY-s.top))/o,n=(o-(s.bottom-t.pageY))/o,i=(o-(t.pageX-s.left))/o,r=(o-(s.right-t.pageX))/o,0<=e&&e<=1?a=e*this.scrollSpeed*-1:0<=n&&n<=1&&(a=n*this.scrollSpeed),0<=i&&i<=1?l=i*this.scrollSpeed*-1:0<=r&&r<=1&&(l=r*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(K(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):0<this.scrollTopVel&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):0<this.scrollLeftVel&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),kt=Ct.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(t,e){Ct.prototype.constructor.call(this,e),this.coordMap=t},listenStart:function(t){var e,n,i,r=this.subjectEl;Ct.prototype.listenStart.apply(this,arguments),this.computeCoords(),t?(i=n={left:t.pageX,top:t.pageY},r&&(i=function(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}(i,e=c(r))),this.origCell=this.getCell(i.left,i.top),r&&this.options.subjectCenter&&(this.origCell&&(e=b(this.origCell,e)||e),i=function(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}(e)),this.coordAdjust=function(t,e){return{left:t.left-e.left,top:t.top-e.top}}(i,n)):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},dragStart:function(t){var e;Ct.prototype.dragStart.apply(this,arguments),(e=this.getCell(t.pageX,t.pageY))&&this.cellOver(e)},drag:function(t,e,n){var i;Ct.prototype.drag.apply(this,arguments),St(i=this.getCell(n.pageX,n.pageY),this.cell)||(this.cell&&this.cellOut(),i&&this.cellOver(i))},dragStop:function(){this.cellDone(),Ct.prototype.dragStop.apply(this,arguments)},cellOver:function(t){this.cell=t,this.trigger("cellOver",t,St(t,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){Ct.prototype.listenStop.apply(this,arguments),this.origCell=this.cell=null,this.coordMap.clear()},scrollStop:function(){Ct.prototype.scrollStop.apply(this,arguments),this.computeCoords()},getCell:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.coordMap.getCell(t,e)}});function St(t,e){return!t&&!e||!(!t||!e)&&(t.grid===e.grid&&t.row===e.row&&t.col===e.col)}var Dt=yt.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,e){this.options=e=e||{},this.sourceEl=t,this.parentEl=e.parentEl?M(e.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.mouseY0=t.pageY,this.mouseX0=t.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),M(document).on("mousemove",this.mousemoveProxy=K(this,"mousemove")))},stop:function(t,e){var n=this,i=this.options.revertDuration;function r(){this.isAnimating=!1,n.removeElement(),this.top0=this.left0=null,e&&e()}this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,M(document).off("mousemove",this.mousemoveProxy),t&&i&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:i,complete:r})):r())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),Et=yt.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL")},rowHtml:function(t,e){var n,i=this.getHtmlRenderer("cell",t),r="";for(e=e||0,n=0;n<this.colCnt;n++)r+=i(this.getCell(e,n));return"<tr>"+(r=this.bookendCells(r,t,e))+"</tr>"},bookendCells:function(t,e,n){var i=this.getHtmlRenderer("intro",e)(n||0),r=this.getHtmlRenderer("outro",e)(n||0),o=this.isRTL?r:i,s=this.isRTL?i:r;return"string"==typeof t?o+t+s:t.prepend(o).append(s)},getHtmlRenderer:function(t,e){var n,i,r,o,s=this.view;return n=t+"Html",e&&(i=e+V(t)+"Html"),i&&(o=s[i])?r=s:i&&(o=this[i])?r=this:(o=s[n])?r=s:(o=this[n])&&(r=this),"function"==typeof o?function(){return o.apply(r,arguments)||""}:function(){return o||""}}}),Tt=N.Grid=Et.extend({start:null,end:null,rowCnt:0,colCnt:0,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){Et.apply(this,arguments),this.coordMap=new xt(this),this.elsByFill={},this.externalDragStartProxy=K(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){this.start=t.start.clone(),this.end=t.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var t,e,n=this.view;this.colHeadFormat=n.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),null==(t=n.opt("displayEventTime"))&&(t=this.computeDisplayEventTime()),null==(e=n.opt("displayEventEnd"))&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},build:function(){},clear:function(){},rangeToSegs:function(t){},diffDates:function(t,e){return this.largeUnit?P(t,e,this.largeUnit):A(t,e)},getCell:function(t,e){var n;return null==e&&(t="number"==typeof t?(e=t%this.colCnt,Math.floor(t/this.colCnt)):(e=t.col,t.row)),n={row:t,col:e},M.extend(n,this.getRowData(t),this.getColData(e)),M.extend(n,this.computeCellRange(n)),n},computeCellRange:function(t){var e=this.computeCellDate(t);return{start:e,end:e.clone().add(this.cellDuration)}},computeCellDate:function(t){},getRowData:function(t){return{}},getColData:function(t){return{}},getRowEl:function(t){},getColEl:function(t){},getCellDayEl:function(t){return this.getColEl(t.col)||this.getRowEl(t.row)},computeRowCoords:function(){var t,e,n,i=[];for(t=0;t<this.rowCnt;t++)n=(e=this.getRowEl(t)).offset().top,i.push({top:n,bottom:n+e.outerHeight()});return i},computeColCoords:function(){var t,e,n,i=[];for(t=0;t<this.colCnt;t++)n=(e=this.getColEl(t)).offset().left,i.push({left:n,right:n+e.outerWidth()});return i},setElement:function(t){var e=this;(this.el=t).on("mousedown",function(t){M(t.target).is(".fc-event-container *, .fc-more")||M(t.target).closest(".fc-popover").length||e.dayMousedown(t)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){M(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){M(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(t){var i,r,o=this,e=this.view,s=e.opt("selectable");new kt(this.coordMap,{scroll:e.opt("dragScroll"),dragStart:function(){e.unselect()},cellOver:function(t,e,n){n&&(i=e?t:null,s&&((r=o.computeSelection(n,t))?o.renderSelection(r):d()))},cellOut:function(t){r=i=null,o.unrenderSelection(),f()},listenStop:function(t){i&&e.triggerDayClick(i,o.getCellDayEl(i),t),r&&e.reportSelection(r,t),f()}}).mousedown(t)},renderRangeHelper:function(t,e){var n=this.fabricateHelperEvent(t,e);this.renderHelper(n,e)},fabricateHelperEvent:function(t,e){var n=e?F(e.event):{};return n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventRange(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),n},renderHelper:function(t,e){},unrenderHelper:function(){},renderSelection:function(t){this.renderHighlight(this.selectionRangeToSegs(t))},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(t,e){var n,i=[t.start,t.end,e.start,e.end];return i.sort(G),n={start:i[0].clone(),end:i[3].clone()},this.view.calendar.isSelectionRangeAllowed(n)?n:null},selectionRangeToSegs:function(t){return this.rangeToSegs(t)},renderHighlight:function(t){this.renderFill("highlight",t)},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(t,e){},unrenderFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(t,r){var e,o=this,s=this[t+"SegEl"],n="",a=[];if(r.length){for(e=0;e<r.length;e++)n+=this.fillSegHtml(t,r[e]);M(n).each(function(t,e){var n=r[t],i=M(e);s&&(i=s.call(o,n,i)),i&&(i=M(i)).is(o.fillSegTag)&&(n.el=i,a.push(n))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegCss"],r=n?n.call(this,e):[],o=U(i?i.call(this,e):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(t){var e=this.view,n=t.start;return'<th class="fc-day-header '+e.widgetHeaderClass+" fc-"+S[n.day()]+'">'+Y(n.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(t){var e=this.view,n=t.start,i=this.getDayClasses(n);return i.unshift("fc-day",e.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+n.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow().stripTime(),i=["fc-"+S[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):t<n?i.push("fc-past"):i.push("fc-future"),i}});function Mt(t){return B((t.source||{}).rendering,t.rendering)}function $t(t,e){return t.eventStartMS-e.eventStartMS}Tt.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,n,i,r,o=this.eventsToSegs(t),s=[],a=[];for(e=0;e<o.length;e++)n=o[e],i=n.event,void 0,"background"===(r=Mt(i))||"inverse-background"===r?s.push(n):a.push(n);s=this.renderBgSegs(s)||s,a=this.renderFgSegs(a)||a,this.segs=s.concat(a)},unrenderEvents:function(){this.triggerSegMouseout(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(t){},unrenderFgSegs:function(){},renderFgSegEls:function(r,t){var e,o=this.view,n="",s=[];if(r.length){for(e=0;e<r.length;e++)n+=this.fgSegHtml(r[e],t);M(n).each(function(t,e){var n=r[t],i=o.resolveEventEl(n.event,M(e));i&&(i.data("fc-seg",n),n.el=i,s.push(n))})}return s},fgSegHtml:function(t,e){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegCss:function(t){var e=this.view,n=t.event,i=n.source||{};return{"background-color":n.backgroundColor||n.color||i.backgroundColor||i.color||e.opt("eventBackgroundColor")||e.opt("eventColor")}},businessHoursSegClasses:function(t){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var i=this,n=this.view;M.each({mouseenter:function(t,e){i.triggerSegMouseover(t,e)},mouseleave:function(t,e){i.triggerSegMouseout(t,e)},click:function(t,e){return n.trigger("eventClick",this,t.event,e)},mousedown:function(t,e){M(e.target).is(".fc-resizer")&&n.isEventResizable(t.event)?i.segResizeMousedown(t,e,M(e.target).is(".fc-start-resizer")):n.isEventDraggable(t.event)&&i.segDragMousedown(t,e)}},function(t,n){i.el.on(t,".fc-event-container > *",function(t){var e=M(this).data("fc-seg");if(e&&!i.isDraggingSeg&&!i.isResizingSeg)return n.call(this,e,t)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(i,t){var r,o=this,s=this.view,a=s.calendar,e=i.el,l=i.event,c=new Dt(i.el,{parentEl:s.el,opacity:s.opt("dragOpacity"),revertDuration:s.opt("dragRevertDuration"),zIndex:2});new kt(s.coordMap,{distance:5,scroll:s.opt("dragScroll"),subjectEl:e,subjectCenter:!0,listenStart:function(t){c.hide(),c.start(t)},dragStart:function(t){o.triggerSegMouseout(i,t),o.segDragStart(i,t),s.hideEvent(l)},cellOver:function(t,e,n){i.cell&&(n=i.cell),(r=o.computeEventDrop(n,t,l))&&!a.isEventRangeAllowed(r,l)&&(d(),r=null),r&&s.renderDrag(r,i)?c.hide():c.show(),e&&(r=null)},cellOut:function(){s.unrenderDrag(),c.show(),r=null},cellDone:function(){f()},dragStop:function(t){c.stop(!r,function(){s.unrenderDrag(),s.showEvent(l),o.segDragStop(i,t),r&&s.reportEventDrop(l,r,this.largeUnit,e,t)})},listenStop:function(){c.stop()}}).mousedown(t)},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,n){var i,r,o=this.view.calendar,s=t.start,a=e.start;return s.hasTime()===a.hasTime()?(i=this.diffDates(a,s),n.allDay&&O(i)?(r={start:n.start.clone(),end:o.getEventEnd(n),allDay:!1},o.normalizeEventRangeTimes(r)):r={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},r.start.add(i),r.end&&r.end.add(i)):r={start:a.clone(),end:null,allDay:!a.hasTime()},r},applyDragOpacity:function(t){var n=this.view.opt("dragOpacity");null!=n&&t.each(function(t,e){e.style.opacity=n})},externalDragStart:function(t,e){var n,i,r=this.view;r.opt("droppable")&&(n=M((e?e.item:null)||t.target),i=r.opt("dropAccept"),(M.isFunction(i)?i.call(n[0],n):n.is(i))&&(this.isDraggingExternal||this.listenToExternalDrag(n,t,e)))},listenToExternalDrag:function(t,e,n){var i,r=this,o=function(t){var e,n,i,r,o=N.dataAttrPrefix;o&&(o+="-");(e=t.data(o+"event")||null)&&(e="object"==typeof e?M.extend({},e):{},null==(n=e.start)&&(n=e.time),i=e.duration,r=e.stick,delete e.start,delete e.time,delete e.duration,delete e.stick);null==n&&(n=t.data(o+"start"));null==n&&(n=t.data(o+"time"));null==i&&(i=t.data(o+"duration"));null==r&&(r=t.data(o+"stick"));return n=null!=n?$.duration(n):null,i=null!=i?$.duration(i):null,r=Boolean(r),{eventProps:e,startTime:n,duration:i,stick:r}}(t);new kt(this.coordMap,{listenStart:function(){r.isDraggingExternal=!0},cellOver:function(t){(i=r.computeExternalDrop(t,o))?r.renderDrag(i):d()},cellOut:function(){i=null,r.unrenderDrag(),f()},dragStop:function(){r.unrenderDrag(),f(),i&&r.view.reportExternalDrop(o,i,t,e,n)},listenStop:function(){r.isDraggingExternal=!1}}).startDrag(e)},computeExternalDrop:function(t,e){var n={start:t.start.clone(),end:null};return e.startTime&&!n.start.hasTime()&&n.start.time(e.startTime),e.duration&&(n.end=n.start.clone().add(e.duration)),this.view.calendar.isExternalDropRangeAllowed(n,e.eventProps)?n:null},renderDrag:function(t,e){},unrenderDrag:function(){},segResizeMousedown:function(i,t,r){var o,s=this,a=this.view,l=a.calendar,e=i.el,c=i.event,u=l.getEventEnd(c);new kt(this.coordMap,{distance:5,scroll:a.opt("dragScroll"),subjectEl:e,dragStart:function(t){s.triggerSegMouseout(i,t),s.segResizeStart(i,t)},cellOver:function(t,e,n){(o=r?s.computeEventStartResize(n,t,c):s.computeEventEndResize(n,t,c))&&(l.isEventRangeAllowed(o,c)?o.start.isSame(c.start)&&o.end.isSame(u)&&(o=null):(d(),o=null)),o&&(a.hideEvent(c),s.renderEventResize(o,i))},cellOut:function(){o=null},cellDone:function(){s.unrenderEventResize(),a.showEvent(c),f()},dragStop:function(t){s.segResizeStop(i,t),o&&a.reportEventResize(c,o,this.largeUnit,e,t)}}).mousedown(t)},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,n){return this.computeEventResize("start",t,e,n)},computeEventEndResize:function(t,e,n){return this.computeEventResize("end",t,e,n)},computeEventResize:function(t,e,n,i){var r,o,s=this.view.calendar,a=this.diffDates(n[t],e[t]);return(r={start:i.start.clone(),end:s.getEventEnd(i),allDay:i.allDay}).allDay&&O(a)&&(r.allDay=!1,s.normalizeEventRangeTimes(r)),r[t].add(a),r.start.isBefore(r.end)||(o=i.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration,this.cellDuration&&this.cellDuration<o&&(o=this.cellDuration),"start"==t?r.start=r.end.clone().subtract(o):r.end=r.start.clone().add(o)),r},renderEventResize:function(t,e){},unrenderEventResize:function(){},getEventTimeText:function(t,e,n){return null==e&&(e=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?n&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,n){var i=t.event,r=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&r.push("fc-draggable"),n&&r.push("fc-resizable"),r},getEventSkinCss:function(t){var e=this.view,n=t.source||{},i=t.color,r=n.color,o=e.opt("eventColor");return{"background-color":t.backgroundColor||i||n.backgroundColor||r||e.opt("eventBackgroundColor")||o,"border-color":t.borderColor||i||n.borderColor||r||e.opt("eventBorderColor")||o,color:t.textColor||n.textColor||e.opt("eventTextColor")}},eventsToSegs:function(t,e){var n,i=this.eventsToRanges(t),r=[];for(n=0;n<i.length;n++)r.push.apply(r,this.eventRangeToSegs(i[n],e));return r},eventsToRanges:function(t){var n=this,e=function(t){var e,n,i={};for(e=0;e<t.length;e++)n=t[e],(i[n._id]||(i[n._id]=[])).push(n);return i}(t),i=[];return M.each(e,function(t,e){e.length&&i.push.apply(i,function(t){return"inverse-background"===Mt(t)}(e[0])?n.eventsToInverseRanges(e):n.eventsToNormalRanges(e))}),i},eventsToNormalRanges:function(t){var e,n,i,r,o=this.view.calendar,s=[];for(e=0;e<t.length;e++)i=(n=t[e]).start.clone().stripZone(),r=o.getEventEnd(n).stripZone(),s.push({event:n,start:i,end:r,eventStartMS:+i,eventDurationMS:r-i});return s},eventsToInverseRanges:function(t){var e,n,i=this.view,r=i.start.clone().stripZone(),o=i.end.clone().stripZone(),s=this.eventsToNormalRanges(t),a=[],l=t[0],c=r;for(s.sort($t),e=0;e<s.length;e++)(n=s[e]).start>c&&a.push({event:l,start:c,end:n.start}),c=n.end;return c<o&&a.push({event:l,start:c,end:o}),a},eventRangeToSegs:function(t,e){var n,i,r;for(t=this.view.calendar.ensureVisibleEventRange(t),n=e?e(t):this.rangeToSegs(t),i=0;i<n.length;i++)(r=n[i]).event=t.event,r.eventStartMS=t.eventStartMS,r.eventDurationMS=t.eventDurationMS;return n},sortSegs:function(t){t.sort(K(this,"compareSegs"))},compareSegs:function(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||x(t.event,e.event,this.view.eventOrderSpecs)}}),N.dataAttrPrefix="";var Nt=Tt.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){Tt.apply(this,arguments),this.cellDuration=$.duration(1,"day")},renderDates:function(t){var e,n,i,r=this.view,o=this.rowCnt,s=o*this.colCnt,a="";for(e=0;e<o;e++)a+=this.dayRowHtml(e,t);for(this.el.html(a),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),n=0;n<s;n++)i=this.getCell(n),r.trigger("dayRender",null,i.start,this.dayEls.eq(n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},dayRowHtml:function(t,e){var n=["fc-row","fc-week",this.view.widgetContentClass];return e&&n.push("fc-rigid"),'<div class="'+n.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",t)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(t){return this.bgCellHtml(t)},computeColHeadFormat:function(){return 1<this.rowCnt?"ddd":1<this.colCnt?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){var t,e,n,i;if(this.updateCellDates(),t=this.cellDates,this.breakOnWeeks){for(e=t[0].day(),i=1;i<t.length&&t[i].day()!=e;i++);n=Math.ceil(t.length/i)}else n=1,i=t.length;this.rowCnt=n,this.colCnt=i},updateCellDates:function(){for(var t=this.view,e=this.start.clone(),n=[],i=-1,r=[];e.isBefore(this.end);)t.isHiddenDay(e)?r.push(i+.5):(i++,r.push(i),n.push(e.clone())),e.add(1,"days");this.cellDates=n,this.dayToCellOffsets=r},computeCellDate:function(t){var e=this.colCnt,n=t.row*e+(this.isRTL?e-t.col-1:t.col);return this.cellDates[n].clone()},getRowEl:function(t){return this.rowEls.eq(t)},getColEl:function(t){return this.dayEls.eq(t)},getCellDayEl:function(t){return this.dayEls.eq(t.row*this.colCnt+t.col)},computeRowCoords:function(){var t=Tt.prototype.computeRowCoords.call(this);return t[t.length-1].bottom+=this.bottomCoordPadding,t},rangeToSegs:function(t){var e,n,i,r,o,s,a,l,c,u,h=this.isRTL,d=this.rowCnt,f=this.colCnt,p=[];for(t=this.view.computeDayRange(t),e=this.dateToCellOffset(t.start),n=this.dateToCellOffset(t.end.subtract(1,"days")),i=0;i<d;i++)o=(r=i*f)+f-1,l=Math.max(r,e),c=Math.min(o,n),(l=Math.ceil(l))<=(c=Math.floor(c))&&(s=l===e,a=c===n,l-=r,c-=r,u={row:i,isStart:s,isEnd:a},h?(u.leftCol=f-c-1,u.rightCol=f-l-1):(u.leftCol=l,u.rightCol=c),p.push(u));return p},dateToCellOffset:function(t){var e=this.dayToCellOffsets,n=t.diff(this.start,"days");return n<0?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},renderDrag:function(t,e){if(this.renderHighlight(this.eventRangeToSegs(t)),e&&!e.el.closest(this.el).length)return this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEls),!0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(t,e){this.renderHighlight(this.eventRangeToSegs(t)),this.renderRangeHelper(t,e)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(t,o){var s,a=[],e=this.eventsToSegs([t]);e=this.renderFgSegEls(e),s=this.renderSegRows(e),this.rowEls.each(function(t,e){var n,i=M(e),r=M('<div class="fc-helper-skeleton"><table/></div>');n=o&&o.row===t?o.el.position().top:i.find(".fc-content-skeleton tbody").position().top,r.css("top",n).find("table").append(s[t].tbodyEl),i.append(r),a.push(r[0])}),this.helperEls=M(a)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,e,n){var i,r,o,s=[];for(e=this.renderFillSegEls(t,e),i=0;i<e.length;i++)r=e[i],o=this.renderFillRow(t,r,n),this.rowEls.eq(r.row).append(o),s.push(o[0]);return this.elsByFill[t]=M(s),e},renderFillRow:function(t,e,n){var i,r,o=this.colCnt,s=e.leftCol,a=e.rightCol+1;return n=n||t.toLowerCase(),r=(i=M('<div class="fc-'+n+'-skeleton"><table><tr/></table></div>')).find("tr"),0<s&&r.append('<td colspan="'+s+'"/>'),r.append(e.el.attr("colspan",a-s)),a<o&&r.append('<td colspan="'+(o-a)+'"/>'),this.bookendCells(r,t),i}});function At(t,e){var n,i;for(n=0;n<e.length;n++)if((i=e[n]).leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function Pt(t,e){return t.leftCol-e.leftCol}Nt.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),Tt.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return Tt.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var e=M.grep(t,function(t){return t.event.allDay});return Tt.prototype.renderBgSegs.call(this,e)},renderFgSegs:function(t){var n;return t=this.renderFgSegEls(t),n=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,e){M(e).find(".fc-content-skeleton > table").append(n[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;n<e.length;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i,r=this.view,o=t.event,s=r.isEventDraggable(o),a=!e&&o.allDay&&t.isStart&&r.isEventResizableFromStart(o),l=!e&&o.allDay&&t.isEnd&&r.isEventResizableFromEnd(o),c=this.getSegClasses(t,s,a||l),u=U(this.getEventSkinCss(o)),h="";return c.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(n=this.getEventTimeText(o))&&(h='<span class="fc-time">'+Y(n)+"</span>"),i='<span class="fc-title">'+(Y(o.title||"")||"&nbsp;")+"</span>",'<a class="'+c.join(" ")+'"'+(o.url?' href="'+Y(o.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+h:h+" "+i)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(t,e){var n,i,r,o,s,a,l,c=this.colCnt,u=this.buildSegLevels(e),h=Math.max(1,u.length),d=M("<tbody/>"),f=[],p=[],g=[];function m(t){for(;r<t;)(l=(g[n-1]||[])[r])?l.attr("rowspan",parseInt(l.attr("rowspan")||1,10)+1):(l=M("<td/>"),o.append(l)),p[n][r]=l,g[n][r]=l,r++}for(n=0;n<h;n++){if(i=u[n],r=0,o=M("<tr/>"),f.push([]),p.push([]),g.push([]),i)for(s=0;s<i.length;s++){for(m((a=i[s]).leftCol),l=M('<td class="fc-event-container"/>').append(a.el),a.leftCol!=a.rightCol?l.attr("colspan",a.rightCol-a.leftCol+1):g[n][r]=l;r<=a.rightCol;)p[n][r]=l,f[n][r]=a,r++;o.append(l)}m(c),this.bookendCells(o,"eventSkeleton"),d.append(o)}return{row:t,tbodyEl:d,cellMatrix:p,segMatrix:f,segLevels:u,segs:e}},buildSegLevels:function(t){var e,n,i,r=[];for(this.sortSegs(t),e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&At(n,r[i]);i++);(r[n.level=i]||(r[i]=[])).push(n)}for(i=0;i<r.length;i++)r[i].sort(Pt);return r},groupSegRows:function(t){var e,n=[];for(e=0;e<this.rowCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].row].push(t[e]);return n}}),Nt.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;e<i.length;e++)this.unlimitRow(e),!1!==(n=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)))&&this.limitRow(e,n)},computeRowLevelLimit:function(t){var e,n,i,r=this.rowEls.eq(t).height(),o=this.rowStructs[t].tbodyEl.children();function s(t,e){i=Math.max(i,M(e).outerHeight())}for(e=0;e<o.length;e++)if(n=o.eq(e).removeClass("fc-limited"),i=0,n.find("> td > :first-child").each(s),n.position().top+i>r)return e;return!1},limitRow:function(e,n){var i,t,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y=this,b=this.rowStructs[e],w=[],x=0;function _(t){for(;x<t;)i=y.getCell(e,x),(l=y.getCellSegs(i,n)).length&&(h=r[n-1][x],v=y.renderMoreLink(i,l),m=M("<div/>").append(v),h.append(m),w.push(m[0])),x++}if(n&&n<b.segLevels.length){for(t=b.segLevels[n-1],r=b.cellMatrix,o=b.tbodyEl.children().slice(n).addClass("fc-limited").get(),s=0;s<t.length;s++){for(_((a=t[s]).leftCol),u=[],c=0;x<=a.rightCol;)i=this.getCell(e,x),l=this.getCellSegs(i,n),u.push(l),c+=l.length,x++;if(c){for(d=(h=r[n-1][a.leftCol]).attr("rowspan")||1,f=[],p=0;p<u.length;p++)g=M('<td class="fc-more-cell"/>').attr("rowspan",d),l=u[p],i=this.getCell(e,a.leftCol+p),v=this.renderMoreLink(i,[a].concat(l)),m=M("<div/>").append(v),g.append(m),f.push(g[0]),w.push(g[0]);h.addClass("fc-limited").after(M(f)),o.push(h[0])}}_(this.colCnt),b.moreEls=M(w),b.limitedEls=M(o)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(l,c){var u=this,h=this.view;return M('<a class="fc-more"/>').text(this.getMoreLinkText(c.length)).on("click",function(t){var e=h.opt("eventLimitClick"),n=l.start,i=M(this),r=u.getCellDayEl(l),o=u.getCellSegs(l),s=u.resliceDaySegs(o,n),a=u.resliceDaySegs(c,n);"function"==typeof e&&(e=h.trigger("eventLimitClick",null,{date:n,dayEl:r,moreEl:i,segs:s,hiddenSegs:a},t)),"popover"===e?u.showSegPopover(l,i,s):"string"==typeof e&&h.calendar.zoomTo(n,e)})},showSegPopover:function(t,e,n){var i,r,o=this,s=this.view,a=e.parent();i=1==this.rowCnt?s.el:this.rowEls.eq(t.row),r={className:"fc-more-popover",content:this.renderSegPopoverContent(t,n),parentEl:this.el,top:i.offset().top,autoHide:!0,viewportConstrain:s.opt("popoverViewportConstrain"),hide:function(){o.segPopover.removeElement(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?r.right=a.offset().left+a.outerWidth()+1:r.left=a.offset().left-1,this.segPopover=new wt(r),this.segPopover.show()},renderSegPopoverContent:function(t,e){var n,i=this.view,r=i.opt("theme"),o=t.start.format(i.opt("dayPopoverFormat")),s=M('<div class="fc-header '+i.widgetHeaderClass+'"><span class="fc-close '+(r?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+Y(o)+'</span><div class="fc-clear"/></div><div class="fc-body '+i.widgetContentClass+'"><div class="fc-event-container"></div></div>'),a=s.find(".fc-event-container");for(e=this.renderFgSegEls(e,!0),this.popoverSegs=e,n=0;n<e.length;n++)e[n].cell=t,a.append(e[n].el);return s},resliceDaySegs:function(t,e){var n=M.map(t,function(t){return t.event}),i=e.clone().stripTime(),r=i.clone().add(1,"days"),o={start:i,end:r};return t=this.eventsToSegs(n,function(t){var e=k(t,o);return e?[e]:[]}),this.sortSegs(t),t},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e){for(var n,i=this.rowStructs[t.row].segMatrix,r=e||0,o=[];r<i.length;)(n=i[r][t.col])&&o.push(n),r++;return o}});var It=Tt.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,colDates:null,labelFormat:null,labelInterval:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){Tt.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(t),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(t){return this.bgCellHtml(t)},slatRowHtml:function(){for(var t,e,n,i=this.view,r=this.isRTL,o="",s=$.duration(+this.minTime);s<this.maxTime;)t=this.start.clone().time(s),e=X(I(s,this.labelInterval)),n='<td class="fc-axis fc-time '+i.widgetContentClass+'" '+i.axisStyleAttr()+">"+(e?"<span>"+Y(t.format(this.labelFormat))+"</span>":"")+"</td>",o+="<tr "+(e?"":'class="fc-minor"')+">"+(r?"":n)+'<td class="'+i.widgetContentClass+'"/>'+(r?n:"")+"</tr>",s.add(this.slotDuration);return o},processOptions:function(){var t,e=this.view,n=e.opt("slotDuration"),i=e.opt("snapDuration");n=$.duration(n),i=i?$.duration(i):n,this.slotDuration=n,this.snapDuration=i,this.cellDuration=i,this.minTime=$.duration(e.opt("minTime")),this.maxTime=$.duration(e.opt("maxTime")),t=e.opt("slotLabelFormat"),M.isArray(t)&&(t=t[t.length-1]),this.labelFormat=t||e.opt("axisFormat")||e.opt("smallTimeFormat"),t=e.opt("slotLabelInterval"),this.labelInterval=t?$.duration(t):this.computeLabelInterval(n)},computeLabelInterval:function(t){var e,n,i;for(e=Jt.length-1;0<=e;e--)if(X(i=I(n=$.duration(Jt[e]),t))&&1<i)return n;return $.duration(t)},computeColHeadFormat:function(){return 1<this.colCnt?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},rangeUpdated:function(){var t,e=this.view,n=[];for(t=this.start.clone();t.isBefore(this.end);)n.push(t.clone()),t.add(1,"day"),t=e.skipHiddenDays(t);this.isRTL&&n.reverse(),this.colDates=n,this.colCnt=n.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(t){var e=this.colDates[t.col],n=this.computeSnapTime(t.row);return(e=this.view.calendar.rezoneDate(e)).time(n),e},getColEl:function(t){return this.dayEls.eq(t)},computeSnapTime:function(t){return $.duration(this.minTime+this.snapDuration*t)},rangeToSegs:function(t){var e,n,i,r=this.colCnt,o=[];for(t={start:t.start.clone().stripZone(),end:t.end.clone().stripZone()},n=0;n<r;n++)(e=k(t,{start:(i=this.colDates[n]).clone().time(this.minTime),end:i.clone().time(this.maxTime)}))&&(e.col=n,o.push(e));return o},updateSize:function(t){this.computeSlatTops(),t&&this.updateSegVerticals()},computeRowCoords:function(){var t,e,n=this.el.offset().top,i=[];for(t=0;t<this.rowCnt;t++)e={top:n+this.computeTimeTop(this.computeSnapTime(t))},0<t&&(i[t-1].bottom=e.top),i.push(e);return e.bottom=e.top+this.computeTimeTop(this.computeSnapTime(t)),i},computeDateTop:function(t,e){return this.computeTimeTop($.duration(t.clone().stripZone()-e.clone().stripTime()))},computeTimeTop:function(t){var e,n,i,r=(t-this.minTime)/this.slotDuration;return r=Math.max(0,r),n=(r=Math.min(this.slatEls.length,r))-(e=Math.floor(r)),i=this.slatTops[e],n?i+(this.slatTops[e+1]-i)*n:i},computeSlatTops:function(){var n,i=[];this.slatEls.each(function(t,e){n=M(e).position().top,i.push(n)}),i.push(n+this.slatEls.last().outerHeight()),this.slatTops=i},renderDrag:function(t,e){if(e)return this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEl),!0;this.renderHighlight(this.eventRangeToSegs(t))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(t,e){this.renderRangeHelper(t,e)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,e){var n,i,r,o,s=this.eventsToSegs([t]);for(s=this.renderFgSegEls(s),n=this.renderSegTable(s),i=0;i<s.length;i++)r=s[i],e&&e.col===r.col&&(o=e.el,r.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")}));this.helperEl=M('<div class="fc-helper-skeleton"/>').append(n).appendTo(this.el)},unrenderHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderRangeHelper(t):this.renderHighlight(this.selectionRangeToSegs(t))},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderFill:function(t,e,n){var i,r,o,s,a,l,c,u,h,d;if(e.length){for(e=this.renderFillSegEls(t,e),i=this.groupSegCols(e),n=n||t.toLowerCase(),o=(r=M('<div class="fc-'+n+'-skeleton"><table><tr/></table></div>')).find("tr"),s=0;s<i.length;s++)if(a=i[s],l=M("<td/>").appendTo(o),a.length)for(c=M('<div class="fc-'+n+'-container"/>').appendTo(l),u=this.colDates[s],h=0;h<a.length;h++)d=a[h],c.append(d.el.css({top:this.computeDateTop(d.start,u),bottom:-this.computeDateTop(d.end,u)}));this.bookendCells(o,t),this.el.append(r),this.elsByFill[t]=r}return e}});function Ot(t){var e,n,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;e<i.length;e++)Ot(n=i[e]),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function Rt(t,e,n){n=n||[];for(var i=0;i<e.length;i++)r=t,o=e[i],r.bottom>o.top&&r.top<o.bottom&&n.push(e[i]);var r,o;return n}It.mixin({eventSkeletonEl:null,renderFgSegs:function(t){return t=this.renderFgSegEls(t),this.el.append(this.eventSkeletonEl=M('<div class="fc-content-skeleton"/>').append(this.renderSegTable(t))),t},unrenderFgSegs:function(t){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(t){var e,n,i,r,o,s,a=M("<table><tr/></table>"),l=a.find("tr");for(e=this.groupSegCols(t),this.computeSegVerticals(t),r=0;r<e.length;r++){for(o=e[r],this.placeSlotSegs(o),s=M('<div class="fc-event-container"/>'),n=0;n<o.length;n++)(i=o[n]).el.css(this.generateSegPositionCss(i)),i.bottom-i.top<30&&i.el.addClass("fc-short"),s.append(i.el);l.append(M("<td/>").append(s))}return this.bookendCells(l,"eventSkeleton"),a},placeSlotSegs:function(t){var e,n,i;if(this.sortSegs(t),function(t){var e,n,i,r,o;for(e=0;e<t.length;e++)for(n=t[e],i=0;i<n.length;i++)for((r=n[i]).forwardSegs=[],o=e+1;o<t.length;o++)Rt(r,t[o],r.forwardSegs)}(e=function(t){var e,n,i,r=[];for(e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&Rt(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}(t)),n=e[0]){for(i=0;i<n.length;i++)Ot(n[i]);for(i=0;i<n.length;i++)this.computeSlotSegCoords(n[i],0,0)}},computeSlotSegCoords:function(t,e,n){var i,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(this.sortForwardSlotSegs(r),this.computeSlotSegCoords(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;i<r.length;i++)this.computeSlotSegCoords(r[i],0,t.forwardCoord)},updateSegVerticals:function(){var t,e=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(e),t=0;t<e.length;t++)e[t].el.css(this.generateSegVerticalCss(e[t]))},computeSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)(n=t[e]).top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},fgSegHtml:function(t,e){var n,i,r,o=this.view,s=t.event,a=o.isEventDraggable(s),l=!e&&t.isStart&&o.isEventResizableFromStart(s),c=!e&&t.isEnd&&o.isEventResizableFromEnd(s),u=this.getSegClasses(t,a,l||c),h=U(this.getEventSkinCss(s));return u.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayEvent(s)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),r=this.getEventTimeText(t,null,!1)):(n=this.getEventTimeText(s),i=this.getEventTimeText(s,"LT"),r=this.getEventTimeText(s,null,!1)),'<a class="'+u.join(" ")+'"'+(s.url?' href="'+Y(s.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+Y(r)+'" data-full="'+Y(i)+'"><span>'+Y(n)+"</span></div>":"")+(s.title?'<div class="fc-title">'+Y(s.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(c?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},generateSegPositionCss:function(t){var e,n,i=this.view.opt("slotEventOverlap"),r=t.backwardCoord,o=t.forwardCoord,s=this.generateSegVerticalCss(t);return i&&(o=Math.min(1,r+2*(o-r))),n=this.isRTL?(e=1-o,r):(e=r,1-o),s.zIndex=t.level+1,s.left=100*e+"%",s.right=100*n+"%",i&&t.forwardPressure&&(s[this.isRTL?"marginLeft":"marginRight"]=20),s},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},groupSegCols:function(t){var e,n=[];for(e=0;e<this.colCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].col].push(t[e]);return n},sortForwardSlotSegs:function(t){t.sort(K(this,"compareForwardSlotSegs"))},compareForwardSlotSegs:function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareSegs(t,e)}});var Lt=N.View=yt.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,eventOrderSpecs:null,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(t,e,n,i){this.calendar=t,this.type=this.name=e,this.options=n,this.intervalDuration=i||$.duration(1,"day"),this.nextDayThreshold=$.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=w(this.opt("eventOrder")),this.documentMousedownProxy=K(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(t){M.extend(this,t),this.updateTitle()},computeRange:function(t){var e,n,i=E(this.intervalDuration),r=t.clone().startOf(i),o=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),o.stripTime()):(r.hasTime()||(r=this.calendar.rezoneDate(r)),o.hasTime()||(o=this.calendar.rezoneDate(o))),e=r.clone(),e=this.skipHiddenDays(e),n=o.clone(),{intervalUnit:i,intervalStart:r,intervalEnd:o,start:e,end:n=this.skipHiddenDays(n,-1,!0)}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e)).startOf("day"),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):1<this.intervalDuration.as("days")?"ll":"LL"},formatRange:function(t,e,n){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),ft(t.start,i,e,n,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t){var e=this,n=null;return this.displaying&&(n=this.queryScroll()),this.clear().then(function(){return e.displaying=M.when(e.displayView(t)).then(function(){e.forceScroll(e.computeInitialScroll(n)),e.triggerRender()})})},clear:function(){var t=this,e=this.displaying;return e?e.then(function(){return t.displaying=null,t.clearEvents(),t.clearView()}):M.when()},displayView:function(t){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),this.setDate(t),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours()},clearView:function(){this.unselect(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},renderBusinessHours:function(){},unrenderBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){M(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){M(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(t),this.updateWidth(t),t&&this.setScroll(e)},updateWidth:function(t){},updateHeight:function(t){var e=this.calendar;this.setHeight(e.getSuggestedViewHeight(),e.isHeightAuto())},setHeight:function(t,e){},computeScrollerHeight:function(t){var e,n,i=this.scrollerEl;return(e=this.el.add(i)).css({position:"relative",left:-1}),n=this.el.outerHeight()-i.height(),e.css({position:"",left:""}),t-n},computeInitialScroll:function(t){return 0},queryScroll:function(){if(this.scrollerEl)return this.scrollerEl.scrollTop()},setScroll:function(t){if(this.scrollerEl)return this.scrollerEl.scrollTop(t)},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.isEventsRendered=!1)},renderEvents:function(t){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(t,e){var n=this.trigger("eventRender",t,t,e);return!1===n?e=null:n&&!0!==n&&(e=M(n)),e},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var n,i=this.getEventSegs();for(n=0;n<i.length;n++)e&&i[n].event._id!==e._id||i[n].el&&t.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return B(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,n,i,r){var o=this.calendar,s=o.mutateEvent(t,e,n);this.triggerEventDrop(t,s.dateDelta,function(){s.undo(),o.reportEventChange()},i,r),o.reportEventChange()},triggerEventDrop:function(t,e,n,i,r){this.trigger("eventDrop",i[0],t,e,n,r,{})},reportExternalDrop:function(t,e,n,i,r){var o,s,a=t.eventProps;a&&(o=M.extend({},a,e),s=this.calendar.renderEvent(o,t.stick)[0]),this.triggerExternalDrop(s,e,n,i,r)},triggerExternalDrop:function(t,e,n,i,r){this.trigger("drop",n[0],e.start,i,r),t&&this.trigger("eventReceive",null,t)},renderDrag:function(t,e){},unrenderDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return B(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,i,r){var o=this.calendar,s=o.mutateEvent(t,e,n);this.triggerEventResize(t,s.durationDelta,function(){s.undo(),o.reportEventChange()},i,r),o.reportEventChange()},triggerEventResize:function(t,e,n,i,r){this.trigger("eventResize",i[0],t,e,n,r,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(t){},reportSelection:function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},triggerSelect:function(t,e){this.trigger("select",null,t.start,t.end,e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,t))},unrenderSelection:function(){},documentMousedown:function(t){var e;this.isSelected&&this.opt("unselectAuto")&&y(t)&&((e=this.opt("unselectCancel"))&&M(t.target).closest(e).length||this.unselect(t))},triggerDayClick:function(t,e,n){this.trigger("dayClick",e,t.start,n)},initHiddenDays:function(){var t,e=this.opt("hiddenDays")||[],n=[],i=0;for(!1===this.opt("weekends")&&e.push(0,6),t=0;t<7;t++)(n[t]=-1!==M.inArray(t,e))||i++;if(!i)throw"invalid hiddenDays";this.isHiddenDayHash=n},isHiddenDay:function(t){return $.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),i=t.end,r=null;return i&&(r=i.clone().stripTime(),(e=+i.time())&&e>=this.nextDayThreshold&&r.add(1,"days")),(!i||r<=n)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return 1<e.end.diff(e.start,"days")}}),Ht=N.Calendar=yt.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:function(t,e){var i=this;i.initOptions(e||{});var r=this.options;i.render=function(){l?b()&&(_(),w()):function(){r.theme?"ui":"fc",t.addClass("fc"),r.isRTL?t.addClass("fc-rtl"):t.addClass("fc-ltr");r.theme?t.addClass("ui-widget"):t.addClass("fc-unthemed");l=M("<div class='fc-view-container'/>").prependTo(t),s=i.header=new qt(i,r),(a=s.render())&&t.prepend(a);w(r.defaultView),r.handleWindowResize&&(h=Q(k,r.windowResizeDelay),M(window).resize(h))}()},i.destroy=function(){c&&c.removeElement();s.removeElement(),l.remove(),t.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),h&&M(window).unbind("resize",h)},i.refetchEvents=function(){E(),c.clearEvents(),T(),D()},i.reportEvents=function(t){y=t,S()},i.reportEventChange=function(){S()},i.rerenderEvents=S,i.changeView=w,i.select=function(t,e){c.select(i.buildSelectRange.apply(i,arguments))},i.unselect=function(){c&&c.unselect()},i.prev=function(){d=c.computePrevDate(d),w()},i.next=function(){d=c.computeNextDate(d),w()},i.prevYear=function(){d.add(-1,"years"),w()},i.nextYear=function(){d.add(1,"years"),w()},i.today=function(){d=i.getNow(),w()},i.gotoDate=function(t){d=i.moment(t),w()},i.incrementDate=function(t){d.add($.duration(t)),w()},i.zoomTo=function(t,e){var n;e=e||"day",n=i.getViewSpec(e)||i.getUnitViewSpec(e),d=t,w(n?n.type:null)},i.getDate=function(){return d.clone()},i.getCalendar=function(){return i},i.getView=function(){return c},i.option=function(t,e){if(void 0===e)return r[t];"height"!=t&&"contentHeight"!=t&&"aspectRatio"!=t||(r[t]=e,x(!0))},i.trigger=function(t,e){var n=Array.prototype.slice.call(arguments,2);if(e=e||g,this.triggerWith(t,e,n),r[t])return r[t].apply(e,n)};var n=F(Yt(r.lang));r.monthNames&&(n._months=r.monthNames);r.monthNamesShort&&(n._monthsShort=r.monthNamesShort);r.dayNames&&(n._weekdays=r.dayNames);r.dayNamesShort&&(n._weekdaysShort=r.dayNamesShort);if(null!=r.firstDay){var o=F(n._week);o.dow=r.firstDay,n._week=o}n._fullCalendar_weekCalc=function(t){return"function"==typeof t?t:"local"===t?t:"iso"===t||"ISO"===t?"ISO":void 0}(r.weekNumberCalculation),i.defaultAllDayEventDuration=$.duration(r.defaultAllDayEventDuration),i.defaultTimedEventDuration=$.duration(r.defaultTimedEventDuration),i.moment=function(){var t;return"local"===r.timezone?(t=N.moment.apply(null,arguments)).hasTime()&&t.local():t="UTC"===r.timezone?N.moment.utc.apply(null,arguments):N.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=n:t._lang=n,t},i.getIsAmbigTimezone=function(){return"local"!==r.timezone&&"UTC"!==r.timezone},i.rezoneDate=function(t){return i.moment(t.toArray())},i.getNow=function(){var t=r.now;return"function"==typeof t&&(t=t()),i.moment(t)},i.getEventEnd=function(t){return t.end?t.end.clone():i.getDefaultEventEnd(t.allDay,t.start)},i.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(i.defaultAllDayEventDuration):n.add(i.defaultTimedEventDuration),i.getIsAmbigTimezone()&&n.stripZone(),n},i.humanizeDuration=function(t){return(t.locale||t.lang).call(t,r.lang).humanize()},function(m){var y=this;y.isFetchNeeded=function(t,e){return!v||t.clone().stripZone()<v.clone().stripZone()||e.clone().stripZone()>b.clone().stripZone()},y.fetchEvents=function(t,e){v=t,b=e,u=[];var n=++l,i=o.length;c=i;for(var r=0;r<i;r++)h(o[r],n)},y.addEventSource=function(t){var e=i(t);e&&(o.push(e),c++,h(e,l))},y.removeEventSource=function(e){o=M.grep(o,function(t){return!n(t,e)}),u=M.grep(u,function(t){return!n(t.source,e)}),a(u)},y.updateEvent=function(t){t.start=y.moment(t.start),t.end?t.end=y.moment(t.end):t.end=null;C(t,function(t){var n={};return M.each(t,function(t,e){d(t)&&void 0!==e&&function(t){return/undefined|null|boolean|number|string/.test(M.type(t))}(e)&&(n[t]=e)}),n}(t)),a(u)},y.renderEvent=function(t,e){var n,i,r,o=x(t);if(o){for(n=_(o),i=0;i<n.length;i++)(r=n[i]).source||(e&&(s.events.push(r),r.source=s),u.push(r));return a(u),n}return[]},y.removeEvents=function(t){var e,n;null==t?t=function(){return!0}:M.isFunction(t)||(e=t+"",t=function(t){return t._id==e});for(u=M.grep(u,t,!0),n=0;n<o.length;n++)M.isArray(o[n].events)&&(o[n].events=M.grep(o[n].events,t,!0));a(u)},y.clientEvents=w,y.mutateEvent=C,y.normalizeEventRange=p,y.normalizeEventRangeTimes=e,y.ensureVisibleEventRange=g;var v,b,a=y.reportEvents,s={events:[]},o=[s],l=0,c=0,u=[];function h(o,s){!function t(e,n){var i;var r=N.sourceFetchers;var o;for(i=0;i<r.length;i++){if(!0===(o=r[i].call(y,e,v.clone(),b.clone(),m.timezone,n)))return;if("object"==typeof o)return void t(o,n)}var s=e.events;if(s)M.isFunction(s)?(y.pushLoading(),s.call(y,v.clone(),b.clone(),m.timezone,function(t){n(t),y.popLoading()})):M.isArray(s)?n(s):n();else{var a=e.url;if(a){var l,c=e.success,u=e.error,h=e.complete;l=M.isFunction(e.data)?e.data():e.data;var d=M.extend({},l||{}),f=B(e.startParam,m.startParam),p=B(e.endParam,m.endParam),g=B(e.timezoneParam,m.timezoneParam);f&&(d[f]=v.format()),p&&(d[p]=b.format()),m.timezone&&"local"!=m.timezone&&(d[g]=m.timezone),y.pushLoading(),M.ajax(M.extend({},Ut,e,{data:d,success:function(t){t=t||[];var e=W(c,this,arguments);M.isArray(e)&&(t=e),n(t)},error:function(){W(u,this,arguments),n()},complete:function(){W(h,this,arguments),y.popLoading()}}))}else n()}}(o,function(t){var e,n,i,r=M.isArray(o.events);if(s==l){if(t)for(e=0;e<t.length;e++)n=t[e],(i=r?n:x(n,o))&&u.push.apply(u,_(i));--c||a(u)}})}function i(t){var e,n,i=N.sourceNormalizers;if(M.isFunction(t)||M.isArray(t)?e={events:t}:"string"==typeof t?e={url:t}:"object"==typeof t&&(e=M.extend({},t)),e){for(e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[],M.isArray(e.events)&&(e.origArray=e.events,e.events=M.map(e.events,function(t){return x(t,e)})),n=0;n<i.length;n++)i[n].call(y,e);return e}}function n(t,e){return t&&e&&r(t)==r(e)}function r(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function d(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function w(e){return M.isFunction(e)?M.grep(u,e):null!=e?(e+="",M.grep(u,function(t){return t._id==e})):u}function x(t,e){var n,i,r,o={};if(m.eventDataTransform&&(t=m.eventDataTransform(t)),e&&e.eventDataTransform&&(t=e.eventDataTransform(t)),M.extend(o,t),e&&(o.source=e),o._id=t._id||(void 0===t.id?"_fc"+Vt++:t.id+""),t.className?"string"==typeof t.className?o.className=t.className.split(/\s+/):o.className=t.className:o.className=[],n=t.start||t.date,i=t.end,R(n)&&(n=$.duration(n)),R(i)&&(i=$.duration(i)),t.dow||$.isDuration(n)||$.isDuration(i))o.start=n?$.duration(n):null,o.end=i?$.duration(i):null,o._recurring=!0;else{if(n&&!(n=y.moment(n)).isValid())return!1;i&&((i=y.moment(i)).isValid()||(i=null)),void 0===(r=t.allDay)&&(r=B(e?e.allDayDefault:void 0,m.allDayDefault)),f(n,i,r,o)}return o}function f(t,e,n,i){i.start=t,i.end=e,i.allDay=n,p(i),Gt(i)}function p(t){e(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(m.forceEventDuration?t.end=y.getDefaultEventEnd(t.allDay,t.start):t.end=null)}function e(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=y.rezoneDate(t.start)),t.end&&!t.end.hasTime()&&(t.end=y.rezoneDate(t.end)))}function g(t){var e;return t.end||(null==(e=t.allDay)&&(e=!t.start.hasTime()),(t=M.extend({},t)).end=y.getDefaultEventEnd(e,t.start)),t}function _(t,e,n){var i,r,o,s,a,l,c,u,h,d=[];if(e=e||v,n=n||b,t)if(t._recurring){if(r=t.dow)for(i={},o=0;o<r.length;o++)i[r[o]]=!0;for(s=e.clone().stripTime();s.isBefore(n);)i&&!i[s.day()]||(a=t.start,l=t.end,c=s.clone(),u=null,a&&(c=c.time(a)),l&&(u=s.clone().time(l)),f(c,u,!a&&!l,h=M.extend({},t)),d.push(h)),s.add(1,"days")}else d.push(t);return d}function C(t,n,i){var e,r,o,s,a={};function l(t,e){return i?P(t,e,i):n.allDay?function(t,e){return $.duration({days:t.clone().stripTime().diff(e.clone().stripTime(),"days")})}(t,e):A(t,e)}return(n=n||{}).start||(n.start=t.start.clone()),void 0===n.end&&(n.end=t.end?t.end.clone():null),null==n.allDay&&(n.allDay=t.allDay),p(n),p(e={start:t._start.clone(),end:t._end?t._end.clone():y.getDefaultEventEnd(t._allDay,t._start),allDay:n.allDay}),r=null!==t._end&&null===n.end,o=l(n.start,e.start),s=n.end?l(n.end,e.end).subtract(o):null,M.each(n,function(t,e){d(t)&&void 0!==e&&(a[t]=e)}),{dateDelta:o,durationDelta:s,undo:function(t,r,o,s,a,l){var c=y.getIsAmbigTimezone(),u=[];s&&!s.valueOf()&&(s=null);a&&!a.valueOf()&&(a=null);return M.each(t,function(t,e){var n,i;n={start:e.start.clone(),end:e.end?e.end.clone():null,allDay:e.allDay},M.each(l,function(t){n[t]=e[t]}),p(i={start:e._start,end:e._end,allDay:o}),r?i.end=null:a&&!i.end&&(i.end=y.getDefaultEventEnd(i.allDay,i.start)),s&&(i.start.add(s),i.end&&i.end.add(s)),a&&i.end.add(a),c&&!i.allDay&&(s||a)&&(i.start.stripZone(),i.end&&i.end.stripZone()),M.extend(e,l,i),Gt(e),u.push(function(){M.extend(e,n),Gt(e)})}),function(){for(var t=0;t<u.length;t++)u[t]()}}(w(t._id),r,n.allDay,o,s,a)}}function k(t){var e,n=m.businessHours,i=y.getView();return n&&(e=M.extend({},{className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},"object"==typeof n?n:{})),e?(t&&(e.start=null,e.end=null),_(x(e),i.start,i.end)):[]}function S(t,e){var n=e.source||{},i=B(e.constraint,n.constraint,m.eventConstraint),r=B(e.overlap,n.overlap,m.eventOverlap);return E(t=g(t),i,r,e)}function D(t){return E(t,m.selectConstraint,m.selectOverlap)}function E(t,e,n,i){var r,o,s,a,l,c,u,h,d,f,p,g,m,v;if((t=M.extend({},t)).start=t.start.clone().stripZone(),t.end=t.end.clone().stripZone(),null!=e){for(r=function(t){return"businessHours"!==t?"object"!=typeof t?w(t):_(x(t)):k()}(e),o=!1,a=0;a<r.length;a++)if(u=r[a],h=t,void 0,d=u.start.clone().stripZone(),f=y.getEventEnd(u).stripZone(),h.start>=d&&h.end<=f){o=!0;break}if(!o)return!1}for(s=y.getPeerEvents(i,t),a=0;a<s.length;a++)if(l=s[a],g=t,void 0,m=(p=l).start.clone().stripZone(),v=y.getEventEnd(p).stripZone(),g.start<v&&g.end>m){if(!1===n)return!1;if("function"==typeof n&&!n(l,i))return!1;if(i){if(!1===(c=B(l.overlap,(l.source||{}).overlap)))return!1;if("function"==typeof c&&!c(i,l))return!1}}return!0}M.each((m.events?[m.events]:[]).concat(m.eventSources||[]),function(t,e){var n=i(e);n&&o.push(n)}),y.getBusinessHoursEvents=k,y.isEventRangeAllowed=S,y.isSelectionRangeAllowed=D,y.isExternalDropRangeAllowed=function(t,e){var n;return e&&(n=_(x(M.extend({},e,t)))[0]),n?S(t,n):D(t=g(t))},y.getEventCache=function(){return u}}.call(i,r);var s,a,l,c,u,h,d,f=i.isFetchNeeded,p=i.fetchEvents,g=t[0],m={},v=0,y=[];d=null!=r.defaultDate?i.moment(r.defaultDate):i.getNow();function b(){return t.is(":visible")}function w(t){v++,c&&t&&c.type!==t&&(s.deactivateButton(c.type),E(),c.removeElement(),c=i.view=null),!c&&t&&((c=i.view=m[t]||(m[t]=i.instantiateView(t))).setElement(M("<div class='fc-view fc-"+t+"-view' />").appendTo(l)),s.activateButton(t)),c&&(d=c.massageCurrentDate(d),c.displaying&&d.isWithin(c.intervalStart,c.intervalEnd)||b()&&(E(),c.display(d),T(),s.updateTitle(c.title),i.getNow().isWithin(c.intervalStart,c.intervalEnd)?s.disableButton("today"):s.enableButton("today"),!r.lazyFetching||f(c.start,c.end)?D():S())),T(),v--}function x(t){if(b())return t&&C(),v++,c.updateSize(!0),v--,!0}function _(){b()&&C()}function C(){u="number"==typeof r.contentHeight?r.contentHeight:"number"==typeof r.height?r.height-(a?a.outerHeight(!0):0):Math.round(l.width()/Math.max(r.aspectRatio,.5))}function k(t){!v&&t.target===window&&c.start&&x(!0)&&c.trigger("windowResize",g)}function S(){b()&&(E(),c.displayEvents(y),T())}function D(){p(c.start,c.end)}function E(){l.css({width:"100%",height:l.height(),overflow:"hidden"})}function T(){l.css({width:"",height:"",overflow:""})}i.getSuggestedViewHeight=function(){return void 0===u&&_(),u},i.isHeightAuto=function(){return"auto"===r.contentHeight||"auto"===r.height},i.initialize()},initialize:function(){},initOptions:function(t){var e,n,i;e=(t=function(t){var i,r={views:t.views||{}};return M.each(t,function(n,t){"views"!=n&&(M.isPlainObject(t)&&!/(time|duration|interval)$/i.test(n)&&-1==M.inArray(n,o)?(i=null,M.each(t,function(t,e){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(r.views[t]||(r.views[t]={}),r.views[t][n]=e):(i=i||{})[t]=e}),i&&(r[n]=i)):r[n]=t)}),r}(t)).lang,(n=Ft[e])||(e=Ht.defaults.lang,n=Ft[e]||{}),i=B(t.isRTL,n.isRTL,Ht.defaults.isRTL)?Ht.rtlDefaults:{},this.dirDefaults=i,this.langDefaults=n,this.overrides=t,this.options=h([Ht.defaults,i,n,t]),Bt(this.options),this.viewSpecCache={}},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(t){var e,n,i;if(-1!=M.inArray(t,D))for(e=this.header.getViewsWithButtons(),M.each(N.views,function(t){e.push(t)}),n=0;n<e.length;n++)if((i=this.getViewSpec(e[n]))&&i.singleUnit==t)return i},buildViewSpec:function(t){for(var e,n,i,r,o=this.overrides.views||{},s=[],a=[],l=[],c=t;c;)e=u[c],n=o[c],c=null,"function"==typeof e&&(e={class:e}),e&&(s.unshift(e),a.unshift(e.defaults||{}),i=i||e.duration,c=c||e.type),n&&(l.unshift(n),i=i||n.duration,c=c||n.type);return(e=H(s)).type=t,!!e.class&&(i&&(i=$.duration(i)).valueOf()&&(r=E(e.duration=i),1===i.as(r)&&(e.singleUnit=r,l.unshift(o[r]||{}))),e.defaults=h(a),e.overrides=h(l),this.buildViewSpecOptions(e),this.buildViewSpecButtonText(e,t),e)},buildViewSpecOptions:function(t){t.options=h([Ht.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides]),Bt(t.options)},buildViewSpecButtonText:function(n,i){function t(t){var e=t.buttonText||{};return e[i]||(n.singleUnit?e[n.singleUnit]:null)}n.buttonTextOverride=t(this.overrides)||n.overrides.buttonText,n.buttonTextDefault=t(this.langDefaults)||t(this.dirDefaults)||n.defaults.buttonText||t(Ht.defaults)||(n.duration?this.humanizeDuration(n.duration):null)||i},instantiateView:function(t){var e=this.getViewSpec(t);return new e.class(this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectRange:function(t,e){return t=this.moment(t),e=e?this.moment(e):t.hasTime()?t.clone().add(this.defaultTimedEventDuration):t.clone().add(this.defaultAllDayEventDuration),{start:t,end:e}}});Ht.mixin(bt),Ht.defaults={titleRangeSeparator:" — ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},Ht.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},Ht.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Ft=N.langs={};N.datepickerLang=function(t,e,n){var i=Ft[t]||(Ft[t]={});i.isRTL=n.isRTL,i.weekNumberTitle=n.weekHeader,M.each(zt,function(t,e){i[t]=e(n)}),M.datepicker&&(M.datepicker.regional[e]=M.datepicker.regional[t]=n,M.datepicker.regional.en=M.datepicker.regional[""],M.datepicker.setDefaults(n))},N.lang=function(t,e){var n,i;n=Ft[t]||(Ft[t]={}),e&&(n=Ft[t]=h([n,e])),i=Yt(t),M.each(jt,function(t,e){null==n[t]&&(n[t]=e(i,n))}),Ht.defaults.lang=t};var zt={buttonText:function(t){return{prev:q(t.prevText),next:q(t.nextText),today:q(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},jt={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},Wt={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};function Bt(n){M.each(Wt,function(t,e){null==n[t]&&(n[t]=e(n))})}function Yt(t){var e=$.localeData||$.langData;return e.call($,t)||e.call($,"en")}function qt(f,p){this.render=function(){var t=p.header;if(g=p.theme?"ui":"fc",t)return e=M("<div class='fc-toolbar'/>").append(n("left")).append(n("right")).append(n("center")).append('<div class="fc-clear"/>')},this.removeElement=function(){e.remove(),e=M()},this.updateTitle=function(t){e.find("h2").text(t)},this.activateButton=function(t){e.find(".fc-"+t+"-button").addClass(g+"-state-active")},this.deactivateButton=function(t){e.find(".fc-"+t+"-button").removeClass(g+"-state-active")},this.disableButton=function(t){e.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(g+"-state-disabled")},this.enableButton=function(t){e.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(g+"-state-disabled")},this.getViewsWithButtons=function(){return m};var g,e=M(),m=[];function n(t){var n=M('<div class="fc-'+t+'"/>'),e=p.header[t];return e&&M.each(e.split(" "),function(t){var e,h=M(),d=!0;M.each(this.split(","),function(t,e){var n,i,r,o,s,a,l,c,u;"title"==e?(h=h.add(M("<h2>&nbsp;</h2>")),d=!1):((n=(f.options.customButtons||{})[e])?(r=function(t){n.click&&n.click.call(u[0],t)},o="",s=n.text):(i=f.getViewSpec(e))?(r=function(){f.changeView(e)},m.push(e),o=i.buttonTextOverride,s=i.buttonTextDefault):f[e]&&(r=function(){f[e]()},o=(f.overrides.buttonText||{})[e],s=p.buttonText[e]),r&&(a=n?n.themeIcon:p.themeButtonIcons[e],l=n?n.icon:p.buttonIcons[e],c=o?Y(o):a&&p.theme?"<span class='ui-icon ui-icon-"+a+"'></span>":l&&!p.theme?"<span class='fc-icon fc-icon-"+l+"'></span>":Y(s),u=M('<button type="button" class="'+["fc-"+e+"-button",g+"-button",g+"-state-default"].join(" ")+'">'+c+"</button>").click(function(t){u.hasClass(g+"-state-disabled")||(r(t),(u.hasClass(g+"-state-active")||u.hasClass(g+"-state-disabled"))&&u.removeClass(g+"-state-hover"))}).mousedown(function(){u.not("."+g+"-state-active").not("."+g+"-state-disabled").addClass(g+"-state-down")}).mouseup(function(){u.removeClass(g+"-state-down")}).hover(function(){u.not("."+g+"-state-active").not("."+g+"-state-disabled").addClass(g+"-state-hover")},function(){u.removeClass(g+"-state-hover").removeClass(g+"-state-down")}),h=h.add(u)))}),d&&h.first().addClass(g+"-corner-left").end().last().addClass(g+"-corner-right").end(),1<h.length?(e=M("<div/>"),d&&e.addClass("fc-button-group"),e.append(h),n.append(e)):n.append(h)}),n}}N.lang("en",Ht.englishDefaults),N.sourceNormalizers=[];var Ut={dataType:"json",cache:!(N.sourceFetchers=[])},Vt=1;function Gt(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}Ht.prototype.getPeerEvents=function(t,e){var n,i,r=this.getEventCache(),o=[];for(n=0;n<r.length;n++)i=r[n],t&&t._id===i._id||o.push(i);return o};var Xt=Lt.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new Nt(this),this.coordMap=this.dayGrid.coordMap},setRange:function(t){Lt.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=Lt.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},renderDates:function(){this.dayNumbersVisible=1<this.dayGrid.rowCnt,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){if(this.weekNumbersVisible)return'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+Y(this.opt("weekNumberTitle"))+"</span></th>"},numberIntroHtml:function(t){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(t,0).start.format("w")+"</span></td>"},dayIntroHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>"},introHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>"},numberCellHtml:function(t){var e,n=t.start;return this.dayNumbersVisible?((e=this.dayGrid.getDayClasses(n)).unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=t(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i=this.opt("eventLimit");l(this.scrollerEl),s(this.headRowEl),this.dayGrid.removeSegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!e&&a(this.scrollerEl,n)&&(r(this.headRowEl,g(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n))},setGridHeight:function(t,e){e?i(this.dayGrid.rowEls):n(this.dayGrid.rowEls,t,!0)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Kt=Xt.extend({computeRange:function(t){var e,n=Xt.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-e,"weeks")),n},setGridHeight:function(t,e){(e=e||"variable"===this.opt("weekMode"))&&(t*=this.rowCnt/6),n(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});u.basic={class:Xt},u.basicDay={type:"basic",duration:{days:1}},u.basicWeek={type:"basic",duration:{weeks:1}},u.month={class:Kt,duration:{months:1},defaults:{fixedWeekCount:!0}};var Qt=Lt.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new It(this),this.opt("allDaySlot")?(this.dayGrid=new Nt(this),this.coordMap=new _t([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(t){Lt.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=M('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var t;return this.opt("weekNumbers")?(t=this.timeGrid.getCell(0).start.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+Y(t)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||Y(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(t){this.timeGrid.updateSize(t),Lt.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=t(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),l(this.scrollerEl),s(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),(n=this.opt("eventLimit"))&&"number"!=typeof n&&(n=Zt),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),a(this.scrollerEl,i)?(r(this.noScrollRowEls,g(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i)):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var t=$.duration(this.opt("scrollTime")),e=this.timeGrid.computeTimeTop(t);return(e=Math.ceil(e))&&e++,e},renderEvents:function(t){var e,n=[],i=[];for(e=0;e<t.length;e++)t[e].allDay?n.push(t[e]):i.push(t[e]);this.timeGrid.renderEvents(i),this.dayGrid&&this.dayGrid.renderEvents(n),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),Zt=5,Jt=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return u.agenda={class:Qt,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},u.agendaDay={type:"agenda",duration:{days:1}},u.agendaWeek={type:"agenda",duration:{weeks:1}},N}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(h){var d=h.fullCalendar,f=d.applyAll;d.sourceNormalizers.push(function(t){var e,n=t.googleCalendarId,i=t.url;!n&&i&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(i)?n=i:((e=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(i))||(e=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(i)))&&(n=decodeURIComponent(e[1])),n&&(t.googleCalendarId=n)),n&&(null==t.editable&&(t.editable=!1),t.url=n)}),d.sourceFetchers.push(function(t,e,n,i){if(t.googleCalendarId)return function(i,t,e,n,r){var o,s,a="https://www.googleapis.com/calendar/v3/calendars/"+encodeURIComponent(i.googleCalendarId)+"/events?callback=?",l=i.googleCalendarApiKey||r.options.googleCalendarApiKey,c=i.success;function u(t,e){var n=e||[{message:t}];(i.googleCalendarError||h.noop).apply(r,n),(r.options.googleCalendarError||h.noop).apply(r,n),d.warn.apply(null,[t].concat(e||[]))}if(!l)return u("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{};t.hasZone()||(t=t.clone().utc().add(-1,"day"));e.hasZone()||(e=e.clone().utc().add(1,"day"));n&&"local"!=n&&(s=n.replace(" ","_"));return o=h.extend({},i.data||{},{key:l,timeMin:t.format(),timeMax:e.format(),timeZone:s,singleEvents:!0,maxResults:9999}),h.extend({},i,{googleCalendarId:null,url:a,data:o,startParam:!1,endParam:!1,timezoneParam:!1,success:function(t){var e,n,i=[];if(t.error)u("Google Calendar API: "+t.error.message,t.error.errors);else if(t.items&&(h.each(t.items,function(t,e){var n=e.htmlLink;s&&(n=function(t,i){return t.replace(/(\?.*?)?(#|$)/,function(t,e,n){return(e?e+"&":"?")+i+n})}(n,"ctz="+s)),i.push({id:e.id,title:e.summary,start:e.start.dateTime||e.start.date,end:e.end.dateTime||e.end.date,url:n,location:e.location,description:e.description})}),e=[i].concat(Array.prototype.slice.call(arguments,1)),n=f(c,this,e),h.isArray(n)))return n;return i}})}(t,e,n,i,this)})}),function(a){function i(t,e){var n,i,r,o=t.nodeName.toLowerCase();return"area"===o?(i=(n=t.parentNode).name,!(!t.href||!i||"map"!==n.nodeName.toLowerCase())&&(!!(r=a("img[usemap=#"+i+"]")[0])&&s(r))):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o&&t.href||e)&&s(t)}function s(t){return a.expr.filters.visible(t)&&!a(t).parents().andSelf().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var t,e,n=0,r=/^ui-id-\d+$/;a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(e,n){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){a(t).focus(),n&&n.call(t)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?a(document):t},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var e,n,i=a(this[0]);i.length&&i[0]!==document;){if(("absolute"===(e=i.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(e){return function(t){return!!a.data(t,e)}}):function(t,e,n){return!!a.data(t,n[3])},focusable:function(t){return i(t,!isNaN(a.attr(t,"tabindex")))},tabbable:function(t){var e=a.attr(t,"tabindex"),n=isNaN(e);return(n||0<=e)&&i(t,!n)}}),a(function(){var t=document.body,e=t.appendChild(e=document.createElement("div"));e.offsetHeight,a.extend(e.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=100===e.offsetHeight,a.support.selectstart="onselectstart"in e,t.removeChild(e).style.display="none"}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(t,n){function i(t,e,n,i){return a.each(r,function(){e-=parseFloat(a.css(t,"padding"+this))||0,n&&(e-=parseFloat(a.css(t,"border"+this+"Width"))||0),i&&(e-=parseFloat(a.css(t,"margin"+this))||0)}),e}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+n]=function(t){return void 0===t?s["inner"+n].call(this):this.each(function(){a(this).css(o,i(this,t)+"px")})},a.fn["outer"+n]=function(t,e){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){a(this).css(o,i(this,t,!0,e)+"px")})}}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=(e=a.fn.removeData,function(t){return arguments.length?e.call(this,a.camelCase(t)):e.call(this)})),t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[],a.ui.ie=!!t.length,a.ui.ie6=6===parseFloat(t[1],10),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(t,e,n){var i,r=a.ui[t].prototype;for(i in n)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([e,n[i]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)t.options[r[i][0]]&&r[i][1].apply(t.element,n)}},contains:a.contains,hasScroll:function(t,e){if("hidden"===a(t).css("overflow"))return!1;var n=e&&"left"===e?"scrollLeft":"scrollTop",i=!1;return 0<t[n]||(t[n]=1,i=0<t[n],t[n]=0,i)},isOverAxis:function(t,e,n){return e<t&&t<e+n},isOver:function(t,e,n,i,r,o){return a.ui.isOverAxis(t,n,r)&&a.ui.isOverAxis(e,i,o)}}))}(jQuery),function(u,a){var n=0,l=Array.prototype.slice,i=u.cleanData;u.cleanData=function(t){for(var e,n=0;null!=(e=t[n]);n++)try{u(e).triggerHandler("remove")}catch(t){}i(t)},u.widget=function(t,n,s){var e,i,r,o,a=t.split(".")[0];t=t.split(".")[1],e=a+"-"+t,s||(s=n,n=u.Widget),u.expr[":"][e.toLowerCase()]=function(t){return!!u.data(t,e)},u[a]=u[a]||{},i=u[a][t],r=u[a][t]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},u.extend(r,i,{version:s.version,_proto:u.extend({},s),_childConstructors:[]}),(o=new n).options=u.widget.extend({},o.options),u.each(s,function(e,i){function r(){return n.prototype[e].apply(this,arguments)}function o(t){return n.prototype[e].apply(this,t)}u.isFunction(i)&&(s[e]=function(){var t,e=this._super,n=this._superApply;return this._super=r,this._superApply=o,t=i.apply(this,arguments),this._super=e,this._superApply=n,t})}),r.prototype=u.widget.extend(o,{widgetEventPrefix:i?o.widgetEventPrefix:t},s,{constructor:r,namespace:a,widgetName:t,widgetBaseClass:e,widgetFullName:e}),i?(u.each(i._childConstructors,function(t,e){var n=e.prototype;u.widget(n.namespace+"."+n.widgetName,r,e._proto)}),delete i._childConstructors):n._childConstructors.push(r),u.widget.bridge(t,r)},u.widget.extend=function(t){for(var e,n,i=l.call(arguments,1),r=0,o=i.length;r<o;r++)for(e in i[r])n=i[r][e],i[r].hasOwnProperty(e)&&n!==a&&(u.isPlainObject(n)?t[e]=u.isPlainObject(t[e])?u.widget.extend({},t[e],n):u.widget.extend({},n):t[e]=n);return t},u.widget.bridge=function(o,e){var s=e.prototype.widgetFullName||o;u.fn[o]=function(n){var t="string"==typeof n,i=l.call(arguments,1),r=this;return n=!t&&i.length?u.widget.extend.apply(null,[n].concat(i)):n,t?this.each(function(){var t,e=u.data(this,s);return e?u.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&t!==a?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0:u.error("no such method '"+n+"' for "+o+" widget instance"):u.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var t=u.data(this,s);t?t.option(n||{})._init():u.data(this,s,new e(n,this))}),r}},u.Widget=function(){},u.Widget._childConstructors=[],u.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=u(e||this.defaultElement||this)[0],this.element=u(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=u.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=u(),this.hoverable=u(),this.focusable=u(),e!==this&&(u.data(e,this.widgetName,this),u.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=u(e.style?e.ownerDocument:e.document||e),this.window=u(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:u.noop,_getCreateEventData:u.noop,_create:u.noop,_init:u.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(u.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:u.noop,widget:function(){return this.element},option:function(t,e){var n,i,r,o=t;if(0===arguments.length)return u.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(n=t.split(".")).shift(),n.length){for(i=o[t]=u.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(t=n.pop(),e===a)return i[t]===a?null:i[t];i[t]=e}else{if(e===a)return this.options[t]===a?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(s,a,t){var l,c=this;"boolean"!=typeof s&&(t=a,a=s,s=!1),t?(a=l=u(a),this.bindings=this.bindings.add(a)):(t=a,a=this.element,l=this.widget()),u.each(t,function(t,e){function n(){if(s||!0!==c.options.disabled&&!u(this).hasClass("ui-state-disabled"))return("string"==typeof e?c[e]:e).apply(c,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||u.guid++);var i=t.match(/^(\w+)\s*(.*)$/),r=i[1]+c.eventNamespace,o=i[2];o?l.delegate(o,r,n):a.bind(r,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){u(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){u(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){u(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){u(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,n){var i,r,o=this.options[t];if(n=n||{},(e=u.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],r=e.originalEvent)for(i in r)i in e||(e[i]=r[i]);return this.element.trigger(e,n),!(u.isFunction(o)&&!1===o.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},u.each({show:"fadeIn",hide:"fadeOut"},function(o,s){u.Widget.prototype["_"+o]=function(e,t,n){"string"==typeof t&&(t={effect:t});var i,r=t?!0===t||"number"==typeof t?s:t.effect||s:o;"number"==typeof(t=t||{})&&(t={duration:t}),i=!u.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&u.effects&&(u.effects.effect[r]||!1!==u.uiBackCompat&&u.effects[r])?e[o](t):r!==o&&e[r]?e[r](t.duration,t.easing,n):e.queue(function(t){u(this)[o](),n&&n.call(e[0]),t()})}}),!1!==u.uiBackCompat&&(u.Widget.prototype._getCreateOptions=function(){return u.metadata&&u.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(r){var o=!1;r(document).mouseup(function(t){o=!1}),r.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(t){if(!0===r.data(t.target,e.widgetName+".preventClickEvent"))return r.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&r(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!o){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,n=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&r(t.target).closest(this.options.cancel).length;return n&&!i&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?t.preventDefault():(!0===r.data(t.target,this.widgetName+".preventClickEvent")&&r.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},r(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),o=!0)),!0}},_mouseMove:function(t){return!r.ui.ie||9<=document.documentMode||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return r(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&r.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(t){return this.mouseDelayMet},_mouseStart:function(t){},_mouseDrag:function(t){},_mouseStop:function(t){},_mouseCapture:function(t){return!0}})}(jQuery),function(b){b.widget("ui.draggable",b.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||b(t.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(t),!!this.handle&&(b(!0===e.iframeFix?"iframe":e.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(b(this).offset()).appendTo("body")}),!0))},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),e.containment&&this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!e.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,e){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!e){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),b.ui.ddmanager&&b.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(e=b.ui.ddmanager.drop(this,t)),this.dropped&&(e=this.dropped,this.dropped=!1);for(var n=this.element[0],i=!1;n=n&&n.parentNode;)n==document&&(i=!0);if(!i&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!e||"valid"==this.options.revert&&e||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)){var r=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==r._trigger("stop",t)&&r._clear()})}else!1!==this._trigger("stop",t)&&this._clear();return!1},_mouseUp:function(t){return b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,t),b.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var e=!this.options.handle||!b(this.options.handle,this.element).length;return b(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(e=!0)}),e},_createHelper:function(t){var e=this.options,n=b.isFunction(e.helper)?b(e.helper.apply(this.element[0],[t])):"clone"==e.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"==e.appendTo?this.element[0].parentNode:e.appendTo),n[0]==this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),b.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!=this.cssPosition)return{top:0,left:0};var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=["document"==t.containment?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:b(window).scrollLeft())+b("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:b(window).scrollTop())+(b("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var e=b(t.containment),n=e[0];if(!n)return;e.offset();var i="hidden"!=b(n).css("overflow");this.containment=[(parseInt(b(n).css("borderLeftWidth"),10)||0)+(parseInt(b(n).css("paddingLeft"),10)||0),(parseInt(b(n).css("borderTopWidth"),10)||0)+(parseInt(b(n).css("paddingTop"),10)||0),(i?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(b(n).css("borderLeftWidth"),10)||0)-(parseInt(b(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(i?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(b(n).css("borderTopWidth"),10)||0)-(parseInt(b(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=e}},_convertPositionTo:function(t,e){e=e||this.position;var n="absolute"==t?1:-1,i=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(t){var e=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(n[0].tagName),r=t.pageX,o=t.pageY;if(this.originalPosition){var s;if(this.containment){if(this.relative_container){var a=this.relative_container.offset();s=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]}else s=this.containment;t.pageX-this.offset.click.left<s[0]&&(r=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(o=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(r=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(o=s[3]+this.offset.click.top)}if(e.grid){var l=e.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;o=s&&(l-this.offset.click.top<s[1]||l-this.offset.click.top>s[3])?l-this.offset.click.top<s[1]?l+e.grid[1]:l-e.grid[1]:l;var c=e.grid[0]?this.originalPageX+Math.round((r-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;r=s&&(c-this.offset.click.left<s[0]||c-this.offset.click.left>s[2])?c-this.offset.click.left<s[0]?c+e.grid[0]:c-e.grid[0]:c}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:n.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,e,n){return n=n||this._uiHash(),b.ui.plugin.call(this,t,[e,n]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,t,e,n)},plugins:{},_uiHash:function(t){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),b.ui.plugin.add("draggable","connectToSortable",{start:function(e,t){var n=b(this).data("draggable"),i=n.options,r=b.extend({},t,{item:n.element});n.sortables=[],b(i.connectToSortable).each(function(){var t=b.data(this,"sortable");t&&!t.options.disabled&&(n.sortables.push({instance:t,shouldRevert:t.options.revert}),t.refreshPositions(),t._trigger("activate",e,r))})},stop:function(t,e){var n=b(this).data("draggable"),i=b.extend({},e,{item:n.element});b.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(i,r){var o=b(this).data("draggable"),s=this;b.each(o.sortables,function(t){var e=!1,n=this;this.instance.positionAbs=o.positionAbs,this.instance.helperProportions=o.helperProportions,this.instance.offset.click=o.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,b.each(o.sortables,function(){return this.instance.positionAbs=o.positionAbs,this.instance.helperProportions=o.helperProportions,this.instance.offset.click=o.offset.click,this!=n&&this.instance._intersectsWith(this.instance.containerCache)&&b.ui.contains(n.instance.element[0],this.instance.element[0])&&(e=!1),e})),e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(s).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return r.helper[0]},i.target=this.instance.currentItem[0],this.instance._mouseCapture(i,!0),this.instance._mouseStart(i,!0,!0),this.instance.offset.click.top=o.offset.click.top,this.instance.offset.click.left=o.offset.click.left,this.instance.offset.parent.left-=o.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=o.offset.parent.top-this.instance.offset.parent.top,o._trigger("toSortable",i),o.dropped=this.instance.element,o.currentItem=o.element,this.instance.fromOutside=o),this.instance.currentItem&&this.instance._mouseDrag(i)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",i,this.instance._uiHash(this.instance)),this.instance._mouseStop(i,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),o._trigger("fromSortable",i),o.dropped=!1)})}}),b.ui.plugin.add("draggable","cursor",{start:function(t,e){var n=b("body"),i=b(this).data("draggable").options;n.css("cursor")&&(i._cursor=n.css("cursor")),n.css("cursor",i.cursor)},stop:function(t,e){var n=b(this).data("draggable").options;n._cursor&&b("body").css("cursor",n._cursor)}}),b.ui.plugin.add("draggable","opacity",{start:function(t,e){var n=b(e.helper),i=b(this).data("draggable").options;n.css("opacity")&&(i._opacity=n.css("opacity")),n.css("opacity",i.opacity)},stop:function(t,e){var n=b(this).data("draggable").options;n._opacity&&b(e.helper).css("opacity",n._opacity)}}),b.ui.plugin.add("draggable","scroll",{start:function(t,e){var n=b(this).data("draggable");n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName&&(n.overflowOffset=n.scrollParent.offset())},drag:function(t,e){var n=b(this).data("draggable"),i=n.options,r=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(i.axis&&"x"==i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"==i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"==i.axis||(t.pageY-b(document).scrollTop()<i.scrollSensitivity?r=b(document).scrollTop(b(document).scrollTop()-i.scrollSpeed):b(window).height()-(t.pageY-b(document).scrollTop())<i.scrollSensitivity&&(r=b(document).scrollTop(b(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"==i.axis||(t.pageX-b(document).scrollLeft()<i.scrollSensitivity?r=b(document).scrollLeft(b(document).scrollLeft()-i.scrollSpeed):b(window).width()-(t.pageX-b(document).scrollLeft())<i.scrollSensitivity&&(r=b(document).scrollLeft(b(document).scrollLeft()+i.scrollSpeed)))),!1!==r&&b.ui.ddmanager&&!i.dropBehaviour&&b.ui.ddmanager.prepareOffsets(n,t)}}),b.ui.plugin.add("draggable","snap",{start:function(t,e){var n=b(this).data("draggable"),i=n.options;n.snapElements=[],b(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var t=b(this),e=t.offset();this!=n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e){for(var n=b(this).data("draggable"),i=n.options,r=i.snapTolerance,o=e.offset.left,s=o+n.helperProportions.width,a=e.offset.top,l=a+n.helperProportions.height,c=n.snapElements.length-1;0<=c;c--){var u=n.snapElements[c].left,h=u+n.snapElements[c].width,d=n.snapElements[c].top,f=d+n.snapElements[c].height;if(u-r<o&&o<h+r&&d-r<a&&a<f+r||u-r<o&&o<h+r&&d-r<l&&l<f+r||u-r<s&&s<h+r&&d-r<a&&a<f+r||u-r<s&&s<h+r&&d-r<l&&l<f+r){if("inner"!=i.snapMode){var p=Math.abs(d-l)<=r,g=Math.abs(f-a)<=r,m=Math.abs(u-s)<=r,v=Math.abs(h-o)<=r;p&&(e.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top-n.margins.top),g&&(e.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),m&&(e.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left-n.margins.left),v&&(e.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left)}var y=p||g||m||v;if("outer"!=i.snapMode){p=Math.abs(d-a)<=r,g=Math.abs(f-l)<=r,m=Math.abs(u-o)<=r,v=Math.abs(h-s)<=r;p&&(e.position.top=n._convertPositionTo("relative",{top:d,left:0}).top-n.margins.top),g&&(e.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),m&&(e.position.left=n._convertPositionTo("relative",{top:0,left:u}).left-n.margins.left),v&&(e.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left)}!n.snapElements[c].snapping&&(p||g||m||v||y)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,b.extend(n._uiHash(),{snapItem:n.snapElements[c].item})),n.snapElements[c].snapping=p||g||m||v||y}else n.snapElements[c].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,b.extend(n._uiHash(),{snapItem:n.snapElements[c].item})),n.snapElements[c].snapping=!1}}}),b.ui.plugin.add("draggable","stack",{start:function(t,e){var n=b(this).data("draggable").options,i=b.makeArray(b(n.stack)).sort(function(t,e){return(parseInt(b(t).css("zIndex"),10)||0)-(parseInt(b(e).css("zIndex"),10)||0)});if(i.length){var r=parseInt(i[0].style.zIndex)||0;b(i).each(function(t){this.style.zIndex=r+t}),this[0].style.zIndex=r+i.length}}}),b.ui.plugin.add("draggable","zIndex",{start:function(t,e){var n=b(e.helper),i=b(this).data("draggable").options;n.css("zIndex")&&(i._zIndex=n.css("zIndex")),n.css("zIndex",i.zIndex)},stop:function(t,e){var n=b(this).data("draggable").options;n._zIndex&&b(e.helper).css("zIndex",n._zIndex)}})}(jQuery),function(f){f.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,e=t.accept;this.isover=0,this.isout=1,this.accept=f.isFunction(e)?e:function(t){return t.is(e)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},f.ui.ddmanager.droppables[t.scope]=f.ui.ddmanager.droppables[t.scope]||[],f.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=f.ui.ddmanager.droppables[this.options.scope],e=0;e<t.length;e++)t[e]==this&&t.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,e){"accept"==t&&(this.accept=f.isFunction(e)?e:function(t){return t.is(e)}),f.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var e=f.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=f.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=f.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!=this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=f.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!=this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(e)))},_drop:function(t,e){var n=e||f.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return!1;var i=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=f.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&f.ui.intersect(n,f.extend(t,{offset:t.element.offset()}),t.options.tolerance))return!(i=!0)}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),f.ui.intersect=function(t,e,n){if(!e.offset)return!1;var i=(t.positionAbs||t.position.absolute).left,r=i+t.helperProportions.width,o=(t.positionAbs||t.position.absolute).top,s=o+t.helperProportions.height,a=e.offset.left,l=a+e.proportions.width,c=e.offset.top,u=c+e.proportions.height;switch(n){case"fit":return a<=i&&r<=l&&c<=o&&s<=u;case"intersect":return a<i+t.helperProportions.width/2&&r-t.helperProportions.width/2<l&&c<o+t.helperProportions.height/2&&s-t.helperProportions.height/2<u;case"pointer":var h=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,d=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top;return f.ui.isOver(d,h,c,a,e.proportions.height,e.proportions.width);case"touch":return(c<=o&&o<=u||c<=s&&s<=u||o<c&&u<s)&&(a<=i&&i<=l||a<=r&&r<=l||i<a&&l<r);default:return!1}},f.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var n=f.ui.ddmanager.droppables[t.options.scope]||[],i=e?e.type:null,r=(t.currentItem||t.element).find(":data(droppable)").andSelf();t:for(var o=0;o<n.length;o++)if(!(n[o].options.disabled||t&&!n[o].accept.call(n[o].element[0],t.currentItem||t.element))){for(var s=0;s<r.length;s++)if(r[s]==n[o].element[0]){n[o].proportions.height=0;continue t}n[o].visible="none"!=n[o].element.css("display"),n[o].visible&&("mousedown"==i&&n[o]._activate.call(n[o],e),n[o].offset=n[o].element.offset(),n[o].proportions={width:n[o].element[0].offsetWidth,height:n[o].element[0].offsetHeight})}},drop:function(t,e){var n=!1;return f.each(f.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&f.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,e)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,e)))}),n},dragStart:function(t,e){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||f.ui.ddmanager.prepareOffsets(t,e)})},drag:function(o,s){o.options.refreshPositions&&f.ui.ddmanager.prepareOffsets(o,s),f.each(f.ui.ddmanager.droppables[o.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t=f.ui.intersect(o,this,this.options.tolerance),e=t||1!=this.isover?t&&0==this.isover?"isover":null:"isout";if(e){var n;if(this.options.greedy){var i=this.options.scope,r=this.element.parents(":data(droppable)").filter(function(){return f.data(this,"droppable").options.scope===i});r.length&&((n=f.data(r[0],"droppable")).greedyChild="isover"==e?1:0)}n&&"isover"==e&&(n.isover=0,n.isout=1,n._out.call(n,s)),this[e]=1,this["isout"==e?"isover":"isout"]=0,this["isover"==e?"_over":"_out"].call(this,s),n&&"isout"==e&&(n.isout=0,n.isover=1,n._over.call(n,s))}}})},dragStop:function(t,e){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||f.ui.ddmanager.prepareOffsets(t,e)}}}(jQuery),function(p){p.widget("ui.resizable",p.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var e=this,t=this.options;if(this.element.addClass("ui-resizable"),p.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(p('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(p(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var i=0;i<n.length;i++){var r=p.trim(n[i]),o=p('<div class="ui-resizable-handle '+("ui-resizable-"+r)+'"></div>');o.css({zIndex:t.zIndex}),"se"==r&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(o)}}this._renderAxis=function(t){for(var e in t=t||this.element,this.handles){if(this.handles[e].constructor==String&&(this.handles[e]=p(this.handles[e],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var n,i=p(this.handles[e],this.element);n=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth();var r=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join("");t.css(r,n),this._proportionallyResize()}p(this.handles[e]).length}},this._renderAxis(this.element),this._handles=p(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!e.resizing){if(this.className)var t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=t&&t[1]?t[1]:"se"}}),t.autoHide&&(this._handles.hide(),p(this.element).addClass("ui-resizable-autohide").mouseenter(function(){t.disabled||(p(this).removeClass("ui-resizable-autohide"),e._handles.show())}).mouseleave(function(){t.disabled||e.resizing||(p(this).addClass("ui-resizable-autohide"),e._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();function t(t){p(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()}if(this.elementIsWrapper){t(this.element);var e=this.element;this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var e=!1;for(var n in this.handles)p(this.handles[n])[0]==t.target&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(t){var e=this.options,n=this.element.position(),i=this.element;this.resizing=!0,this.documentScroll={top:p(document).scrollTop(),left:p(document).scrollLeft()},(i.is(".ui-draggable")||/absolute/.test(i.css("position")))&&i.css({position:"absolute",top:n.top,left:n.left}),this._renderProxy();var r=g(this.helper.css("left")),o=g(this.helper.css("top"));e.containment&&(r+=p(e.containment).scrollLeft()||0,o+=p(e.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:o},this.size=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:r,top:o},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1;var s=p(".ui-resizable-"+this.axis).css("cursor");return p("body").css("cursor","auto"==s?this.axis+"-resize":s),i.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e=this.helper,n=(this.options,this.originalMousePosition),i=this.axis,r=t.pageX-n.left||0,o=t.pageY-n.top||0,s=this._change[i];if(!s)return!1;var a=s.apply(this,[t,r,o]);return this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(a=this._updateRatio(a,t)),a=this._respectSize(a,t),this._propagate("resize",t),e.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(a),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var e=this.options,n=this;if(this._helper){var i=this._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),o=r&&p.ui.hasScroll(i[0],"left")?0:n.sizeDiff.height,s=r?0:n.sizeDiff.width,a={width:n.helper.width()-s,height:n.helper.height()-o},l=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;e.animate||this.element.css(p.extend(a,{top:c,left:l})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!e.animate&&this._proportionallyResize()}return p("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:f(s.minWidth)?s.minWidth:0,maxWidth:f(s.maxWidth)?s.maxWidth:1/0,minHeight:f(s.minHeight)?s.minHeight:0,maxHeight:f(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.options;this.offset=this.helper.offset(),f(t.left)&&(this.position.left=t.left),f(t.top)&&(this.position.top=t.top),f(t.height)&&(this.size.height=t.height),f(t.width)&&(this.size.width=t.width)},_updateRatio:function(t,e){this.options;var n=this.position,i=this.size,r=this.axis;return f(t.height)?t.width=t.height*this.aspectRatio:f(t.width)&&(t.height=t.width/this.aspectRatio),"sw"==r&&(t.left=n.left+(i.width-t.width),t.top=null),"nw"==r&&(t.top=n.top+(i.height-t.height),t.left=n.left+(i.width-t.width)),t},_respectSize:function(t,e){this.helper;var n=this._vBoundaries,i=(this._aspectRatio||e.shiftKey,this.axis),r=f(t.width)&&n.maxWidth&&n.maxWidth<t.width,o=f(t.height)&&n.maxHeight&&n.maxHeight<t.height,s=f(t.width)&&n.minWidth&&n.minWidth>t.width,a=f(t.height)&&n.minHeight&&n.minHeight>t.height;s&&(t.width=n.minWidth),a&&(t.height=n.minHeight),r&&(t.width=n.maxWidth),o&&(t.height=n.maxHeight);var l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(i),h=/nw|ne|n/.test(i);s&&u&&(t.left=l-n.minWidth),r&&u&&(t.left=l-n.maxWidth),a&&h&&(t.top=c-n.minHeight),o&&h&&(t.top=c-n.maxHeight);var d=!t.width&&!t.height;return d&&!t.left&&t.top?t.top=null:d&&!t.top&&t.left&&(t.left=null),t},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var t=this.helper||this.element,e=0;e<this._proportionallyResizeElements.length;e++){var n=this._proportionallyResizeElements[e];if(!this.borderDif){var i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],r=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];this.borderDif=p.map(i,function(t,e){return(parseInt(t,10)||0)+(parseInt(r[e],10)||0)})}n.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,e=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||p('<div style="overflow:hidden;"></div>');var n=p.ui.ie6?1:0,i=p.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-n+"px",top:this.elementOffset.top-n+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(t,e,n){return{width:this.originalSize.width+e}},w:function(t,e,n){this.options;var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,n){this.options;var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(t,e,n){return p.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},sw:function(t,e,n){return p.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,n]))},ne:function(t,e,n){return p.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},nw:function(t,e,n){return p.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,n]))}},_propagate:function(t,e){p.ui.plugin.call(this,t,[e,this.ui()]),"resize"!=t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),p.ui.plugin.add("resizable","alsoResize",{start:function(t,e){function n(t){p(t).each(function(){var t=p(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})}var i=p(this).data("resizable").options;"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):p.each(i.alsoResize,function(t){n(t)})},resize:function(t,o){function n(t,n){p(t).each(function(){var t=p(this),i=p(this).data("resizable-alsoresize"),r={},e=n&&n.length?n:t.parents(o.originalElement[0]).length?["width","height"]:["width","height","top","left"];p.each(e,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&0<=n&&(r[e]=n||null)}),t.css(r)})}var e=p(this).data("resizable"),i=e.options,r=e.originalSize,s=e.originalPosition,a={height:e.size.height-r.height||0,width:e.size.width-r.width||0,top:e.position.top-s.top||0,left:e.position.left-s.left||0};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?n(i.alsoResize):p.each(i.alsoResize,function(t,e){n(t,e)})},stop:function(t,e){p(this).removeData("resizable-alsoresize")}}),p.ui.plugin.add("resizable","animate",{stop:function(e,t){var n=p(this).data("resizable"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&p.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(p.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var t={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&p(r[0]).css({width:t.width,height:t.height}),n._updateCache(t),n._propagate("resize",e)}})}}),p.ui.plugin.add("resizable","containment",{start:function(t,e){var n=p(this).data("resizable"),i=n.options,r=n.element,o=i.containment,s=o instanceof p?o.get(0):/parent/.test(o)?r.parent().get(0):o;if(s)if(n.containerElement=p(s),/document/.test(o)||o==document)n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:p(document),left:0,top:0,width:p(document).width(),height:p(document).height()||document.body.parentNode.scrollHeight};else{var a=p(s),l=[];p(["Top","Right","Left","Bottom"]).each(function(t,e){l[t]=g(a.css("padding"+e))}),n.containerOffset=a.offset(),n.containerPosition=a.position(),n.containerSize={height:a.innerHeight()-l[3],width:a.innerWidth()-l[1]};var c=n.containerOffset,u=n.containerSize.height,h=n.containerSize.width,d=p.ui.hasScroll(s,"left")?s.scrollWidth:h,f=p.ui.hasScroll(s)?s.scrollHeight:u;n.parentData={element:s,left:c.left,top:c.top,width:d,height:f}}},resize:function(t,e){var n=p(this).data("resizable"),i=n.options,r=(n.containerSize,n.containerOffset),o=(n.size,n.position),s=n._aspectRatio||t.shiftKey,a={top:0,left:0},l=n.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(a=r),o.left<(n._helper?r.left:0)&&(n.size.width=n.size.width+(n._helper?n.position.left-r.left:n.position.left-a.left),s&&(n.size.height=n.size.width/n.aspectRatio),n.position.left=i.helper?r.left:0),o.top<(n._helper?r.top:0)&&(n.size.height=n.size.height+(n._helper?n.position.top-r.top:n.position.top),s&&(n.size.width=n.size.height*n.aspectRatio),n.position.top=n._helper?r.top:0),n.offset.left=n.parentData.left+n.position.left,n.offset.top=n.parentData.top+n.position.top;var c=Math.abs((n._helper,n.offset.left-a.left+n.sizeDiff.width)),u=Math.abs((n._helper?n.offset.top-a.top:n.offset.top-r.top)+n.sizeDiff.height),h=n.containerElement.get(0)==n.element.parent().get(0),d=/relative|absolute/.test(n.containerElement.css("position"));h&&d&&(c-=n.parentData.left),c+n.size.width>=n.parentData.width&&(n.size.width=n.parentData.width-c,s&&(n.size.height=n.size.width/n.aspectRatio)),u+n.size.height>=n.parentData.height&&(n.size.height=n.parentData.height-u,s&&(n.size.width=n.size.height*n.aspectRatio))},stop:function(t,e){var n=p(this).data("resizable"),i=n.options,r=(n.position,n.containerOffset),o=n.containerPosition,s=n.containerElement,a=p(n.helper),l=a.offset(),c=a.outerWidth()-n.sizeDiff.width,u=a.outerHeight()-n.sizeDiff.height;n._helper&&!i.animate&&/relative/.test(s.css("position"))&&p(this).css({left:l.left-o.left-r.left,width:c,height:u}),n._helper&&!i.animate&&/static/.test(s.css("position"))&&p(this).css({left:l.left-o.left-r.left,width:c,height:u})}}),p.ui.plugin.add("resizable","ghost",{start:function(t,e){var n=p(this).data("resizable"),i=n.options,r=n.size;n.ghost=n.originalElement.clone(),n.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),n.ghost.appendTo(n.helper)},resize:function(t,e){var n=p(this).data("resizable");n.options;n.ghost&&n.ghost.css({position:"relative",height:n.size.height,width:n.size.width})},stop:function(t,e){var n=p(this).data("resizable");n.options;n.ghost&&n.helper&&n.helper.get(0).removeChild(n.ghost.get(0))}}),p.ui.plugin.add("resizable","grid",{resize:function(t,e){var n=p(this).data("resizable"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis;i._aspectRatio||t.shiftKey;i.grid="number"==typeof i.grid?[i.grid,i.grid]:i.grid;var l=Math.round((r.width-o.width)/(i.grid[0]||1))*(i.grid[0]||1),c=Math.round((r.height-o.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(a)?(n.size.width=o.width+l,n.size.height=o.height+c):/^(ne)$/.test(a)?(n.size.width=o.width+l,n.size.height=o.height+c,n.position.top=s.top-c):(/^(sw)$/.test(a)?(n.size.width=o.width+l,n.size.height=o.height+c):(n.size.width=o.width+l,n.size.height=o.height+c,n.position.top=s.top-c),n.position.left=s.left-l)}});var g=function(t){return parseInt(t,10)||0},f=function(t){return!isNaN(parseInt(t,10))}}(jQuery),function(c){c.widget("ui.selectable",c.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t,e=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=c(e.options.filter,e.element[0])).addClass("ui-selectee"),t.each(function(){var t=c(this),e=t.offset();c.data(this,"selectable-item",{element:this,$element:t,left:e.left,top:e.top,right:e.left+t.outerWidth(),bottom:e.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=c("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(n){var i=this;if(this.opos=[n.pageX,n.pageY],!this.options.disabled){var t=this.options;this.selectees=c(t.filter,this.element[0]),this._trigger("start",n),c(t.appendTo).append(this.helper),this.helper.css({left:n.clientX,top:n.clientY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=c.data(this,"selectable-item");t.startselected=!0,n.metaKey||n.ctrlKey||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element}))}),c(n.target).parents().andSelf().each(function(){var t=c.data(this,"selectable-item");if(t){var e=!n.metaKey&&!n.ctrlKey||!t.$element.hasClass("ui-selected");return t.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?i._trigger("selecting",n,{selecting:t.element}):i._trigger("unselecting",n,{unselecting:t.element}),!1}})}},_mouseDrag:function(n){var i=this;if(this.dragged=!0,!this.options.disabled){var r=this.options,o=this.opos[0],s=this.opos[1],a=n.pageX,l=n.pageY;if(a<o){var t=a;a=o,o=t}if(l<s){t=l;l=s,s=t}return this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var t=c.data(this,"selectable-item");if(t&&t.element!=i.element[0]){var e=!1;"touch"==r.tolerance?e=!(t.left>a||t.right<o||t.top>l||t.bottom<s):"fit"==r.tolerance&&(e=t.left>o&&t.right<a&&t.top>s&&t.bottom<l),e?(t.selected&&(t.$element.removeClass("ui-selected"),t.selected=!1),t.unselecting&&(t.$element.removeClass("ui-unselecting"),t.unselecting=!1),t.selecting||(t.$element.addClass("ui-selecting"),t.selecting=!0,i._trigger("selecting",n,{selecting:t.element}))):(t.selecting&&((n.metaKey||n.ctrlKey)&&t.startselected?(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.$element.addClass("ui-selected"),t.selected=!0):(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.startselected&&(t.$element.addClass("ui-unselecting"),t.unselecting=!0),i._trigger("unselecting",n,{unselecting:t.element}))),!t.selected||n.metaKey||n.ctrlKey||t.startselected||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element})))}}),!1}},_mouseStop:function(e){var n=this;this.dragged=!1;this.options;return c(".ui-unselecting",this.element[0]).each(function(){var t=c.data(this,"selectable-item");t.$element.removeClass("ui-unselecting"),t.unselecting=!1,t.startselected=!1,n._trigger("unselected",e,{unselected:t.element})}),c(".ui-selecting",this.element[0]).each(function(){var t=c.data(this,"selectable-item");t.$element.removeClass("ui-selecting").addClass("ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,n._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(d){d.widget("ui.sortable",d.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,e){"disabled"===t?(this.options[t]=e,this.widget().toggleClass("ui-sortable-disabled",!!e)):d.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,e){var n=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var i=null;d(t.target).parents().each(function(){if(d.data(this,n.widgetName+"-item")==n)return i=d(this),!1});if(d.data(t.target,n.widgetName+"-item")==n&&(i=d(t.target)),!i)return!1;if(this.options.handle&&!e){var r=!1;if(d(this.options.handle,i).find("*").andSelf().each(function(){this==t.target&&(r=!0)}),!r)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,e,n){var i=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(d("body").css("cursor")&&(this._storedCursor=d("body").css("cursor")),d("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(var r=this.containers.length-1;0<=r;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return d.ui.ddmanager&&(d.ui.ddmanager.current=this),d.ui.ddmanager&&!i.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var e=this.options,n=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+e.scrollSpeed:t.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+e.scrollSpeed:t.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(t.pageY-d(document).scrollTop()<e.scrollSensitivity?n=d(document).scrollTop(d(document).scrollTop()-e.scrollSpeed):d(window).height()-(t.pageY-d(document).scrollTop())<e.scrollSensitivity&&(n=d(document).scrollTop(d(document).scrollTop()+e.scrollSpeed)),t.pageX-d(document).scrollLeft()<e.scrollSensitivity?n=d(document).scrollLeft(d(document).scrollLeft()-e.scrollSpeed):d(window).width()-(t.pageX-d(document).scrollLeft())<e.scrollSensitivity&&(n=d(document).scrollLeft(d(document).scrollLeft()+e.scrollSpeed))),!1!==n&&d.ui.ddmanager&&!e.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var i=this.items.length-1;0<=i;i--){var r=this.items[i],o=r.item[0],s=this._intersectsWithPointer(r);if(s&&(r.instance===this.currentContainer&&!(o==this.currentItem[0]||this.placeholder[1==s?"next":"prev"]()[0]==o||d.contains(this.placeholder[0],o)||"semi-dynamic"==this.options.type&&d.contains(this.element[0],o)))){if(this.direction=1==s?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),d.ui.ddmanager&&d.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,t),this.options.revert){var n=this,i=this.placeholder.offset();this.reverting=!0,d(this.helper).animate({left:i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),d.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},d(t).each(function(){var t=(d(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);t&&n.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e.each(function(){n.push(d(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h=a<i+c&&i+c<l&&o<e+u&&e+u<s;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?h:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"==o||"down"==r?2:1:r&&("down"==r?2:1))},_intersectsWithSides:function(t){var e=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"==r&&n||"left"==r&&!n:i&&("down"==i&&e||"up"==i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor==String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e=[],n=[],i=this._connectWith();if(i&&t)for(var r=i.length-1;0<=r;r--)for(var o=d(i[r]),s=o.length-1;0<=s;s--){var a=d.data(o[s],this.widgetName);a&&a!=this&&!a.options.disabled&&n.push([d.isFunction(a.options.items)?a.options.items.call(a.element):d(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}n.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(r=n.length-1;0<=r;r--)n[r][0].each(function(){e.push(this)});return d(e)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,function(t){for(var e=0;e<n.length;e++)if(n[e]==t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e=this.items,n=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):d(this.options.items,this.element),this]],i=this._connectWith();if(i&&this.ready)for(var r=i.length-1;0<=r;r--)for(var o=d(i[r]),s=o.length-1;0<=s;s--){var a=d.data(o[s],this.widgetName);a&&a!=this&&!a.options.disabled&&(n.push([d.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):d(a.options.items,a.element),a]),this.containers.push(a))}for(r=n.length-1;0<=r;r--)for(var l=n[r][1],c=n[r][0],u=(s=0,c.length);s<u;s++){var h=d(c[s]);h.data(this.widgetName+"-item",l),e.push({item:h,instance:l,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var e=this.items.length-1;0<=e;e--){var n=this.items[e];if(n.instance==this.currentContainer||!this.currentContainer||n.item[0]==this.currentItem[0]){var i=this.options.toleranceElement?d(this.options.toleranceElement,n.item):n.item;t||(n.width=i.outerWidth(),n.height=i.outerHeight());var r=i.offset();n.left=r.left,n.top=r.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--){r=this.containers[e].element.offset();this.containers[e].containerCache.left=r.left,this.containers[e].containerCache.top=r.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}return this},_createPlaceholder:function(n){var i=(n=n||this).options;if(!i.placeholder||i.placeholder.constructor==String){var r=i.placeholder;i.placeholder={element:function(){var t=d(document.createElement(n.currentItem[0].nodeName)).addClass(r||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(t.style.visibility="hidden"),t},update:function(t,e){r&&!i.forcePlaceholderSize||(e.height()||e.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}}n.placeholder=d(i.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),i.placeholder.update(n,n.placeholder)},_contactContainers:function(t){for(var e=null,n=null,i=this.containers.length-1;0<=i;i--)if(!d.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(e&&d.contains(this.containers[i].element[0],e.element[0]))continue;e=this.containers[i],n=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(e)if(1===this.containers.length)this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1;else{for(var r=1e4,o=null,s=this.containers[n].floating?"left":"top",a=this.containers[n].floating?"width":"height",l=this.positionAbs[s]+this.offset.click[s],c=this.items.length-1;0<=c;c--)if(d.contains(this.containers[n].element[0],this.items[c].item[0])&&this.items[c].item[0]!=this.currentItem[0]){var u=this.items[c].item.offset()[s],h=!1;Math.abs(u-l)>Math.abs(u+this.items[c][a]-l)&&(h=!0,u+=this.items[c][a]),Math.abs(u-l)<r&&(r=Math.abs(u-l),o=this.items[c],this.direction=h?"up":"down")}if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[n],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[n].element,!0),this._trigger("change",t,this._uiHash()),this.containers[n]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(t){var e=this.options,n=d.isFunction(e.helper)?d(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"==e.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||d("parent"!=e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),""!=n[0].style.width&&!e.forceHelperSize||n.width(this.currentItem.width()),""!=n[0].style.height&&!e.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),d.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&d.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!=this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(d("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var e=d(t.containment)[0],n=d(t.containment).offset(),i="hidden"!=d(e).css("overflow");this.containment=[n.left+(parseInt(d(e).css("borderLeftWidth"),10)||0)+(parseInt(d(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(d(e).css("borderTopWidth"),10)||0)+(parseInt(d(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(d(e).css("borderLeftWidth"),10)||0)-(parseInt(d(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(d(e).css("borderTopWidth"),10)||0)-(parseInt(d(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,e){e=e||this.position;var n="absolute"==t?1:-1,i=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(t){var e=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(n[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var r=t.pageX,o=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),e.grid)){var s=this.originalPageY+Math.round((o-this.originalPageY)/e.grid[1])*e.grid[1];o=this.containment&&(s-this.offset.click.top<this.containment[1]||s-this.offset.click.top>this.containment[3])?s-this.offset.click.top<this.containment[1]?s+e.grid[1]:s-e.grid[1]:s;var a=this.originalPageX+Math.round((r-this.originalPageX)/e.grid[0])*e.grid[0];r=this.containment&&(a-this.offset.click.left<this.containment[0]||a-this.offset.click.left>this.containment[2])?a-this.offset.click.left<this.containment[0]?a+e.grid[0]:a-e.grid[0]:a}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:n.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:n.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r==this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)"auto"!=this._storedCSS[i]&&"static"!=this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(i=this.containers.length-1;0<=i;i--)e||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this._storedCursor&&d("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",t,this._uiHash());for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return!(this.fromOutside=!1)},_trigger:function(){!1===d.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||d([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}})}(jQuery),jQuery.effects||function(a){var n,s,l,u,h,c,t,d,e,f,p,g,m,i,v,r=!1!==a.uiBackCompat,o="ui-effects-";function y(t,e,n,i){return a.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),a.isFunction(e)&&(i=e,n=null,e={}),"number"!=typeof e&&!a.fx.speeds[e]||(i=n,n=e,e={}),a.isFunction(n)&&(i=n,n=null),e&&a.extend(t,e),n=n||e.duration,t.duration=a.fx.off?0:"number"==typeof n?n:n in a.fx.speeds?a.fx.speeds[n]:a.fx.speeds._default,t.complete=i||e.complete,t}function b(t){return!(t&&"number"!=typeof t&&!a.fx.speeds[t])||"string"==typeof t&&!a.effects.effect[t]&&(!r||!a.effects[t])}function w(){var t,e,n=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,i={};if(n&&n.length&&n[0]&&n[n[0]])for(e=n.length;e--;)"string"==typeof n[t=n[e]]&&(i[a.camelCase(t)]=n[t]);else for(t in n)"string"==typeof n[t]&&(i[t]=n[t]);return i}function x(t,e,n){var i=g[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:t<0?0:i.max<t?i.max:t)}function _(s){var a=f(),l=a._rgba=[];return s=s.toLowerCase(),v(e,function(t,e){var n,i=e.re.exec(s),r=i&&e.parse(i),o=e.space||"rgba";if(r)return n=a[o](r),a[p[o].cache]=n[p[o].cache],l=a._rgba=n._rgba,!1}),l.length?("0,0,0,0"===l.join()&&u.extend(l,c.transparent),a):c[s]}function C(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}a.effects={effect:{}},u=jQuery,t="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),d=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],f=u.Color=function(t,e,n,i){return new u.Color.fn.parse(t,e,n,i)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},g={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=f.support={},i=u("<p>")[0],v=u.each,i.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=-1<i.style.backgroundColor.indexOf("rgba"),v(p,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),f.fn=u.extend(f.prototype,{parse:function(r,t,e,n){if(r===h)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=u(r).css(t),t=h);var o=this,i=u.type(r),s=this._rgba=[];return t!==h&&(r=[r,t,e,n],i="array"),"string"===i?this.parse(_(r)||c._default):"array"===i?(v(p.rgba.props,function(t,e){s[e.idx]=x(r[e.idx],e)}),this):"object"===i?(v(p,r instanceof f?function(t,e){r[e.cache]&&(o[e.cache]=r[e.cache].slice())}:function(t,n){var i=n.cache;v(n.props,function(t,e){if(!o[i]&&n.to){if("alpha"===t||null==r[t])return;o[i]=n.to(o._rgba)}o[i][e.idx]=x(r[t],e,!0)}),o[i]&&a.inArray(null,o[i].slice(0,3))<0&&(o[i][3]=1,n.from&&(o._rgba=n.from(o[i])))}),this):void 0},is:function(t){var r=f(t),o=!0,s=this;return v(p,function(t,e){var n,i=r[e.cache];return i&&(n=s[e.cache]||e.to&&e.to(s._rgba)||[],v(e.props,function(t,e){if(null!=i[e.idx])return o=i[e.idx]===n[e.idx]})),o}),o},_space:function(){var n=[],i=this;return v(p,function(t,e){i[e.cache]&&n.push(t)}),n.pop()},transition:function(t,s){var a=f(t),e=a._space(),n=p[e],i=0===this.alpha()?f("transparent"):this,l=i[n.cache]||n.to(i._rgba),c=l.slice();return a=a[n.cache],v(n.props,function(t,e){var n=e.idx,i=l[n],r=a[n],o=g[e.type]||{};null!==r&&(null===i?c[n]=r:(o.mod&&(o.mod/2<r-i?i+=o.mod:o.mod/2<i-r&&(i-=o.mod)),c[n]=x((r-i)*s+i,e)))}),this[e](c)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),n=e.pop(),i=f(t)._rgba;return f(u.map(e,function(t,e){return(1-n)*i[e]+n*t}))},toRgbaString:function(){var t="rgba(",e=u.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=u.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),n=e.pop();return t&&e.push(~~(255*n)),"#"+u.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,p.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),c=a-l,u=a+l,h=.5*u;return e=l===a?0:i===a?60*(r-o)/c+360:r===a?60*(o-i)/c+120:60*(i-r)/c+240,n=0==h||1==h?h:h<=.5?c/u:c/(2-u),[Math.round(e)%360,n,h,null==s?1:s]},p.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;return[Math.round(255*C(s,o,e+1/3)),Math.round(255*C(s,o,e)),Math.round(255*C(s,o,e-1/3)),r]},v(p,function(l,t){var n=t.props,s=t.cache,a=t.to,c=t.from;f.fn[l]=function(t){if(a&&!this[s]&&(this[s]=a(this._rgba)),t===h)return this[s].slice();var e,i=u.type(t),r="array"===i||"object"===i?t:arguments,o=this[s].slice();return v(n,function(t,e){var n=r["object"===i?t:e.idx];null==n&&(n=o[e.idx]),o[e.idx]=x(n,e)}),c?((e=f(c(o)))[s]=o,e):f(o)},v(n,function(s,a){f.fn[s]||(f.fn[s]=function(t){var e,n=u.type(t),i="alpha"===s?this._hsla?"hsla":"rgba":l,r=this[i](),o=r[a.idx];return"undefined"===n?o:("function"===n&&(t=t.call(this,o),n=u.type(t)),null==t&&a.empty?this:("string"===n&&(e=d.exec(t))&&(t=o+parseFloat(e[2])*("+"===e[1]?1:-1)),r[a.idx]=t,this[i](r)))})})}),v(t,function(t,o){u.cssHooks[o]={set:function(t,e){var n,i,r="";if("string"!==u.type(e)||(n=_(e))){if(e=f(n||e),!m.rgba&&1!==e._rgba[3]){for(i="backgroundColor"===o?t.parentNode:t;(""===r||"transparent"===r)&&i&&i.style;)try{r=u.css(i,"backgroundColor"),i=i.parentNode}catch(t){}e=e.blend(r&&"transparent"!==r?r:"_default")}e=e.toRgbaString()}try{t.style[o]=e}catch(t){}}},u.fx.step[o]=function(t){t.colorInit||(t.start=f(t.elem,o),t.end=f(t.end),t.colorInit=!0),u.cssHooks[o].set(t.elem,t.start.transition(t.end,t.pos))}}),u.cssHooks.borderColor={expand:function(n){var i={};return v(["Top","Right","Bottom","Left"],function(t,e){i["border"+e+"Color"]=n}),i}},c=u.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},s=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){a.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,e,t.end),t.setAttr=!0)}}),a.effects.animateClass=function(r,t,e,n){var o=a.speed(t,e,n);return this.queue(function(){var t,n=a(this),e=n.attr("class")||"",i=o.children?n.find("*").andSelf():n;i=i.map(function(){return{el:a(this),start:w.call(this)}}),(t=function(){a.each(s,function(t,e){r[e]&&n[e+"Class"](r[e])})})(),i=i.map(function(){return this.end=w.call(this.el[0]),this.diff=function(t,e){var n,i,r={};for(n in e)i=e[n],t[n]===i||l[n]||!a.fx.step[n]&&isNaN(parseFloat(i))||(r[n]=i);return r}(this.start,this.end),this}),n.attr("class",e),i=i.map(function(){var t=this,e=a.Deferred(),n=jQuery.extend({},o,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,n),e.promise()}),a.when.apply(a,i.get()).done(function(){t(),a.each(arguments,function(){var e=this.el;a.each(this.diff,function(t){e.css(t,"")})}),o.complete.call(n[0])})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(t,e,n,i){return e?a.effects.animateClass.call(this,{add:t},e,n,i):this._addClass(t)},_removeClass:a.fn.removeClass,removeClass:function(t,e,n,i){return e?a.effects.animateClass.call(this,{remove:t},e,n,i):this._removeClass(t)},_toggleClass:a.fn.toggleClass,toggleClass:function(t,e,n,i,r){return"boolean"==typeof e||void 0===e?n?a.effects.animateClass.call(this,e?{add:t}:{remove:t},n,i,r):this._toggleClass(t,e):a.effects.animateClass.call(this,{toggle:t},e,n,i)},switchClass:function(t,e,n,i,r){return a.effects.animateClass.call(this,{add:e,remove:t},n,i,r)}}),a.extend(a.effects,{version:"1.9.2",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data(o+e[n],t[0].style[e[n]])},restore:function(t,e){var n,i;for(i=0;i<e.length;i++)null!==e[i]&&(void 0===(n=t.data(o+e[i]))&&(n=""),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},t=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:n.width(),height:n.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return n.wrap(t),n[0]!==r&&!a.contains(n[0],r)||a(r).focus(),t=n.parent(),"static"===n.css("position")?(t.css({position:"relative"}),n.css({position:"relative"})):(a.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),a.each(["top","left","bottom","right"],function(t,e){i[e]=n.css(e),isNaN(parseInt(i[e],10))&&(i[e]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(e),t.css(i).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),t[0]!==e&&!a.contains(t[0],e)||a(e).focus()),t},setTransition:function(i,t,r,o){return o=o||{},a.each(t,function(t,e){var n=i.cssUnit(e);0<n[0]&&(o[e]=n[0]*r+n[1])}),o}}),a.fn.extend({effect:function(){function t(t){function e(){a.isFunction(i)&&i.call(n[0]),a.isFunction(t)&&t()}var n=a(this),i=o.complete,r=o.mode;(n.is(":hidden")?"hide"===r:"show"===r)?e():s.call(n[0],o,e)}var o=y.apply(this,arguments),e=o.mode,n=o.queue,s=a.effects.effect[o.effect],i=!s&&r&&a.effects[o.effect];return a.fx.off||!s&&!i?e?this[e](o.duration,o.complete):this.each(function(){o.complete&&o.complete.call(this)}):s?!1===n?this.each(t):this.queue(n||"fx",t):i.call(this,{options:o,duration:o.duration,callback:o.complete,mode:o.mode})},_show:a.fn.show,show:function(t){if(b(t))return this._show.apply(this,arguments);var e=y.apply(this,arguments);return e.mode="show",this.effect.call(this,e)},_hide:a.fn.hide,hide:function(t){if(b(t))return this._hide.apply(this,arguments);var e=y.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)},__toggle:a.fn.toggle,toggle:function(t){if(b(t)||"boolean"==typeof t||a.isFunction(t))return this.__toggle.apply(this,arguments);var e=y.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)},cssUnit:function(t){var n=this.css(t),i=[];return a.each(["em","px","%","pt"],function(t,e){0<n.indexOf(e)&&(i=[parseFloat(n),e])}),i}}),n={},a.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){n[t]=function(t){return Math.pow(t,e+2)}}),a.extend(n,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),a.each(n,function(t,e){a.easing["easeIn"+t]=e,a.easing["easeOut"+t]=function(t){return 1-e(1-t)},a.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}})}(jQuery),function(c){var e=0,d={},f={};d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="hide",f.height=f.paddingTop=f.paddingBottom=f.borderTopWidth=f.borderBottomWidth="show",c.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var o=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e),t=this.options;this.prevShow=this.prevHide=c(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(t.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),t.active<0&&(t.active+=this.headers.length),this.active=this._findActive(t.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(t){var e=c(this),n=e.attr("id"),i=e.next(),r=i.attr("id");n||(n=o+"-header-"+t,e.attr("id",n)),r||(r=o+"-panel-"+t,i.attr("id",r)),e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(t.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():c()}},_createIcons:function(){var t=this.options.icons;t&&(c("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)):this._activate(e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=c.ui.keyCode,n=this.headers.length,i=this.headers.index(t.target),r=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:r=this.headers[(i+1)%n];break;case e.LEFT:case e.UP:r=this.headers[(i-1+n)%n];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:r=this.headers[0];break;case e.END:r=this.headers[n-1]}r&&(c(t.target).attr("tabIndex",-1),c(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===c.ui.keyCode.UP&&t.ctrlKey&&c(t.currentTarget).prev().focus()},refresh:function(){var n,t,e=this.options.heightStyle,i=this.element.parent();"fill"===e?(c.support.minHeight||(t=i.css("overflow"),i.css("overflow","hidden")),n=i.height(),this.element.siblings(":visible").each(function(){var t=c(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),t&&i.css("overflow",t),this.headers.each(function(){n-=c(this).outerHeight(!0)}),this.headers.next().each(function(){c(this).height(Math.max(0,n-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.headers.next().each(function(){n=Math.max(n,c(this).css("height","").height())}).height(n))},_activate:function(t){var e=this._findActive(t)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:c.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):c()},_setupEvents:function(t){var n={};t&&(c.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._on(this.headers,n))},_eventHandler:function(t){var e=this.options,n=this.active,i=c(t.currentTarget),r=i[0]===n[0],o=r&&e.collapsible,s=o?c():i.next(),a=n.next(),l={oldHeader:n,oldPanel:a,newHeader:o?c():i,newPanel:s};t.preventDefault(),r&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!o&&this.headers.index(i),this.active=r?c():i,this._toggle(l),n.removeClass("ui-accordion-header-active ui-state-active"),e.icons&&n.children(".ui-accordion-header-icon").removeClass(e.icons.activeHeader).addClass(e.icons.header),r||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),e.icons&&i.children(".ui-accordion-header-icon").removeClass(e.icons.header).addClass(e.icons.activeHeader),i.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=n,this.options.animate?this._animate(e,n,t):(n.hide(),e.show(),this._toggleComplete(t)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),e.length&&n.length?n.prev().attr("tabIndex",-1):e.length&&this.headers.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1),e.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,n,e){function i(){a._toggleComplete(e)}var r,o,s,a=this,l=0,c=t.length&&(!n.length||t.index()<n.index()),u=this.options.animate||{},h=c&&u.down||u;return"number"==typeof h&&(s=h),"string"==typeof h&&(o=h),o=o||h.easing||u.easing,s=s||h.duration||u.duration,n.length?t.length?(r=t.show().outerHeight(),n.animate(d,{duration:s,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(f,{duration:s,easing:o,complete:i,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?l+=e.now:"content"!==a.options.heightStyle&&(e.now=Math.round(r-n.outerHeight()-l),l=0)}})):n.animate(d,s,o,i):t.animate(f,s,o,i)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),!1!==c.uiBackCompat&&(function(r,t){r.extend(t.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var o=t._create;t._create=function(){if(this.options.navigation){var e=this,t=this.element.find(this.options.header),n=t.next(),i=t.add(n).find("a").filter(this.options.navigationFilter)[0];i&&t.add(n).each(function(t){if(r.contains(this,i))return e.options.active=Math.floor(t/2),!1})}o.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(t,e){t.extend(e.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var n=e._create,i=e._setOption;t.extend(e,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),n.call(this)},_setOption:function(t){"autoHeight"!==t&&"clearStyle"!==t&&"fillSpace"!==t||(this.options.heightStyle=this._mergeHeightStyle()),i.apply(this,arguments)},_mergeHeightStyle:function(){var t=this.options;return t.fillSpace?"fill":t.clearStyle?"content":t.autoHeight?"auto":void 0}})}(jQuery,jQuery.ui.accordion.prototype),function(t,e){t.extend(e.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var n=e._createIcons;e._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(t,e){e.activate=e._activate;var n=e._findActive;e._findActive=function(t){return-1===t&&(t=!1),t&&"number"!=typeof t&&(-1===(t=this.headers.index(this.headers.filter(t)))&&(t=!1)),n.call(this,t)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(t,e){t.extend(e.options,{change:null,changestart:null});var r=e._trigger;e._trigger=function(t,e,n){var i=r.apply(this,arguments);return!!i&&("beforeActivate"===t?i=r.call(this,"changestart",e,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel}):"activate"===t&&(i=r.call(this,"change",e,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel})),i)}}(jQuery,jQuery.ui.accordion.prototype),function(t,e){t.extend(e.options,{animate:null,animated:"slide"});var n=e._create;e._create=function(){var t=this.options;null===t.animate&&(t.animated?"slide"===t.animated?t.animate=300:"bounceslide"===t.animated?t.animate={duration:200,down:{easing:"easeOutBounce",duration:1e3}}:t.animate=t.animated:t.animate=!1),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(o){var i=0;o.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var n,i,r;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))i=r=n=!0;else{i=r=n=!1;var e=o.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:n=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:n=!0,this._move("nextPage",t);break;case e.UP:n=!0,this._keyEvent("previous",t);break;case e.DOWN:n=!0,this._keyEvent("next",t);break;case e.ENTER:case e.NUMPAD_ENTER:this.menu.active&&(n=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(t),t.preventDefault());break;default:i=!0,this._searchTimeout(t)}}},keypress:function(t){if(n)return n=!1,void t.preventDefault();if(!i){var e=o.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(r)return r=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=o("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:o(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];o(t.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(t){t.target===e.element[0]||t.target===n||o.contains(n,t.target)||e.close()})})},menufocus:function(t,e){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){o(t.target).trigger(t.originalEvent)});var n=e.item.data("ui-autocomplete-item")||e.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item")||e.item.data("item.autocomplete"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=o("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),o.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this.document.find(e||"body")[0]),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var n,i,r=this;o.isArray(this.options.source)?(n=this.options.source,this.source=function(t,e){e(o.ui.autocomplete.filter(n,t.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,e){r.xhr&&r.xhr.abort(),r.xhr=o.ajax({url:i,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=this,n=++i;return function(t){n===i&&e.__response(t),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t=t&&this._normalize(t),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:o.map(t,function(t){return"string"==typeof t?{label:t,value:t}:o.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var e=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(e,t),this.menu.refresh(),e.show(),this._resizeMenu(),e.position(o.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,t){var i=this;o.each(t,function(t,e){i._renderItemData(n,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return o("<li>").append(o("<a>").text(e.label)).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),o.extend(o.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var n=new RegExp(o.ui.autocomplete.escapeRegex(e),"i");return o.grep(t,function(t){return n.test(t.label||t.value||t)})}}),o.widget("ui.autocomplete",o.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(o){function s(){var t=o(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)}function a(t){var e=t.name,n=t.form,i=o([]);return e&&(i=n?o(n).find("[name='"+e+"']"):o("[name='"+e+"']",t.ownerDocument).filter(function(){return!this.form})),i}var l,c,u,h,d="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only";o.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,s),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,n=this.options,t="checkbox"===this.type||"radio"===this.type,i=t?"":"ui-state-active",r="ui-state-focus";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(d).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===l&&o(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||o(this).removeClass(i)}).bind("click"+this.eventNamespace,function(t){n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass(r)}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass(r)}),t&&(this.element.bind("change"+this.eventNamespace,function(){h||e.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){n.disabled||(h=!1,c=t.pageX,u=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){n.disabled||c===t.pageX&&u===t.pageY||(h=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled||h)return!1;o(this).toggleClass("ui-state-active"),e.buttonElement.attr("aria-pressed",e.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled||h)return!1;o(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var t=e.element[0];a(t).not(t).map(function(){return o(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled)return!1;o(this).addClass("ui-state-active"),l=this,e.document.one("mouseup",function(){l=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled)return!1;o(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(n.disabled)return!1;t.keyCode!==o.ui.keyCode.SPACE&&t.keyCode!==o.ui.keyCode.ENTER||o(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){o(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===o.ui.keyCode.SPACE&&o(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var t,e,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(d+" ui-state-hover ui-state-active  "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){this._super(t,e),"disabled"!==t?this._resetButton():e?this.element.prop("disabled",!0):this.element.prop("disabled",!1)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?a(this.element[0]).each(function(){o(this).is(":checked")?o(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):o(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(f),e=o("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,i=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(i?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",o.trim(e)))):r.push("ui-button-text-only"),t.addClass(r.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),o.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return o(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return o(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(e,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(e,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?t.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(t,e){for(var n in $.extend(t,e),e)null!=e[n]&&e[n]!=undefined||(t[n]=e[n]);return t}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(t){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(t,i){var e=$(t);i.append=$([]),i.trigger=$([]),e.hasClass(this.markerClassName)||(this._attachments(e,i),e.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(t,e,n){i.settings[e]=n}).bind("getData.datepicker",function(t,e){return this._get(i,e)}),this._autoSize(i),$.data(t,PROP_NAME,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var n=this._get(e,"appendText"),i=this._get(e,"isRTL");e.append&&e.append.remove(),n&&(e.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),t[i?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove();var r=this._get(e,"showOn");if("focus"!=r&&"both"!=r||t.focus(this._showDatepicker),"button"==r||"both"==r){var o=this._get(e,"buttonText"),s=this._get(e,"buttonImage");e.trigger=$(this._get(e,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:s,alt:o,title:o}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==s?o:$("<img/>").attr({src:s,alt:o,title:o}))),t[i?"before":"after"](e.trigger),e.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==t[0]?$.datepicker._hideDatepicker():($.datepicker._datepickerShowing&&$.datepicker._lastInput!=t[0]&&$.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])),!1})}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e=new Date(2009,11,20),n=this._get(t,"dateFormat");if(n.match(/[DM]/)){function i(t){for(var e=0,n=0,i=0;i<t.length;i++)t[i].length>e&&(e=t[i].length,n=i);return n}e.setMonth(i(this._get(t,n.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(i(this._get(t,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay())}t.input.attr("size",this._formatDate(t,e).length)}},_inlineDatepicker:function(t,i){var e=$(t);e.hasClass(this.markerClassName)||(e.addClass(this.markerClassName).append(i.dpDiv).bind("setData.datepicker",function(t,e,n){i.settings[e]=n}).bind("getData.datepicker",function(t,e){return this._get(i,e)}),$.data(t,PROP_NAME,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,n,i,r){var o=this._dialogInst;if(!o){this.uuid+=1;var s="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+s+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),(o=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],PROP_NAME,o)}if(extendRemove(o.settings,i||{}),e=e&&e.constructor==Date?this._formatDate(o,e):e,this._dialogInput.val(e),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,!this._pos){var a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[a/2-100+c,l/2-150+u]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),o.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,o),this},_destroyDatepicker:function(t){var e=$(t),n=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var i=t.nodeName.toLowerCase();$.removeData(t,PROP_NAME),"input"==i?(n.append.remove(),n.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=i&&"span"!=i||e.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==i||"span"==i){var r=t.children("."+this._inlineClass);r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==i||"span"==i){var r=t.children("."+this._inlineClass);r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]==t)return!0;return!1},_getInst:function(t){try{return $.data(t,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,n){var i=this._getInst(t);if(2==arguments.length&&"string"==typeof e)return"defaults"==e?$.extend({},$.datepicker._defaults):i?"all"==e?$.extend({},i.settings):this._get(i,e):null;var r=e||{};if("string"==typeof e&&((r={})[e]=n),i){this._curInst==i&&this._hideDatepicker();var o=this._getDateDatepicker(t,!0),s=this._getMinMaxDate(i,"min"),a=this._getMinMaxDate(i,"max");extendRemove(i.settings,r),null!==s&&r.dateFormat!==undefined&&r.minDate===undefined&&(i.settings.minDate=this._formatDate(i,s)),null!==a&&r.dateFormat!==undefined&&r.maxDate===undefined&&(i.settings.maxDate=this._formatDate(i,a)),this._attachments($(t),i),this._autoSize(i),this._setDate(i,o),this._updateAlternate(i),this._updateDatepicker(i)}},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(t){var e=$.datepicker._getInst(t.target),n=!0,i=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,$.datepicker._datepickerShowing)switch(t.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var r=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",e.dpDiv);r[0]&&$.datepicker._selectDay(t.target,e.selectedMonth,e.selectedYear,r[0]);var o=$.datepicker._get(e,"onSelect");if(o){var s=$.datepicker._formatDate(e);o.apply(e.input?e.input[0]:null,[s,e])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&$.datepicker._clearDate(t.target),n=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&$.datepicker._gotoToday(t.target),n=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,i?1:-1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,-7,"D"),n=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,i?-1:1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,7,"D"),n=t.ctrlKey||t.metaKey;break;default:n=!1}else 36==t.keyCode&&t.ctrlKey?$.datepicker._showDatepicker(this):n=!1;n&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e=$.datepicker._getInst(t.target);if($.datepicker._get(e,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),i=String.fromCharCode(t.charCode==undefined?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||i<" "||!n||-1<n.indexOf(i)}},_doKeyUp:function(t){var e=$.datepicker._getInst(t.target);if(e.input.val()!=e.lastVal)try{$.datepicker.parseDate($.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,$.datepicker._getFormatConfig(e))&&($.datepicker._setDateFromField(e),$.datepicker._updateAlternate(e),$.datepicker._updateDatepicker(e))}catch(t){$.datepicker.log(t)}return!0},_showDatepicker:function(t){if("input"!=(t=t.target||t).nodeName.toLowerCase()&&(t=$("input",t.parentNode)[0]),!$.datepicker._isDisabledDatepicker(t)&&$.datepicker._lastInput!=t){var n=$.datepicker._getInst(t);$.datepicker._curInst&&$.datepicker._curInst!=n&&($.datepicker._curInst.dpDiv.stop(!0,!0),n&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var e=$.datepicker._get(n,"beforeShow"),i=e?e.apply(t,[t,n]):{};if(!1!==i){extendRemove(n.settings,i),n.lastVal=null,$.datepicker._lastInput=t,$.datepicker._setDateFromField(n),$.datepicker._inDialog&&(t.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(t),$.datepicker._pos[1]+=t.offsetHeight);var r=!1;$(t).parents().each(function(){return!(r|="fixed"==$(this).css("position"))});var o={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(n),o=$.datepicker._checkOffset(n,o,r),n.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),!n.inline){function s(){var t=n.dpDiv.find("iframe.ui-datepicker-cover");if(t.length){var e=$.datepicker._getBorders(n.dpDiv);t.css({left:-e[0],top:-e[1],width:n.dpDiv.outerWidth(),height:n.dpDiv.outerHeight()})}}var a=$.datepicker._get(n,"showAnim"),l=$.datepicker._get(n,"duration");n.dpDiv.zIndex($(t).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[a]||$.effects[a])?n.dpDiv.show(a,$.datepicker._get(n,"showOptions"),l,s):n.dpDiv[a||"show"](a?l:null,s),a&&l||s(),n.input.is(":visible")&&!n.input.is(":disabled")&&n.input.focus(),$.datepicker._curInst=n}}}},_updateDatepicker:function(t){this.maxRows=4;var e=$.datepicker._getBorders(t.dpDiv);(instActive=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n=t.dpDiv.find("iframe.ui-datepicker-cover");n.length&&n.css({left:-e[0],top:-e[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i=this._getNumberOfMonths(t),r=i[1];if(t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<r&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),t.dpDiv[(1!=i[0]||1!=i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==$.datepicker._curInst&&$.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus(),t.yearshtml){var o=t.yearshtml;setTimeout(function(){o===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),o=t.yearshtml=null},0)}},_getBorders:function(t){function e(t){return{thin:1,medium:2,thick:3}[t]||t}return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(t,e,n){var i=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return e.left-=this._get(t,"isRTL")?i-o:0,e.left-=n&&e.left==t.input.offset().left?$(document).scrollLeft():0,e.top-=n&&e.top==t.input.offset().top+s?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+i>a&&i<a?Math.abs(e.left+i-a):0),e.top-=Math.min(e.top,e.top+r>l&&r<l?Math.abs(r+s):0),e},_findPos:function(t){for(var e=this._getInst(t),n=this._get(e,"isRTL");t&&("hidden"==t.type||1!=t.nodeType||$.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];var i=$(t).offset();return[i.left,i.top]},_hideDatepicker:function(t){var e=this._curInst;if(e&&(!t||e==$.data(t,PROP_NAME))&&this._datepickerShowing){function n(){$.datepicker._tidyDialog(e)}var i=this._get(e,"showAnim"),r=this._get(e,"duration");$.effects&&($.effects.effect[i]||$.effects[i])?e.dpDiv.hide(i,$.datepicker._get(e,"showOptions"),r,n):e.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?r:null,n),i||n(),this._datepickerShowing=!1;var o=this._get(e,"onClose");o&&o.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if($.datepicker._curInst){var e=$(t.target),n=$.datepicker._getInst(e[0]);(e[0].id==$.datepicker._mainDivId||0!=e.parents("#"+$.datepicker._mainDivId).length||e.hasClass($.datepicker.markerClassName)||e.closest("."+$.datepicker._triggerClass).length||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI)&&(!e.hasClass($.datepicker.markerClassName)||$.datepicker._curInst==n)||$.datepicker._hideDatepicker()}},_adjustDate:function(t,e,n){var i=$(t),r=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(r,e+("M"==n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var e=$(t),n=this._getInst(e[0]);if(this._get(n,"gotoCurrent")&&n.currentDay)n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear;else{var i=new Date;n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()}this._notifyChange(n),this._adjustDate(e)},_selectMonthYear:function(t,e,n){var i=$(t),r=this._getInst(i[0]);r["selected"+("M"==n?"Month":"Year")]=r["draw"+("M"==n?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(i)},_selectDay:function(t,e,n,i){var r=$(t);if(!$(i).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(r[0])){var o=this._getInst(r[0]);o.selectedDay=o.currentDay=$("a",i).html(),o.selectedMonth=o.currentMonth=e,o.selectedYear=o.currentYear=n,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear))}},_clearDate:function(t){var e=$(t);this._getInst(e[0]);this._selectDate(e,"")},_selectDate:function(t,e){var n=$(t),i=this._getInst(n[0]);e=null!=e?e:this._formatDate(i),i.input&&i.input.val(e),this._updateAlternate(i);var r=this._get(i,"onSelect");r?r.apply(i.input?i.input[0]:null,[e,i]):i.input&&i.input.trigger("change"),i.inline?this._updateDatepicker(i):(this._hideDatepicker(),this._lastInput=i.input[0],"object"!=typeof i.input[0]&&i.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e=this._get(t,"altField");if(e){var n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t));$(e).each(function(){$(this).val(r)})}},noWeekends:function(t){var e=t.getDay();return[0<e&&e<6,""]},iso8601Week:function(t){var e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1},parseDate:function(n,o,t){if(null==n||null==o)throw"Invalid arguments";if(""==(o="object"==typeof o?o.toString():o+""))return null;var e=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff;e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10);function s(t){var e=y+1<n.length&&n.charAt(y+1)==t;return e&&y++,e}function i(t){var e=s(t),n=new RegExp("^\\d{1,"+("@"==t?14:"!"==t?20:"y"==t&&e?4:"o"==t?3:2)+"}"),i=o.substring(v).match(n);if(!i)throw"Missing number at position "+v;return v+=i[0].length,parseInt(i[0],10)}function r(t,e,n){var i=$.map(s(t)?n:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)}),r=-1;if($.each(i,function(t,e){var n=e[1];if(o.substr(v,n.length).toLowerCase()==n.toLowerCase())return r=e[0],v+=n.length,!1}),-1!=r)return r+1;throw"Unknown name at position "+v}function a(){if(o.charAt(v)!=n.charAt(y))throw"Unexpected literal at position "+v;v++}for(var l=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,c=(t?t.dayNames:null)||this._defaults.dayNames,u=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,h=(t?t.monthNames:null)||this._defaults.monthNames,d=-1,f=-1,p=-1,g=-1,m=!1,v=0,y=0;y<n.length;y++)if(m)"'"!=n.charAt(y)||s("'")?a():m=!1;else switch(n.charAt(y)){case"d":p=i("d");break;case"D":r("D",l,c);break;case"o":g=i("o");break;case"m":f=i("m");break;case"M":f=r("M",u,h);break;case"y":d=i("y");break;case"@":d=(b=new Date(i("@"))).getFullYear(),f=b.getMonth()+1,p=b.getDate();break;case"!":var b;d=(b=new Date((i("!")-this._ticksTo1970)/1e4)).getFullYear(),f=b.getMonth()+1,p=b.getDate();break;case"'":s("'")?a():m=!0;break;default:a()}if(v<o.length){var w=o.substr(v);if(!/^\s+/.test(w))throw"Extra/unparsed characters found in date: "+w}if(-1==d?d=(new Date).getFullYear():d<100&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=e?0:-100)),-1<g)for(f=1,p=g;;){var x=this._getDaysInMonth(d,f-1);if(p<=x)break;f++,p-=x}if((b=this._daylightSavingAdjust(new Date(d,f-1,p))).getFullYear()!=d||b.getMonth()+1!=f||b.getDate()!=p)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(n,t,e){if(!t)return"";function r(t){var e=d+1<n.length&&n.charAt(d+1)==t;return e&&d++,e}function i(t,e,n){var i=""+e;if(r(t))for(;i.length<n;)i="0"+i;return i}function o(t,e,n,i){return r(t)?i[e]:n[e]}var s=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,a=(e?e.dayNames:null)||this._defaults.dayNames,l=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,c=(e?e.monthNames:null)||this._defaults.monthNames,u="",h=!1;if(t)for(var d=0;d<n.length;d++)if(h)"'"!=n.charAt(d)||r("'")?u+=n.charAt(d):h=!1;else switch(n.charAt(d)){case"d":u+=i("d",t.getDate(),2);break;case"D":u+=o("D",t.getDay(),s,a);break;case"o":u+=i("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=i("m",t.getMonth()+1,2);break;case"M":u+=o("M",t.getMonth(),l,c);break;case"y":u+=r("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":r("'")?u+="'":h=!0;break;default:u+=n.charAt(d)}return u},_possibleChars:function(n){function t(t){var e=r+1<n.length&&n.charAt(r+1)==t;return e&&r++,e}for(var e="",i=!1,r=0;r<n.length;r++)if(i)"'"!=n.charAt(r)||t("'")?e+=n.charAt(r):i=!1;else switch(n.charAt(r)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":t("'")?e+="'":i=!0;break;default:e+=n.charAt(r)}return e},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!=t.lastVal){var n,i,r=this._get(t,"dateFormat"),o=t.lastVal=t.input?t.input.val():null;n=i=this._getDefaultDate(t);var s=this._getFormatConfig(t);try{n=this.parseDate(r,o,s)||i}catch(t){this.log(t),o=e?"":o}t.selectedDay=n.getDate(),t.drawMonth=t.selectedMonth=n.getMonth(),t.drawYear=t.selectedYear=n.getFullYear(),t.currentDay=o?n.getDate():0,t.currentMonth=o?n.getMonth():0,t.currentYear=o?n.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(a,t,e){var n,i,r=null==t||""===t?e:"string"==typeof t?function(t){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),t,$.datepicker._getFormatConfig(a))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,n=e.getFullYear(),i=e.getMonth(),r=e.getDate(),o=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=o.exec(t);s;){switch(s[2]||"d"){case"d":case"D":r+=parseInt(s[1],10);break;case"w":case"W":r+=7*parseInt(s[1],10);break;case"m":case"M":i+=parseInt(s[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(s[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(n,i))}s=o.exec(t)}return new Date(n,i,r)}(t):"number"==typeof t?isNaN(t)?e:(n=t,(i=new Date).setDate(i.getDate()+n),i):new Date(t.getTime());return(r=r&&"Invalid Date"==r.toString()?e:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r==t.selectedMonth&&o==t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""==t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-e,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+e,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e=new Date;e=this._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()));var n=this._get(t,"isRTL"),i=this._get(t,"showButtonPanel"),r=this._get(t,"hideIfNoPrevNext"),o=this._get(t,"navigationAsDateFormat"),s=this._getNumberOfMonths(t),a=this._get(t,"showCurrentAtPos"),l=this._get(t,"stepMonths"),c=1!=s[0]||1!=s[1],u=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),h=this._getMinMaxDate(t,"min"),d=this._getMinMaxDate(t,"max"),f=t.drawMonth-a,p=t.drawYear;if(f<0&&(f+=12,p--),d){var g=this._daylightSavingAdjust(new Date(d.getFullYear(),d.getMonth()-s[0]*s[1]+1,d.getDate()));for(g=h&&g<h?h:g;this._daylightSavingAdjust(new Date(p,f,1))>g;)--f<0&&(f=11,p--)}t.drawMonth=f,t.drawYear=p;var m=this._get(t,"prevText");m=o?this.formatDate(m,this._daylightSavingAdjust(new Date(p,f-l,1)),this._getFormatConfig(t)):m;var v=this._canAdjustMonth(t,-1,p,f)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":r?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",y=this._get(t,"nextText");y=o?this.formatDate(y,this._daylightSavingAdjust(new Date(p,f+l,1)),this._getFormatConfig(t)):y;var b=this._canAdjustMonth(t,1,p,f)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>":r?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>",w=this._get(t,"currentText"),x=this._get(t,"gotoCurrent")&&t.currentDay?u:e;w=o?this.formatDate(w,x,this._getFormatConfig(t)):w;var _=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(t,"closeText")+"</button>",C=i?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?_:"")+(this._isInRange(t,x)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+w+"</button>":"")+(n?"":_)+"</div>":"",k=parseInt(this._get(t,"firstDay"),10);k=isNaN(k)?0:k;for(var S=this._get(t,"showWeek"),D=this._get(t,"dayNames"),E=(this._get(t,"dayNamesShort"),this._get(t,"dayNamesMin")),T=this._get(t,"monthNames"),M=this._get(t,"monthNamesShort"),N=this._get(t,"beforeShowDay"),A=this._get(t,"showOtherMonths"),P=this._get(t,"selectOtherMonths"),I=(this._get(t,"calculateWeek")||this.iso8601Week,this._getDefaultDate(t)),O="",R=0;R<s[0];R++){var L="";this.maxRows=4;for(var H=0;H<s[1];H++){var F=this._daylightSavingAdjust(new Date(p,f,t.selectedDay)),z=" ui-corner-all",j="";if(c){if(j+='<div class="ui-datepicker-group',1<s[1])switch(H){case 0:j+=" ui-datepicker-group-first",z=" ui-corner-"+(n?"right":"left");break;case s[1]-1:j+=" ui-datepicker-group-last",z=" ui-corner-"+(n?"left":"right");break;default:j+=" ui-datepicker-group-middle",z=""}j+='">'}j+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+z+'">'+(/all|left/.test(z)&&0==R?n?b:v:"")+(/all|right/.test(z)&&0==R?n?v:b:"")+this._generateMonthYearHeader(t,f,p,h,d,0<R||0<H,T,M)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var W=S?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"</th>":"",B=0;B<7;B++){var Y=(B+k)%7;W+="<th"+(5<=(B+k+6)%7?' class="ui-datepicker-week-end"':"")+'><span title="'+D[Y]+'">'+E[Y]+"</span></th>"}j+=W+"</tr></thead><tbody>";var q=this._getDaysInMonth(p,f);p==t.selectedYear&&f==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,q));var U=(this._getFirstDayOfMonth(p,f)-k+7)%7,V=Math.ceil((U+q)/7),G=c&&this.maxRows>V?this.maxRows:V;this.maxRows=G;for(var X=this._daylightSavingAdjust(new Date(p,f,1-U)),K=0;K<G;K++){j+="<tr>";var Q=S?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(X)+"</td>":"";for(B=0;B<7;B++){var Z=N?N.apply(t.input?t.input[0]:null,[X]):[!0,""],J=X.getMonth()!=f,tt=J&&!P||!Z[0]||h&&X<h||d&&d<X;Q+='<td class="'+(5<=(B+k+6)%7?" ui-datepicker-week-end":"")+(J?" ui-datepicker-other-month":"")+(X.getTime()==F.getTime()&&f==t.selectedMonth&&t._keyEvent||I.getTime()==X.getTime()&&I.getTime()==F.getTime()?" "+this._dayOverClass:"")+(tt?" "+this._unselectableClass+" ui-state-disabled":"")+(J&&!A?"":" "+Z[1]+(X.getTime()==u.getTime()?" "+this._currentClass:"")+(X.getTime()==e.getTime()?" ui-datepicker-today":""))+'"'+(J&&!A||!Z[2]?"":' title="'+Z[2]+'"')+(tt?"":' data-handler="selectDay" data-event="click" data-month="'+X.getMonth()+'" data-year="'+X.getFullYear()+'"')+">"+(J&&!A?"&#xa0;":tt?'<span class="ui-state-default">'+X.getDate()+"</span>":'<a class="ui-state-default'+(X.getTime()==e.getTime()?" ui-state-highlight":"")+(X.getTime()==u.getTime()?" ui-state-active":"")+(J?" ui-priority-secondary":"")+'" href="#">'+X.getDate()+"</a>")+"</td>",X.setDate(X.getDate()+1),X=this._daylightSavingAdjust(X)}j+=Q+"</tr>"}11<++f&&(f=0,p++),L+=j+="</tbody></table>"+(c?"</div>"+(0<s[0]&&H==s[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"")}O+=L}return O+=C+($.ui.ie6&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),t._keyEvent=!1,O},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var l=this._get(t,"changeMonth"),c=this._get(t,"changeYear"),u=this._get(t,"showMonthAfterYear"),h='<div class="ui-datepicker-title">',d="";if(o||!l)d+='<span class="ui-datepicker-month">'+s[e]+"</span>";else{var f=i&&i.getFullYear()==n,p=r&&r.getFullYear()==n;d+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;g<12;g++)(!f||g>=i.getMonth())&&(!p||g<=r.getMonth())&&(d+='<option value="'+g+'"'+(g==e?' selected="selected"':"")+">"+a[g]+"</option>");d+="</select>"}if(u||(h+=d+(!o&&l&&c?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!c)h+='<span class="ui-datepicker-year">'+n+"</span>";else{function m(t){var e=t.match(/c[+-].*/)?n+parseInt(t.substring(1),10):t.match(/[+-].*/)?y+parseInt(t,10):parseInt(t,10);return isNaN(e)?y:e}var v=this._get(t,"yearRange").split(":"),y=(new Date).getFullYear(),b=m(v[0]),w=Math.max(b,m(v[1]||""));for(b=i?Math.max(b,i.getFullYear()):b,w=r?Math.min(w,r.getFullYear()):w,t.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';b<=w;b++)t.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>";t.yearshtml+="</select>",h+=t.yearshtml,t.yearshtml=null}return h+=this._get(t,"yearSuffix"),u&&(h+=(!o&&l&&c?"":"&#xa0;")+d),h+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"==n?e:0),r=t.drawMonth+("M"==n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"==n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!=n&&"Y"!=n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return r=i&&i<r?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max");return(!n||e.getTime()>=n.getTime())&&(!i||e.getTime()<=i.getTime())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),$.fn.datepicker=function(t){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!=t&&"getDate"!=t&&"widget"!=t?"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this].concat(e)):$.datepicker._attachDatepicker(this,t)}):$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(l){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",o={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},s={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};l.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=l(this).css(t).offset().top;e<0&&l(this).css("top",t.top-e)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var r,t,e,n,i,o=this,s=this.options,a=s.title||"&#160;";r=(this.uiDialog=l("<div>")).addClass(c+s.dialogClass).css({display:"none",outline:0,zIndex:s.zIndex}).attr("tabIndex",-1).keydown(function(t){s.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===l.ui.keyCode.ESCAPE&&(o.close(t),t.preventDefault())}).mousedown(function(t){o.moveToTop(!1,t)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(r),t=(this.uiDialogTitlebar=l("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){r.focus()}).prependTo(r),e=l("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(t){t.preventDefault(),o.close(t)}).appendTo(t),(this.uiDialogTitlebarCloseText=l("<span>")).addClass("ui-icon ui-icon-closethick").text(s.closeText).appendTo(e),n=l("<span>").uniqueId().addClass("ui-dialog-title").html(a).prependTo(t),i=(this.uiDialogButtonPane=l("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=l("<div>")).addClass("ui-dialog-buttonset").appendTo(i),r.attr({role:"dialog","aria-labelledby":n.attr("id")}),t.find("*").add(t).disableSelection(),this._hoverable(e),this._focusable(e),s.draggable&&l.fn.draggable&&this._makeDraggable(),s.resizable&&l.fn.resizable&&this._makeResizable(),this._createButtons(s.buttons),this._isOpen=!1,l.fn.bgiframe&&r.bgiframe(),this._on(r,{keydown:function(t){if(s.modal&&t.keyCode===l.ui.keyCode.TAB){var e=l(":tabbable",r),n=e.filter(":first"),i=e.filter(":last");return t.target!==i[0]||t.shiftKey?t.target===n[0]&&t.shiftKey?(i.focus(1),!1):void 0:(n.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var t,e=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(t){var e,n,i=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}):(this.uiDialog.hide(),this._trigger("close",t)),l.ui.dialog.overlay.resize(),this.options.modal&&(e=0,l(".ui-dialog").each(function(){this!==i.uiDialog[0]&&(n=l(this).css("z-index"),isNaN(n)||(e=Math.max(e,n)))}),l.ui.dialog.maxZ=e),this},isOpen:function(){return this._isOpen},moveToTop:function(t,e){var n,i=this.options;return i.modal&&!t||!i.stack&&!i.modal?this._trigger("focus",e):(i.zIndex>l.ui.dialog.maxZ&&(l.ui.dialog.maxZ=i.zIndex),this.overlay&&(l.ui.dialog.maxZ+=1,l.ui.dialog.overlay.maxZ=l.ui.dialog.maxZ,this.overlay.$el.css("z-index",l.ui.dialog.overlay.maxZ)),n={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},l.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",l.ui.dialog.maxZ),this.element.attr(n),this._trigger("focus",e),this)},open:function(){if(!this._isOpen){var t,e=this.options,n=this.uiDialog;return this._size(),this._position(e.position),n.show(e.show),this.overlay=e.modal?new l.ui.dialog.overlay(this):null,this.moveToTop(!0),(t=this.element.find(":tabbable")).length||((t=this.uiDialogButtonPane.find(":tabbable")).length||(t=n)),t.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(t){var r=this,e=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof t&&null!==t&&l.each(t,function(){return!(e=!0)}),e?(l.each(t,function(t,e){var n,i;e=l.isFunction(e)?{click:e,text:t}:e,e=l.extend({type:"button"},e),i=e.click,e.click=function(){i.apply(r.element[0],arguments)},n=l("<button></button>",e).appendTo(r.uiButtonSet),l.fn.button&&n.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function n(t){return{position:t.position,offset:t.offset}}var i=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){l(this).addClass("ui-dialog-dragging"),i._trigger("dragStart",t,n(e))},drag:function(t,e){i._trigger("drag",t,n(e))},stop:function(t,e){r.position=[e.position.left-i.document.scrollLeft(),e.position.top-i.document.scrollTop()],l(this).removeClass("ui-dialog-dragging"),i._trigger("dragStop",t,n(e)),l.ui.dialog.overlay.resize()}})},_makeResizable:function(t){function n(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}t=void 0===t?this.options.resizable:t;var i=this,r=this.options,e=this.uiDialog.css("position"),o="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:o,start:function(t,e){l(this).addClass("ui-dialog-resizing"),i._trigger("resizeStart",t,n(e))},resize:function(t,e){i._trigger("resize",t,n(e))},stop:function(t,e){l(this).removeClass("ui-dialog-resizing"),r.height=l(this).height(),r.width=l(this).width(),i._trigger("resizeStop",t,n(e)),l.ui.dialog.overlay.resize()}}).css("position",e).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(t){var e,n=[],i=[0,0];t=t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(1===(n=t.split?t.split(" "):[t[0],t[1]]).length&&(n[1]=n[0]),l.each(["left","top"],function(t,e){+n[t]===n[t]&&(i[t]=n[t],n[t]=e)}),t={my:n[0]+(i[0]<0?i[0]:"+"+i[0])+" "+n[1]+(i[1]<0?i[1]:"+"+i[1]),at:n.join(" ")}),l.extend({},l.ui.dialog.prototype.options.position,t)):l.ui.dialog.prototype.options.position,(e=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(t),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i={},r=!1;l.each(t,function(t,e){n._setOption(t,e),t in o&&(r=!0),t in s&&(i[t]=e)}),r&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(t,e){var n,i,r=this.uiDialog;switch(t){case"buttons":this._createButtons(e);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+e);break;case"dialogClass":r.removeClass(this.options.dialogClass).addClass(c+e);break;case"disabled":e?r.addClass("ui-dialog-disabled"):r.removeClass("ui-dialog-disabled");break;case"draggable":(n=r.is(":data(draggable)"))&&!e&&r.draggable("destroy"),!n&&e&&this._makeDraggable();break;case"position":this._position(e);break;case"resizable":(i=r.is(":data(resizable)"))&&!e&&r.resizable("destroy"),i&&"string"==typeof e&&r.resizable("option","handles",e),i||!1===e||this._makeResizable(e);break;case"title":l(".ui-dialog-title",this.uiDialogTitlebar).html(""+(e||"&#160;"))}this._super(t,e)},_size:function(){var t,e,n,i=this.options,r=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),"auto"===i.height?l.support.minHeight?this.element.css({minHeight:e,height:"auto"}):(this.uiDialog.show(),n=this.element.css("height","auto").height(),r||this.uiDialog.hide(),this.element.height(Math.max(n,e))):this.element.height(Math.max(i.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),l.extend(l.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(t){var e=t.attr("id");return e||(this.uuid+=1,e=this.uuid),"ui-dialog-title-"+e},overlay:function(t){this.$el=l.ui.dialog.overlay.create(t)}}),l.extend(l.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:l.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(t){return t+".dialog-overlay"}).join(" "),create:function(n){0===this.instances.length&&(setTimeout(function(){l.ui.dialog.overlay.instances.length&&l(document).bind(l.ui.dialog.overlay.events,function(t){if(l(t.target).zIndex()<l.ui.dialog.overlay.maxZ)return!1})},1),l(window).bind("resize.dialog-overlay",l.ui.dialog.overlay.resize));var i=this.oldInstances.pop()||l("<div>").addClass("ui-widget-overlay");return l(document).bind("keydown.dialog-overlay",function(t){var e=l.ui.dialog.overlay.instances;0!==e.length&&e[e.length-1]===i&&n.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===l.ui.keyCode.ESCAPE&&(n.close(t),t.preventDefault())}),i.appendTo(document.body).css({width:this.width(),height:this.height()}),l.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){var e=l.inArray(t,this.instances),n=0;-1!==e&&this.oldInstances.push(this.instances.splice(e,1)[0]),0===this.instances.length&&l([document,window]).unbind(".dialog-overlay"),t.height(0).width(0).remove(),l.each(this.instances,function(){n=Math.max(n,this.css("z-index"))}),this.maxZ=n},height:function(){var t;return l.ui.ie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))<Math.max(document.documentElement.offsetHeight,document.body.offsetHeight)?l(window).height()+"px":t+"px":l(document).height()+"px"},width:function(){var t;return l.ui.ie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))<Math.max(document.documentElement.offsetWidth,document.body.offsetWidth)?l(window).width()+"px":t+"px":l(document).width()+"px"},resize:function(){var t=l([]);l.each(l.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:l.ui.dialog.overlay.width(),height:l.ui.dialog.overlay.height()})}}),l.extend(l.ui.dialog.overlay.prototype,{destroy:function(){l.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(g){var m=/up|down|vertical/,v=/up|left|vertical|horizontal/;g.effects.effect.blind=function(t,e){var n,i,r,o=g(this),s=["position","top","bottom","left","right","height","width"],a=g.effects.setMode(o,t.mode||"hide"),l=t.direction||"up",c=m.test(l),u=c?"height":"width",h=c?"top":"left",d=v.test(l),f={},p="show"===a;o.parent().is(".ui-effects-wrapper")?g.effects.save(o.parent(),s):g.effects.save(o,s),o.show(),i=(n=g.effects.createWrapper(o).css({overflow:"hidden"}))[u](),r=parseFloat(n.css(h))||0,f[u]=p?i:0,d||(o.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),f[h]=p?r:i+r),p&&(n.css(u,0),d||n.css(h,r+i)),n.animate(f,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===a&&o.hide(),g.effects.restore(o,s),g.effects.removeWrapper(o),e()}})}}(jQuery),function(w){w.effects.effect.bounce=function(t,e){var n,i,r,o=w(this),s=["position","top","bottom","left","right","height","width"],a=w.effects.setMode(o,t.mode||"effect"),l="hide"===a,c="show"===a,u=t.direction||"up",h=t.distance,d=t.times||5,f=2*d+(c||l?1:0),p=t.duration/f,g=t.easing,m="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,y=o.queue(),b=y.length;for((c||l)&&s.push("opacity"),w.effects.save(o,s),o.show(),w.effects.createWrapper(o),h=h||o["top"==m?"outerHeight":"outerWidth"]()/3,c&&((r={opacity:1})[m]=0,o.css("opacity",0).css(m,v?2*-h:2*h).animate(r,p,g)),l&&(h/=Math.pow(2,d-1)),n=(r={})[m]=0;n<d;n++)(i={})[m]=(v?"-=":"+=")+h,o.animate(i,p,g).animate(r,p,g),h=l?2*h:h/2;l&&((i={opacity:0})[m]=(v?"-=":"+=")+h,o.animate(i,p,g)),o.queue(function(){l&&o.hide(),w.effects.restore(o,s),w.effects.removeWrapper(o),e()}),1<b&&y.splice.apply(y,[1,0].concat(y.splice(b,1+f))),o.dequeue()}}(jQuery),function(d){d.effects.effect.clip=function(t,e){var n,i,r,o=d(this),s=["position","top","bottom","left","right","height","width"],a="show"===d.effects.setMode(o,t.mode||"hide"),l="vertical"===(t.direction||"vertical"),c=l?"height":"width",u=l?"top":"left",h={};d.effects.save(o,s),o.show(),n=d.effects.createWrapper(o).css({overflow:"hidden"}),r=(i="IMG"===o[0].tagName?n:o)[c](),a&&(i.css(c,0),i.css(u,r/2)),h[c]=a?r:0,h[u]=a?0:r/2,i.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){a||o.hide(),d.effects.restore(o,s),d.effects.removeWrapper(o),e()}})}}(jQuery),function(h){h.effects.effect.drop=function(t,e){var n,i=h(this),r=["position","top","bottom","left","right","opacity","height","width"],o=h.effects.setMode(i,t.mode||"hide"),s="show"===o,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a?"pos":"neg",u={opacity:s?1:0};h.effects.save(i,r),i.show(),h.effects.createWrapper(i),n=t.distance||i["top"==l?"outerHeight":"outerWidth"](!0)/2,s&&i.css("opacity",0).css(l,"pos"==c?-n:n),u[l]=(s?"pos"==c?"+=":"-=":"pos"==c?"-=":"+=")+n,i.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),h.effects.restore(i,r),h.effects.removeWrapper(i),e()}})}}(jQuery),function(v){v.effects.effect.explode=function(t,e){function n(){m.push(this),m.length===c*u&&(h.css({visibility:"visible"}),v(m).remove(),d||h.hide(),e())}var i,r,o,s,a,l,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,u=c,h=v(this),d="show"===v.effects.setMode(h,t.mode||"hide"),f=h.show().css("visibility","hidden").offset(),p=Math.ceil(h.outerWidth()/u),g=Math.ceil(h.outerHeight()/c),m=[];for(i=0;i<c;i++)for(s=f.top+i*g,l=i-(c-1)/2,r=0;r<u;r++)o=f.left+r*p,a=r-(u-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*p,top:-i*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:g,left:o+(d?a*p:0),top:s+(d?l*g:0),opacity:d?0:1}).animate({left:o+(d?0:a*p),top:s+(d?0:l*g),opacity:d?1:0},t.duration||500,t.easing,n)}}(jQuery),function(r){r.effects.effect.fade=function(t,e){var n=r(this),i=r.effects.setMode(n,t.mode||"toggle");n.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:e})}}(jQuery),function(v){v.effects.effect.fold=function(t,e){var n,i,r=v(this),o=["position","top","bottom","left","right","height","width"],s=v.effects.setMode(r,t.mode||"hide"),a="show"===s,l="hide"===s,c=t.size||15,u=/([0-9]+)%/.exec(c),h=!!t.horizFirst,d=a!=h,f=d?["width","height"]:["height","width"],p=t.duration/2,g={},m={};v.effects.save(r,o),r.show(),n=v.effects.createWrapper(r).css({overflow:"hidden"}),i=d?[n.width(),n.height()]:[n.height(),n.width()],u&&(c=parseInt(u[1],10)/100*i[l?0:1]),a&&n.css(h?{height:0,width:c}:{height:c,width:0}),g[f[0]]=a?i[0]:c,m[f[1]]=a?i[1]:0,n.animate(g,p,t.easing).animate(m,p,t.easing,function(){l&&r.hide(),v.effects.restore(r,o),v.effects.removeWrapper(r),e()})}}(jQuery),function(s){s.effects.effect.highlight=function(t,e){var n=s(this),i=["backgroundImage","backgroundColor","opacity"],r=s.effects.setMode(n,t.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"===r&&(o.opacity=0),s.effects.save(n,i),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&n.hide(),s.effects.restore(n,i),e()}})}}(jQuery),function(f){f.effects.effect.pulsate=function(t,e){var n,i=f(this),r=f.effects.setMode(i,t.mode||"show"),o="show"===r,s="hide"===r,a=o||"hide"===r,l=2*(t.times||5)+(a?1:0),c=t.duration/l,u=0,h=i.queue(),d=h.length;for(!o&&i.is(":visible")||(i.css("opacity",0).show(),u=1),n=1;n<l;n++)i.animate({opacity:u},c,t.easing),u=1-u;i.animate({opacity:u},c,t.easing),i.queue(function(){s&&i.hide(),e()}),1<d&&h.splice.apply(h,[1,0].concat(h.splice(d,1+l))),i.dequeue()}}(jQuery),function(y){y.effects.effect.puff=function(t,e){var n=y(this),i=y.effects.setMode(n,t.mode||"hide"),r="hide"===i,o=parseInt(t.percent,10)||150,s=o/100,a={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};y.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:e,percent:r?o:100,from:r?a:{height:a.height*s,width:a.width*s,outerHeight:a.outerHeight*s,outerWidth:a.outerWidth*s}}),n.effect(t)},y.effects.effect.scale=function(t,e){var n=y(this),i=y.extend(!0,{},t),r=y.effects.setMode(n,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===r?0:100),s=t.direction||"both",a=t.origin,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c="horizontal"!==s?o/100:1,u="vertical"!==s?o/100:1;i.effect="size",i.queue=!1,i.complete=e,"effect"!==r&&(i.origin=a||["middle","center"],i.restore=!0),i.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:l),i.to={height:l.height*c,width:l.width*u,outerHeight:l.outerHeight*c,outerWidth:l.outerWidth*u},i.fade&&("show"===r&&(i.from.opacity=0,i.to.opacity=1),"hide"===r&&(i.from.opacity=1,i.to.opacity=0)),n.effect(i)},y.effects.effect.size=function(o,t){var e,n,s,a=y(this),i=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],r=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=y.effects.setMode(a,o.mode||"effect"),d=o.restore||"effect"!==h,f=o.scale||"both",p=o.origin||["middle","center"],g=a.css("position"),m=d?i:["position","top","bottom","left","right","overflow","opacity"],v={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&a.show(),e={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===o.mode&&"show"===h?(a.from=o.to||v,a.to=o.from||e):(a.from=o.from||("show"===h?v:e),a.to=o.to||("hide"===h?v:e)),s={from:{y:a.from.height/e.height,x:a.from.width/e.width},to:{y:a.to.height/e.height,x:a.to.width/e.width}},"box"!==f&&"both"!==f||(s.from.y!==s.to.y&&(m=m.concat(c),a.from=y.effects.setTransition(a,c,s.from.y,a.from),a.to=y.effects.setTransition(a,c,s.to.y,a.to)),s.from.x!==s.to.x&&(m=m.concat(u),a.from=y.effects.setTransition(a,u,s.from.x,a.from),a.to=y.effects.setTransition(a,u,s.to.x,a.to))),"content"!==f&&"both"!==f||s.from.y===s.to.y||(m=m.concat(r).concat(l),a.from=y.effects.setTransition(a,r,s.from.y,a.from),a.to=y.effects.setTransition(a,r,s.to.y,a.to)),y.effects.save(a,m),a.show(),y.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),p&&(n=y.effects.getBaseline(p,e),a.from.top=(e.outerHeight-a.outerHeight())*n.y,a.from.left=(e.outerWidth-a.outerWidth())*n.x,a.to.top=(e.outerHeight-a.to.outerHeight)*n.y,a.to.left=(e.outerWidth-a.to.outerWidth)*n.x),a.css(a.from),"content"!==f&&"both"!==f||(c=c.concat(["marginTop","marginBottom"]).concat(r),u=u.concat(["marginLeft","marginRight"]),l=i.concat(c).concat(u),a.find("*[width]").each(function(){var t=y(this),e=t.height(),n=t.width(),i=t.outerHeight(),r=t.outerWidth();d&&y.effects.save(t,l),t.from={height:e*s.from.y,width:n*s.from.x,outerHeight:i*s.from.y,outerWidth:r*s.from.x},t.to={height:e*s.to.y,width:n*s.to.x,outerHeight:e*s.to.y,outerWidth:n*s.to.x},s.from.y!==s.to.y&&(t.from=y.effects.setTransition(t,c,s.from.y,t.from),t.to=y.effects.setTransition(t,c,s.to.y,t.to)),s.from.x!==s.to.x&&(t.from=y.effects.setTransition(t,u,s.from.x,t.from),t.to=y.effects.setTransition(t,u,s.to.x,t.to)),t.css(t.from),t.animate(t.to,o.duration,o.easing,function(){d&&y.effects.restore(t,l)})})),a.animate(a.to,{queue:!1,duration:o.duration,easing:o.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===h&&a.hide(),y.effects.restore(a,m),d||("static"===g?a.css({position:"relative",top:a.to.top,left:a.to.left}):y.each(["top","left"],function(r,t){a.css(t,function(t,e){var n=parseInt(e,10),i=r?a.to.left:a.to.top;return"auto"===e?i+"px":n+i+"px"})})),y.effects.removeWrapper(a),t()}})}}(jQuery),function(y){y.effects.effect.shake=function(t,e){var n,i=y(this),r=["position","top","bottom","left","right","height","width"],o=y.effects.setMode(i,t.mode||"effect"),s=t.direction||"left",a=t.distance||20,l=t.times||3,c=2*l+1,u=Math.round(t.duration/c),h="up"===s||"down"===s?"top":"left",d="up"===s||"left"===s,f={},p={},g={},m=i.queue(),v=m.length;for(y.effects.save(i,r),i.show(),y.effects.createWrapper(i),f[h]=(d?"-=":"+=")+a,p[h]=(d?"+=":"-=")+2*a,g[h]=(d?"-=":"+=")+2*a,i.animate(f,u,t.easing),n=1;n<l;n++)i.animate(p,u,t.easing).animate(g,u,t.easing);i.animate(p,u,t.easing).animate(f,u/2,t.easing).queue(function(){"hide"===o&&i.hide(),y.effects.restore(i,r),y.effects.removeWrapper(i),e()}),1<v&&m.splice.apply(m,[1,0].concat(m.splice(v,1+c))),i.dequeue()}}(jQuery),function(h){h.effects.effect.slide=function(t,e){var n,i=h(this),r=["position","top","bottom","left","right","width","height"],o=h.effects.setMode(i,t.mode||"show"),s="show"===o,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a,u={};h.effects.save(i,r),i.show(),n=t.distance||i["top"==l?"outerHeight":"outerWidth"](!0),h.effects.createWrapper(i).css({overflow:"hidden"}),s&&i.css(l,c?isNaN(n)?"-"+n:-n:n),u[l]=(s?c?"+=":"-=":c?"-=":"+=")+n,i.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),h.effects.restore(i,r),h.effects.removeWrapper(i),e()}})}}(jQuery),function(d){d.effects.effect.transfer=function(t,e){var n=d(this),i=d(t.to),r="fixed"===i.css("position"),o=d("body"),s=r?o.scrollTop():0,a=r?o.scrollLeft():0,l=i.offset(),c={top:l.top-s,left:l.left-a,height:i.innerHeight(),width:i.innerWidth()},u=n.offset(),h=d('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:u.top-s,left:u.left-a,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){h.remove(),e()})}}(jQuery),function(l){var n=!1;l.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,l.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(t){var e=l(t.target).closest(".ui-menu-item");!n&&e.not(".ui-state-disabled").length&&(n=!0,this.select(t),e.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var e=l(t.currentTarget);e.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,e)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,n)},blur:function(t){this._delay(function(){l.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){l(t.target).closest(".ui-menu").length||this.collapseAll(t),n=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=l(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function e(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,i,r,o,s,a=!0;switch(t.keyCode){case l.ui.keyCode.PAGE_UP:this.previousPage(t);break;case l.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case l.ui.keyCode.HOME:this._move("first","first",t);break;case l.ui.keyCode.END:this._move("last","last",t);break;case l.ui.keyCode.UP:this.previous(t);break;case l.ui.keyCode.DOWN:this.next(t);break;case l.ui.keyCode.LEFT:this.collapse(t);break;case l.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case l.ui.keyCode.ENTER:case l.ui.keyCode.SPACE:this._activate(t);break;case l.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,i=this.previousFilter||"",r=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,s=new RegExp("^"+e(r),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(l(this).children("a").text())}),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(t.keyCode),s=new RegExp("^"+e(r),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(l(this).children("a").text())})),n.length?(this.focus(t,n),1<n.length?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}a&&t.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var t,i=this.options.icons.submenu,e=this.element.find(this.options.menus);e.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=l(this),e=t.prev("a"),n=l("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);e.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",e.attr("id"))}),(t=e.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=l(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!l.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,n,i,r,o,s;this._hasScroll()&&(e=parseFloat(l.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(l.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-n,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=t.height(),i<0?this.activeMenu.scrollTop(r+i):o<i+s&&this.activeMenu.scrollTop(r+i-o+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=l.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var t=n?this.element:l(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this.activeMenu=t},this.delay)},_close:function(t){(t=t||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(n,i)},nextPage:function(t){var e,n,i;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(e=l(this)).offset().top-n-i<0}),this.focus(t,e)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,n,i;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=l(this)).offset().top-n+i}),this.focus(t,e)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||l(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)}})}(jQuery),function(_){function C(t,e,n){return[parseInt(t[0],10)*(u.test(t[0])?e/100:1),parseInt(t[1],10)*(u.test(t[1])?n/100:1)]}function k(t,e){return parseInt(_.css(t,e),10)||0}_.ui=_.ui||{};var r,i,o,S=Math.max,D=Math.abs,E=Math.round,s=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+%?/,c=/^\w+/,u=/%$/,e=_.fn.position;_.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,e,n=_("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return _("body").append(n),t=i.offsetWidth,n.css("overflow","scroll"),t===(e=i.offsetWidth)&&(e=n[0].clientWidth),n.remove(),r=t-e},getScrollInfo:function(t){var e=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),i="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth,r="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:i?_.position.scrollbarWidth():0,height:r?_.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=_(t||window),n=_.isWindow(e[0]);return{element:e,isWindow:n,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:n?e.width():e.outerWidth(),height:n?e.height():e.outerHeight()}}},_.fn.position=function(h){if(!h||!h.of)return e.apply(this,arguments);h=_.extend({},h);var d,f,p,g,m,v=_(h.of),y=_.position.getWithinInfo(h.within),b=_.position.getScrollInfo(y),t=v[0],w=(h.collision||"flip").split(" "),x={};return g=9===t.nodeType?(f=v.width(),p=v.height(),{top:0,left:0}):_.isWindow(t)?(f=v.width(),p=v.height(),{top:v.scrollTop(),left:v.scrollLeft()}):t.preventDefault?(h.at="left top",f=p=0,{top:t.pageY,left:t.pageX}):(f=v.outerWidth(),p=v.outerHeight(),v.offset()),m=_.extend({},g),_.each(["my","at"],function(){var t,e,n=(h[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",t=l.exec(n[0]),e=l.exec(n[1]),x[this]=[t?t[0]:0,e?e[0]:0],h[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===h.at[0]?m.left+=f:"center"===h.at[0]&&(m.left+=f/2),"bottom"===h.at[1]?m.top+=p:"center"===h.at[1]&&(m.top+=p/2),d=C(x.at,f,p),m.left+=d[0],m.top+=d[1],this.each(function(){var n,t,s=_(this),a=s.outerWidth(),l=s.outerHeight(),e=k(this,"marginLeft"),i=k(this,"marginTop"),r=a+e+k(this,"marginRight")+b.width,o=l+i+k(this,"marginBottom")+b.height,c=_.extend({},m),u=C(x.my,s.outerWidth(),s.outerHeight());"right"===h.my[0]?c.left-=a:"center"===h.my[0]&&(c.left-=a/2),"bottom"===h.my[1]?c.top-=l:"center"===h.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],_.support.offsetFractions||(c.left=E(c.left),c.top=E(c.top)),n={marginLeft:e,marginTop:i},_.each(["left","top"],function(t,e){_.ui.position[w[t]]&&_.ui.position[w[t]][e](c,{targetWidth:f,targetHeight:p,elemWidth:a,elemHeight:l,collisionPosition:n,collisionWidth:r,collisionHeight:o,offset:[d[0]+u[0],d[1]+u[1]],my:h.my,at:h.at,within:y,elem:s})}),_.fn.bgiframe&&s.bgiframe(),h.using&&(t=function(t){var e=g.left-c.left,n=e+f-a,i=g.top-c.top,r=i+p-l,o={target:{element:v,left:g.left,top:g.top,width:f,height:p},element:{element:s,left:c.left,top:c.top,width:a,height:l},horizontal:n<0?"left":0<e?"right":"center",vertical:r<0?"top":0<i?"bottom":"middle"};f<a&&D(e+n)<f&&(o.horizontal="center"),p<l&&D(i+r)<p&&(o.vertical="middle"),S(D(e),D(n))>S(D(i),D(r))?o.important="horizontal":o.important="vertical",h.using.call(this,t,o)}),s.offset(_.extend(c,{using:t}))})},_.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=t.left-e.collisionPosition.marginLeft,a=r-s,l=s+e.collisionWidth-o-r;e.collisionWidth>o?0<a&&l<=0?(n=t.left+a+e.collisionWidth-o-r,t.left+=a-n):t.left=0<l&&a<=0?r:l<a?r+o-e.collisionWidth:r:0<a?t.left+=a:0<l?t.left-=l:t.left=S(t.left-s,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,s=t.top-e.collisionPosition.marginTop,a=r-s,l=s+e.collisionHeight-o-r;e.collisionHeight>o?0<a&&l<=0?(n=t.top+a+e.collisionHeight-o-r,t.top+=a-n):t.top=0<l&&a<=0?r:l<a?r+o-e.collisionHeight:r:0<a?t.top+=a:0<l?t.top-=l:t.top=S(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,a=r.isWindow?r.scrollLeft:r.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-a,u=l+e.collisionWidth-s-a,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((n=t.left+h+d+f+e.collisionWidth-s-o)<0||n<D(c))&&(t.left+=h+d+f):0<u&&(0<(i=t.left-e.collisionPosition.marginLeft+h+d+f-a)||D(i)<u)&&(t.left+=h+d+f)},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,a=r.isWindow?r.scrollTop:r.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-a,u=l+e.collisionHeight-s-a,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];c<0?(i=t.top+h+d+f+e.collisionHeight-s-o,t.top+h+d+f>c&&(i<0||i<D(c))&&(t.top+=h+d+f)):0<u&&(n=t.top-e.collisionPosition.marginTop+h+d+f-a,t.top+h+d+f>u&&(0<n||D(n)<u)&&(t.top+=h+d+f))}},flipfit:{left:function(){_.ui.position.flip.left.apply(this,arguments),_.ui.position.fit.left.apply(this,arguments)},top:function(){_.ui.position.flip.top.apply(this,arguments),_.ui.position.fit.top.apply(this,arguments)}}},function(){var t,e,n,i,r,o=document.getElementsByTagName("body")[0],s=document.createElement("div");for(r in t=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&_.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)t.style[r]=n[r];t.appendChild(s),(e=o||document.documentElement).insertBefore(t,e.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",i=_(s).offset().left,_.support.offsetFractions=10<i&&i<11,t.innerHTML="",e.removeChild(t)}(),!1!==_.uiBackCompat&&(i=jQuery,o=i.fn.position,i.fn.position=function(t){if(!t||!t.offset)return o.call(this,t);var e=t.offset.split(" "),n=t.at.split(" ");return 1===e.length&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),1===n.length&&(/left|center|right/.test(n[0])?n[1]="center":(n[1]=n[0],n[0]="center")),o.call(this,i.extend(t,{at:n[0]+e[0]+" "+n[1]+e[1],offset:void 0}))})}(jQuery),function(t){t.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this._value():(this._setOption("value",t),this)},_setOption:function(t,e){"value"===t&&(this.options.value=e,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(t,e)},_value:function(){var t=this.options.value;return"number"!=typeof t&&(t=0),Math.min(this.options.max,Math.max(this.min,t))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var t=this.value(),e=this._percentage();this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),this.valueDiv.toggle(t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(e.toFixed(0)+"%"),this.element.attr("aria-valuenow",t)}})}(jQuery),function(u){u.widget("ui.slider",u.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t,e,n=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=u([]),n.range&&(!0===n.range&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&2!==n.values.length&&(n.values=[n.values[0],n.values[0]])),this.range=u("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===n.range||"max"===n.range?" ui-slider-range-"+n.range:""))),e=n.values&&n.values.length||1,t=i.length;t<e;t++)r.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=i.add(u(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(t){t.preventDefault()}).mouseenter(function(){n.disabled||u(this).addClass("ui-state-hover")}).mouseleave(function(){u(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?u(this).blur():(u(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),u(this).addClass("ui-state-focus"))}).blur(function(){u(this).removeClass("ui-state-focus")}),this.handles.each(function(t){u(this).data("ui-slider-handle-index",t)}),this._on(this.handles,{keydown:function(t){var e,n,i,r=u(t.target).data("ui-slider-handle-index");switch(t.keyCode){case u.ui.keyCode.HOME:case u.ui.keyCode.END:case u.ui.keyCode.PAGE_UP:case u.ui.keyCode.PAGE_DOWN:case u.ui.keyCode.UP:case u.ui.keyCode.RIGHT:case u.ui.keyCode.DOWN:case u.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,u(t.target).addClass("ui-state-active"),!1===this._start(t,r)))return}switch(i=this.options.step,e=n=this.options.values&&this.options.values.length?this.values(r):this.value(),t.keyCode){case u.ui.keyCode.HOME:n=this._valueMin();break;case u.ui.keyCode.END:n=this._valueMax();break;case u.ui.keyCode.PAGE_UP:n=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/5);break;case u.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/5);break;case u.ui.keyCode.UP:case u.ui.keyCode.RIGHT:if(e===this._valueMax())return;n=this._trimAlignValue(e+i);break;case u.ui.keyCode.DOWN:case u.ui.keyCode.LEFT:if(e===this._valueMin())return;n=this._trimAlignValue(e-i)}this._slide(t,r,n)},keyup:function(t){var e=u(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),u(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var e,n,i,r,o,s,a,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(n-l.values(t));e<i&&(i=e,r=u(this),o=t)}),!0===c.range&&this.values(1)===c.min&&(o+=1,r=u(this.handles[o])),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,r.addClass("ui-state-active").focus(),s=r.offset(),a=!u(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:t.pageX-s.left-r.width()/2,top:t.pageY-s.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r;return 1<(n=("horizontal"===this.orientation?(e=this.elementSize.width,t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/e)&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),i=this._valueMax()-this._valueMin(),r=this._valueMin()+n*i,this._trimAlignValue(r)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i<n||1===e&&n<i)&&(n=i),n!==this.values(e)&&((r=this.values())[e]=n,o=this._trigger("slide",t,{handle:this.handles[e],value:n,values:r}),i=this.values(e?0:1),!1!==o&&this.values(e,n,!0))):n===this.value()||!1!==(o=this._trigger("slide",t,{handle:this.handles[e],value:n}))&&this.value(n)},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var n,i,r;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!u.isArray(t))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,i=t,r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(i[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,e){var n,i=0;switch(u.isArray(this.options.values)&&(i=this.options.values.length),u.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":e?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<i;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=0<n?e:-e),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,n,t,i,r,o=this.options.range,s=this.options,a=this,l=!this._animateOff&&s.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(t){n=(a.values(t)-a._valueMin())/(a._valueMax()-a._valueMin())*100,c["horizontal"===a.orientation?"left":"bottom"]=n+"%",u(this).stop(1,1)[l?"animate":"css"](c,s.animate),!0===a.options.range&&("horizontal"===a.orientation?(0===t&&a.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},s.animate),1===t&&a.range[l?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===t&&a.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},s.animate),1===t&&a.range[l?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n}):(t=this.value(),i=this._valueMin(),r=this._valueMax(),n=r!==i?(t-i)/(r-i)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](c,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))}})}(jQuery),function(o){function e(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}o.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i={},r=this.element;return o.each(["min","max","step"],function(t,e){var n=r.attr(e);void 0!==n&&n.length&&(i[e]=n)}),i},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e)return!(!this.spinning&&!this._start(t))&&(this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),void t.preventDefault())},"mousedown .ui-spinner-button":function(t){function e(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),e.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,e.call(this)}),!1!==this._start(t)&&this._repeat(null,o(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(o(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,o(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&0<t.height()&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(t){var e=this.options,n=o.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,e.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?o.isFunction(e)?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var n=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(n))}"max"!==t&&"min"!==t&&"step"!==t||"string"!=typeof e||(e=this._parse(e)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var n;""===t||null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._spin((t||1)*this.options.step)},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._spin((t||1)*-this.options.step)},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());e(this._value).call(this,t)},widget:function(){return this.uiSpinner}})}(jQuery),function(c,l){function n(){return++t}function u(t){return 1<t.hash.length&&t.href.replace(e,"")===location.href.replace(e,"").replace(/\s/g,"%20")}var i,t=0,e=/#.*$/;c.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,t=this.options,n=t.active,i=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){c(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){c(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===n&&(i&&this.tabs.each(function(t,e){if(c(e).attr("aria-controls")===i)return n=t,!1}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==n&&-1!==n||(n=!!this.tabs.length&&0)),!1===n||-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!t.collapsible&&0),t.active=n,!t.collapsible&&!1===t.active&&this.anchors.length&&(t.active=0),c.isArray(t.disabled)&&(t.disabled=c.unique(t.disabled.concat(c.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=c(),this._refresh(),this.active.length&&this.load(t.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):c()}},_tabKeydown:function(t){var e=c(this.document[0].activeElement).closest("li"),n=this.tabs.index(e),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:n++;break;case c.ui.keyCode.UP:case c.ui.keyCode.LEFT:i=!1,n--;break;case c.ui.keyCode.END:n=this.anchors.length-1;break;case c.ui.keyCode.HOME:n=0;break;case c.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case c.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),t.ctrlKey||(e.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===c.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===c.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===c.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){for(var n=this.tabs.length-1;-1!==c.inArray((n<t&&(t=0),t<0&&(t=n),t),this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){"active"!==t?"disabled"!==t?(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._setupDisabled(e):this._activate(e)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+n()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=c.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!c.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=c()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=c()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return c("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=c(),this.anchors.each(function(t,e){var n,i,r,o=c(e).uniqueId().attr("id"),s=c(e).closest("li"),a=s.attr("aria-controls");u(e)?(n=e.hash,i=l.element.find(l._sanitizeSelector(n))):(n="#"+(r=l._tabId(s)),(i=l.element.find(n)).length||(i=l._createPanel(r)).insertAfter(l.panels[t-1]||l.tablist),i.attr("aria-live","polite")),i.length&&(l.panels=l.panels.add(i)),a&&s.data("ui-tabs-aria-controls",a),s.attr({"aria-controls":n.substring(1),"aria-labelledby":o}),i.attr("aria-labelledby",o)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return c("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){c.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var e,n=0;e=this.tabs[n];n++)!0===t||-1!==c.inArray(n,t)?c(e).addClass("ui-state-disabled").attr("aria-disabled","true"):c(e).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={click:function(t){t.preventDefault()}};t&&c.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,e,i=this.element.parent();"fill"===t?(c.support.minHeight||(e=i.css("overflow"),i.css("overflow","hidden")),n=i.height(),this.element.siblings(":visible").each(function(){var t=c(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),e&&i.css("overflow",e),this.element.children().not(this.panels).each(function(){n-=c(this).outerHeight(!0)}),this.panels.each(function(){c(this).height(Math.max(0,n-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,c(this).height("").height())}).height(n))},_eventHandler:function(t){var e=this.options,n=this.active,i=c(t.currentTarget).closest("li"),r=i[0]===n[0],o=r&&e.collapsible,s=o?c():this._getPanelForTab(i),a=n.length?this._getPanelForTab(n):c(),l={oldTab:n,oldPanel:a,newTab:o?c():i,newPanel:s};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||r&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!o&&this.tabs.index(i),this.active=r?c():i,this.xhr&&this.xhr.abort(),a.length||s.length||c.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(i),t),this._toggle(t,l))},_toggle:function(t,e){function n(){r.running=!1,r._trigger("activate",t,e)}function i(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&r.options.show?r._show(o,r.options.show,n):(o.show(),n())}var r=this,o=e.newPanel,s=e.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()}):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),i()),s.attr({"aria-expanded":"false","aria-hidden":"true"}),e.oldTab.attr("aria-selected","false"),o.length&&s.length?e.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),e.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var e,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),e=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:c.noop}))},_findActive:function(t){return!1===t?c():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){c.data(this,"ui-tabs-destroy")?c(this).remove():c(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=c(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var t=this.options.disabled;!1!==t&&(t=n!==l&&(n=this._getIndex(n),c.isArray(t)?c.map(t,function(t){return t!==n?t:null}):c.map(this.tabs,function(t,e){return e!==n?e:null})),this._setupDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(t===l)e=!0;else{if(t=this._getIndex(t),-1!==c.inArray(t,e))return;e=c.isArray(e)?c.merge([t],e).sort():[t]}this._setupDisabled(e)}},load:function(t,e){t=this._getIndex(t);var n=this,i=this.tabs.eq(t),r=i.find(".ui-tabs-anchor"),o=this._getPanelForTab(i),s={tab:i,panel:o};u(r[0])||(this.xhr=c.ajax(this._ajaxSettings(r,e,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(i.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){o.html(t),n._trigger("load",e,s)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href"),beforeSend:function(t,e){return r._trigger("beforeLoad",n,c.extend({jqXHR:t,ajaxSettings:e},i))}}},_getPanelForTab:function(t){var e=c(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}}),!1!==c.uiBackCompat&&(c.ui.tabs.prototype._ui=function(t,e){return{tab:t,panel:e,index:this.anchors.index(t)}},c.widget("ui.tabs",c.ui.tabs,{url:function(t,e){this.anchors.eq(t).attr("href",e)}}),c.widget("ui.tabs",c.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var n=this;this._on({tabsbeforeload:function(t,e){c.data(e.tab[0],"cache.tabs")?t.preventDefault():e.jqXHR.success(function(){n.options.cache&&c.data(e.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(t,e,n){var i=this.options.ajaxOptions;return c.extend({},i,{error:function(t,e){try{i.error(t,e,n.tab.closest("li").index(),n.tab[0])}catch(t){}}},this._superApply(arguments))},_setOption:function(t,e){"cache"===t&&!1===e&&this.anchors.removeData("cache.tabs"),this._super(t,e)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(t){this.anchors.eq(t).removeData("cache.tabs"),this._superApply(arguments)}}),c.widget("ui.tabs",c.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),c.widget("ui.tabs",c.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(t,e){if(t.target===this.element[0]&&this.options.spinner){var n=e.tab.find("span"),i=n.html();n.html(this.options.spinner),e.jqXHR.complete(function(){n.html(i)})}}})}}),c.widget("ui.tabs",c.ui.tabs,{options:{enable:null,disable:null},enable:function(t){var e,n=this.options;(t&&!0===n.disabled||c.isArray(n.disabled)&&-1!==c.inArray(t,n.disabled))&&(e=!0),this._superApply(arguments),e&&this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t]))},disable:function(t){var e,n=this.options;(t&&!1===n.disabled||c.isArray(n.disabled)&&-1===c.inArray(t,n.disabled))&&(e=!0),this._superApply(arguments),e&&this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))}}),c.widget("ui.tabs",c.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(t,e,n){n===l&&(n=this.anchors.length);var i,r,o=this.options,s=c(o.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,e)),a=t.indexOf("#")?this._tabId(s):t.replace("#","");return s.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),s.attr("aria-controls",a),i=n>=this.tabs.length,(r=this.element.find("#"+a)).length||(r=this._createPanel(a),i?0<n?r.insertAfter(this.panels.eq(-1)):r.appendTo(this.element):r.insertBefore(this.panels[n])),r.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),i?s.appendTo(this.tablist):s.insertBefore(this.tabs[n]),o.disabled=c.map(o.disabled,function(t){return n<=t?++t:t}),this.refresh(),1===this.tabs.length&&!1===o.active&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[n],this.panels[n])),this},remove:function(e){e=this._getIndex(e);var t=this.options,n=this.tabs.eq(e).remove(),i=this._getPanelForTab(n).remove();return n.hasClass("ui-tabs-active")&&2<this.anchors.length&&this._activate(e+(e+1<this.anchors.length?1:-1)),t.disabled=c.map(c.grep(t.disabled,function(t){return t!==e}),function(t){return e<=t?--t:t}),this.refresh(),this._trigger("remove",null,this._ui(n.find("a")[0],i[0])),this}}),c.widget("ui.tabs",c.ui.tabs,{length:function(){return this.anchors.length}}),c.widget("ui.tabs",c.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(t){var e=t.is("li")?t.find("a[href]"):t;return e=e[0],c(e).closest("li").attr("aria-controls")||e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+n()}}),c.widget("ui.tabs",c.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(t){return c(this.options.panelTemplate).attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),c.widget("ui.tabs",c.ui.tabs,{_create:function(){var t=this.options;null===t.active&&t.selected!==l&&(t.active=-1!==t.selected&&t.selected),this._super(),t.selected=t.active,!1===t.selected&&(t.selected=-1)},_setOption:function(t,e){if("selected"!==t)return this._super(t,e);var n=this.options;this._super("active",-1!==e&&e),n.selected=n.active,!1===n.selected&&(n.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,!1===this.options.selected&&(this.options.selected=-1)}}),c.widget("ui.tabs",c.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),!1!==this.options.active&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(t,e,n){var i,r,o=this._superApply(arguments);return!!o&&("beforeActivate"===t?(i=n.newTab.length?n.newTab:n.oldTab,r=n.newPanel.length?n.newPanel:n.oldPanel,o=this._super("select",e,{tab:i.find(".ui-tabs-anchor")[0],panel:r[0],index:i.closest("li").index()})):"activate"===t&&n.newTab.length&&(o=this._super("show",e,{tab:n.newTab.find(".ui-tabs-anchor")[0],panel:n.newPanel[0],index:n.newTab.closest("li").index()})),o)}}),c.widget("ui.tabs",c.ui.tabs,{select:function(t){if(-1===(t=this._getIndex(t))){if(!this.options.collapsible||-1===this.options.selected)return;t=this.options.selected}this.anchors.eq(t).trigger(this.options.event+this.eventNamespace)}}),i=0,c.widget("ui.tabs",c.ui.tabs,{options:{cookie:null},_create:function(){var t,e=this.options;null==e.active&&e.cookie&&(-1===(t=parseInt(this._cookie(),10))&&(t=!1),e.active=t),this._super()},_cookie:function(t){var e=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++i)];return arguments.length&&(e.push(!1===t?-1:t),e.push(this.options.cookie)),c.cookie.apply(null,e)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}}),c.widget("ui.tabs",c.ui.tabs,{_trigger:function(t,e,n){var i=c.extend({},n);return"load"===t&&(i.panel=i.panel[0],i.tab=i.tab.find(".ui-tabs-anchor")[0]),this._super(t,e,i)}}),c.widget("ui.tabs",c.ui.tabs,{options:{fx:null},_getFx:function(){var t,e,n=this.options.fx;return n&&(c.isArray(n)?(t=n[0],e=n[1]):t=e=n),n?{show:e,hide:t}:null},_toggle:function(t,e){function n(){r.running=!1,r._trigger("activate",t,e)}function i(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.show?o.animate(a.show,a.show.duration,function(){n()}):(o.show(),n())}var r=this,o=e.newPanel,s=e.oldPanel,a=this._getFx();if(!a)return this._super(t,e);r.running=!0,s.length&&a.hide?s.animate(a.hide,a.hide.duration,function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()}):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),i())}}))}(jQuery),function(l){var i=0;l.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return l(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,e){var n=this;if("disabled"===t)return this[e?"_disable":"_enable"](),void(this.options[t]=e);this._super(t,e),"content"===t&&l.each(this.tooltips,function(t,e){n._updateContent(e)})},_disable:function(){var i=this;l.each(this.tooltips,function(t,e){var n=l.Event("blur");n.target=n.currentTarget=e[0],i.close(n,!0)}),this.element.find(this.options.items).andSelf().each(function(){var t=l(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var t=l(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,e=l(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=l(this);e.data("ui-tooltip-open")&&((t=l.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),e.attr("title")&&(e.uniqueId(),n.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._updateContent(e,t))},_updateContent:function(e,n){var t,i=this.options.content,r=this,o=n?n.type:null;if("string"==typeof i)return this._open(n,e,i);(t=i.call(e[0],function(t){e.data("ui-tooltip-open")&&r._delay(function(){n&&(n.type=o),this._open(n,e,t)})}))&&this._open(n,e,t)},_open:function(t,n,e){function i(t){a.of=t,r.is(":hidden")||r.position(a)}var r,o,s,a=l.extend({},this.options.position);e&&((r=this._find(n)).length?r.find(".ui-tooltip-content").html(e):(n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),function(t,e){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(e),t.data("ui-tooltip-id",e).attr("aria-describedby",l.trim(n.join(" ")))}(n,r.attr("id")),r.find(".ui-tooltip-content").html(e),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:i}),i(t)):r.position(l.extend({of:n},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(s=setInterval(function(){r.is(":visible")&&(i(a.of),clearInterval(s))},l.fx.interval)),this._trigger("open",t,{tooltip:r}),o={keyup:function(t){if(t.keyCode===l.ui.keyCode.ESCAPE){var e=l.Event(t);e.currentTarget=n[0],this.close(e,!0)}},remove:function(){this._removeTooltip(r)}},t&&"mouseover"!==t.type||(o.mouseleave="close"),t&&"focusin"!==t.type||(o.focusout="close"),this._on(!0,n,o)))},close:function(t){var n=this,e=l(t?t.currentTarget:this.element),i=this._find(e);this.closing||(e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title")),function(t){var e=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),i=l.inArray(e,n);-1!==i&&n.splice(i,1),t.removeData("ui-tooltip-id"),(n=l.trim(n.join(" ")))?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")}(e),i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(l(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&l.each(this.parents,function(t,e){l(e.element).attr("title",e.title),delete n.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:i}),this.closing=!1)},_tooltip:function(t){var e="ui-tooltip-"+i++,n=l("<div>").attr({id:e,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return l("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),l.fn.bgiframe&&n.bgiframe(),this.tooltips[e]=t,n},_find:function(t){var e=t.data("ui-tooltip-id");return e?l("#"+e):l()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var i=this;l.each(this.tooltips,function(t,e){var n=l.Event("blur");n.target=n.currentTarget=e[0],i.close(n,!0),l("#"+t).remove(),e.data("ui-tooltip-title")&&(e.attr("title",e.data("ui-tooltip-title")),e.removeData("ui-tooltip-title"))})}})}(jQuery),angular.module("ui.date",[]).constant("uiDateConfig",{}).directive("uiDate",["uiDateConfig","$timeout",function(n,c){"use strict";var t;return t={},angular.extend(t,n),{require:"?ngModel",link:function(s,a,t,l){function e(){return angular.extend({},n,s.$eval(t.uiDate))}s.$watch(e,function(){var t=e();if(l){var n=l.$setViewValue,i=!1;l.$setViewValue=function(t){i||(i=!0,angular.isDate(t)?(a.datepicker("setDate",t),n.call(l,t)):n.call(l,null),c(function(){i=!1}))},a.on("blur",function(){var t,e=!0;if(!l.$viewValue&&a.val()){try{t=$.datepicker.parseDate(a.datepicker("option","dateFormat"),a.val())}catch(t){e=!1}e&&(a.datepicker("setDate",a.val()),t=a.datepicker("getDate"),angular.isDate(t)&&t?n.call(l,t):e=!1)}l.$setValidity(l.$name,e)});var r=t.onSelect||angular.noop;t.onSelect=function(t,e){s.$apply(function(){l.$setViewValue(a.datepicker("getDate")),r(t,e),a.blur()})};var o=t.beforeShow||angular.noop;t.beforeShow=function(t,e){return!i&&o(t,e)},l.$render=function(){var t=l.$viewValue;if(angular.isDefined(t)&&null!==t&&!angular.isDate(t))throw new Error("ng-Model value must be a Date object - currently it is a "+typeof t+" - use ui-date-format to convert it from a string");a.datepicker("setDate",t)}}a.datepicker("destroy"),a.datepicker(t),l&&l.$render()},!0)}}}]).constant("uiDateFormatConfig","").directive("uiDateFormat",["uiDateFormatConfig",function(o){return{require:"ngModel",link:function(t,e,n,i){var r=n.uiDateFormat||o;r?(i.$formatters.push(function(t){return angular.isString(t)?jQuery.datepicker.parseDate(r,t):null}),i.$parsers.push(function(t){return angular.isDate(t)?jQuery.datepicker.formatDate(r,t):null})):(i.$formatters.push(function(t){return angular.isString(t)?new Date(t):null}),i.$parsers.push(function(t){return t?t.toISOString():null}))}}}]),function(t,e){"function"==typeof define&&define.amd?define(["angular","jquery-minicolors"],e):"object"==typeof exports?(module.exports=e(require("angular"),require("jquery-minicolors")),module.exports="minicolors"):t.angularMinicolors=e(t.angular,t.jqueryMinicolors)}(this,function(f){f.module("minicolors",[]),f.module("minicolors").provider("minicolors",function(){this.defaults={theme:"bootstrap",position:"top left",defaultValue:"",animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,show:null,showSpeed:100},this.$get=function(){return this}}),f.module("minicolors").directive("minicolors",["minicolors","$timeout","PantoneConfig",function(u,h,d){return{require:"?ngModel",restrict:"A",scope:{applycolor:"&",selectedhex:"="},priority:1,link:function(i,n,t,r){function o(){return f.extend({},u.defaults,i.$eval(t.minicolors))}var s=!1;function a(t){return/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t)}function l(t){a(t)&&null!=n.data("minicolors-settings")&&n.minicolors("value",t)}r.$render=function(){h(function(){l(r.$viewValue)},0,!1)};var c=function(){if(r){var t=o();if(t.change=function(t){i.$apply(function(){a(t)&&r.$setViewValue(t)})},t.applyColor=function(t){i.applycolor()},t.applyPantoneColor=function(t){var e={color:t.args.trim()};if(e.color)if(/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e.color))i.$apply(function(){a(e.color)&&(l(e.color),r.$setViewValue(e.color))}),i.applycolor();else{var n=d.convertPantoneToHex(e.color);n&&(i.$apply(function(){a(n)&&(l(n),r.$setViewValue(n))}),i.applycolor())}c()},t.changeColor=function(t){l(t),i.$apply(function(){a(t)&&r.$setViewValue(t)})},n.hasClass("minicolors-input")&&(n.minicolors("destroy"),n.off("blur",e)),t.selectedhex=i.selectedhex,n.minicolors(t),n.on("blur",e),!s)return h(function(){l(r.$viewValue)},0),void(s=!0)}function e(t){i.$apply(function(){var t=n.minicolors("value");a(t)&&r.$setViewValue(t)})}};c();var e=i.$watch(o,c,!0);i.$on("$destroy",function(){n.hasClass("minicolors-input")&&(n.minicolors("destroy"),n.remove()),e&&e()})}}}])}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(x){"use strict";function n(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function i(t){var e=t.parent(),n=e.find(".minicolors-panel"),i=t.data("minicolors-settings");i.selectedhex&&x(".colorpicker-input").val(i.selectedhex),!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(c(),e.addClass("minicolors-focus"),n.stop(!0,!0).fadeIn(i.showSpeed,function(){i.show&&i.show.call(t.get(0))}))}function c(){x(".minicolors-focus").each(function(){var t=x(this),e=t.find(".minicolors-input"),n=t.find(".minicolors-panel"),i=e.data("minicolors-settings");n.fadeOut(i.hideSpeed,function(){i.hide&&i.hide.call(e.get(0)),t.removeClass("minicolors-focus")})})}function r(t,e,n){var i,r,o,s,a=t.parents(".minicolors").find(".minicolors-input"),l=a.data("minicolors-settings"),c=t.find("[class$=-picker]"),u=t.offset().left,h=t.offset().top,d=Math.round(e.pageX-u),f=Math.round(e.pageY-h),p=n?l.animationSpeed:0;e.originalEvent.changedTouches&&(d=e.originalEvent.changedTouches[0].pageX-u,f=e.originalEvent.changedTouches[0].pageY-h),d<0&&(d=0),f<0&&(f=0),d>t.width()&&(d=t.width()),f>t.height()&&(f=t.height()),t.parent().is(".minicolors-slider-wheel")&&c.parent().is(".minicolors-grid")&&(i=75-d,r=75-f,o=Math.sqrt(i*i+r*r),(s=Math.atan2(r,i))<0&&(s+=2*Math.PI),75<o&&(d=(o=75)-75*Math.cos(s),f=75-75*Math.sin(s)),d=Math.round(d),f=Math.round(f)),t.is(".minicolors-grid")?c.stop(!0).animate({top:f+"px",left:d+"px"},p,l.animationEasing,function(){g(a,t)}):c.stop(!0).animate({top:f+"px"},p,l.animationEasing,function(){g(a,t)})}function g(t,e){function n(t,e){var n,i;return t.length&&e?(n=t.offset().left,i=t.offset().top,{x:n-e.offset().left+t[0].offsetWidth/2,y:i-e.offset().top+t[0].offsetWidth/2}):null}var i,r,o,s,a,l,c,u=t.val(),h=t.attr("data-opacity"),d=t.parent(),f=t.data("minicolors-settings"),p=d.find(".minicolors-input-swatch"),g=d.find(".minicolors-grid"),m=d.find(".minicolors-slider"),v=d.find(".minicolors-opacity-slider"),y=g.find("[class$=-picker]"),b=m.find("[class$=-picker]"),w=v.find("[class$=-picker]"),x=n(y,g),_=n(b,m),C=n(w,v);if(e.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(f.control){case"wheel":s=g.width()/2-x.x,a=g.height()/2-x.y,l=Math.sqrt(s*s+a*a),(c=Math.atan2(a,s))<0&&(c+=2*Math.PI),75<l&&(l=75,x.x=69-75*Math.cos(c),x.y=69-75*Math.sin(c)),r=T(l/.75,0,100),u=A({h:i=T(180*c/Math.PI,0,360),s:r,b:o=T(100-Math.floor(_.y*(100/m.height())),0,100)}),m.css("backgroundColor",A({h:i,s:r,b:100}));break;case"saturation":u=A({h:i=T(parseInt(x.x*(360/g.width()),10),0,360),s:r=T(100-Math.floor(_.y*(100/m.height())),0,100),b:o=T(100-Math.floor(x.y*(100/g.height())),0,100)}),m.css("backgroundColor",A({h:i,s:100,b:o})),d.find(".minicolors-grid-inner").css("opacity",r/100);break;case"brightness":u=A({h:i=T(parseInt(x.x*(360/g.width()),10),0,360),s:r=T(100-Math.floor(x.y*(100/g.height())),0,100),b:o=T(100-Math.floor(_.y*(100/m.height())),0,100)}),m.css("backgroundColor",A({h:i,s:r,b:100})),d.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:u=A({h:i=T(360-parseInt(_.y*(360/m.height()),10),0,360),s:r=T(Math.floor(x.x*(100/g.width())),0,100),b:o=T(100-Math.floor(x.y*(100/g.height())),0,100)}),g.css("backgroundColor",A({h:i,s:100,b:100}))}k(t,u,h=f.opacity?parseFloat(1-C.y/v.height()).toFixed(2):1)}else p.find("span").css({backgroundColor:u,opacity:h}),S(t,u,h)}function k(t,e,n){var i,r=t.parent(),o=t.data("minicolors-settings"),s=r.find(".minicolors-input-swatch");o.opacity&&t.attr("data-opacity",n),e="rgb"===o.format?(i=M(e)?D(e,!0):P(C(e,!0)),n=""===t.attr("data-opacity")?1:T(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),!isNaN(n)&&o.opacity||(n=1),t.minicolors("rgbObject").a<=1&&i&&o.opacity?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(n)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"):(M(e)&&(e=N(e)),_(e,o.letterCase)),t.val(e),s.find("span").css({backgroundColor:e,opacity:n}),S(t,e,n)}function u(t,e){var n,i,r,o,s,a,l,c,u,h,d=t.parent(),f=t.data("minicolors-settings"),p=d.find(".minicolors-input-swatch"),g=d.find(".minicolors-grid"),m=d.find(".minicolors-slider"),v=d.find(".minicolors-opacity-slider"),y=g.find("[class$=-picker]"),b=m.find("[class$=-picker]"),w=v.find("[class$=-picker]");switch(M(t.val())?(n=N(t.val()),(s=T(parseFloat($(t.val())).toFixed(2),0,1))&&t.attr("data-opacity",s)):n=_(C(t.val(),!0),f.letterCase),i=function(t){var e=function(t){var e={h:0,s:0,b:0},n=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),r=i-n;e.b=i,e.s=0!==i?255*r/i:0,0!==e.s?t.r===i?e.h=(t.g-t.b)/r:t.g===i?e.h=2+(t.b-t.r)/r:e.h=4+(t.r-t.g)/r:e.h=-1;e.h*=60,e.h<0&&(e.h+=360);return e.s*=100/255,e.b*=100/255,e}(P(t));0===e.s&&(e.h=360);return e}(n=n||_(E(f.defaultValue,!0),f.letterCase)),o=f.keywords?x.map(f.keywords.split(","),function(t){return x.trim(t.toLowerCase())}):[],a=""!==t.val()&&-1<x.inArray(t.val().toLowerCase(),o)?_(t.val()):M(t.val())?D(t.val()):n,e||t.val(a),f.opacity&&(r=""===t.attr("data-opacity")?1:T(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(r)&&(r=1),t.attr("data-opacity",r),p.find("span").css("opacity",r),c=T(v.height()-v.height()*r,0,v.height()),w.css("top",c+"px")),"transparent"===t.val().toLowerCase()&&p.find("span").css("opacity",0),p.find("span").css("backgroundColor",n),f.control){case"wheel":u=T(Math.ceil(.75*i.s),0,g.height()/2),h=i.h*Math.PI/180,l=T(75-Math.cos(h)*u,0,g.width()),c=T(75-Math.sin(h)*u,0,g.height()),y.css({top:c+"px",left:l+"px"}),c=150-i.b/(100/g.height()),""===n&&(c=0),b.css("top",c+"px"),m.css("backgroundColor",A({h:i.h,s:i.s,b:100}));break;case"saturation":l=T(5*i.h/12,0,150),c=T(g.height()-Math.ceil(i.b/(100/g.height())),0,g.height()),y.css({top:c+"px",left:l+"px"}),c=T(m.height()-i.s*(m.height()/100),0,m.height()),b.css("top",c+"px"),m.css("backgroundColor",A({h:i.h,s:100,b:i.b})),d.find(".minicolors-grid-inner").css("opacity",i.s/100);break;case"brightness":l=T(5*i.h/12,0,150),c=T(g.height()-Math.ceil(i.s/(100/g.height())),0,g.height()),y.css({top:c+"px",left:l+"px"}),c=T(m.height()-i.b*(m.height()/100),0,m.height()),b.css("top",c+"px"),m.css("backgroundColor",A({h:i.h,s:i.s,b:100})),d.find(".minicolors-grid-inner").css("opacity",1-i.b/100);break;default:l=T(Math.ceil(i.s/(100/g.width())),0,g.width()),c=T(g.height()-Math.ceil(i.b/(100/g.height())),0,g.height()),y.css({top:c+"px",left:l+"px"}),c=T(m.height()-i.h/(360/m.height()),0,m.height()),b.css("top",c+"px"),g.css("backgroundColor",A({h:i.h,s:100,b:100}))}t.data("minicolors-initialized")}function S(t,e,n){var i,r,o,s=t.data("minicolors-settings"),a=t.data("minicolors-lastChange");if(!a||a.value!==e||a.opacity!==n){if(t.data("minicolors-lastChange",{value:e,opacity:n}),s.swatches&&0!==s.swatches.length){for(i=M(e)?D(e,!0):P(e),r=-1,o=0;o<s.swatches.length;++o)if(i.r===s.swatches[o].r&&i.g===s.swatches[o].g&&i.b===s.swatches[o].b&&i.a===s.swatches[o].a){r=o;break}t.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==r&&t.parent().find(".minicolors-swatches .minicolors-swatch").eq(o).addClass("selected")}x(".btnApplyColor").on("click",function(){s.applyColor&&s.applyColor.call()}),x(".colorpicker-input").on("change",function(){s.changeColor&&s.changeColor.call(t.get(0),this.value,n)}),s.change&&(s.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout(function(){s.change.call(t.get(0),e,n)},s.changeDelay))):s.change.call(t.get(0),e,n),x(".colorpicker-input").val(e)),t.trigger("change").trigger("input")}}function _(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function C(t,e){return(t=t.replace(/^#/g,"")).match(/^[A-F0-9]{3,6}/gi)?3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t):""}function D(t,e){var n=t.replace(/[^\d,.]/g,"").split(",");return n[0]=T(parseInt(n[0],10),0,255),n[1]=T(parseInt(n[1],10),0,255),n[2]=T(parseInt(n[2],10),0,255),n[3]&&(n[3]=T(parseFloat(n[3],10),0,1)),e?n[3]?{r:n[0],g:n[1],b:n[2],a:n[3]}:{r:n[0],g:n[1],b:n[2]}:void 0!==n[3]&&n[3]<=1?"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")":"rgb("+n[0]+", "+n[1]+", "+n[2]+")"}function E(t,e){return M(t)?D(t):C(t,e)}function T(t,e,n){return t<e&&(t=e),n<t&&(t=n),t}function M(t){var e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!e||4!==e.length)}function $(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===t.length?t[4]:"1"}function N(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}function h(t){var n=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return x.each(n,function(t,e){1===e.length&&(n[t]="0"+e)}),"#"+n.join("")}function A(t){return h(function(t){var e={},n=Math.round(t.h),i=Math.round(255*t.s/100),r=Math.round(255*t.b/100);if(0===i)e.r=e.g=e.b=r;else{var o=r,s=(255-i)*r/255,a=n%60*(o-s)/60;360===n&&(n=0),n<60?(e.r=o,e.b=s,e.g=s+a):n<120?(e.g=o,e.b=s,e.r=o-a):n<180?(e.g=o,e.r=s,e.b=s+a):n<240?(e.b=o,e.r=s,e.g=o-a):n<300?(e.b=o,e.g=s,e.r=s+a):n<360?(e.r=o,e.g=s,e.b=o-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}(t))}function P(t){return{r:(t=parseInt(-1<t.indexOf("#")?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}}x.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},x.extend(x.fn,{minicolors:function(t,e){switch(t){case"destroy":return x(this).each(function(){n(x(this))}),x(this);case"hide":return c(),x(this);case"opacity":return void 0===e?x(this).attr("data-opacity"):(x(this).each(function(){u(x(this).attr("data-opacity",e))}),x(this));case"rgbObject":return function(t){var e,n=x(t).attr("data-opacity");if(M(x(t).val()))e=D(x(t).val(),!0);else{var i=C(x(t).val(),!0);e=P(i)}if(!e)return null;void 0!==n&&x.extend(e,{a:parseFloat(n)});return e}(x(this));case"rgbString":case"rgbaString":return function(t,e){var n,i=x(t).attr("data-opacity");if(M(x(t).val()))n=D(x(t).val(),!0);else{var r=C(x(t).val(),!0);n=P(r)}if(!n)return null;void 0===i&&(i=1);return e?"rgba("+n.r+", "+n.g+", "+n.b+", "+parseFloat(i)+")":"rgb("+n.r+", "+n.g+", "+n.b+")"}(x(this),"rgbaString"===t);case"settings":return void 0===e?x(this).data("minicolors-settings"):(x(this).each(function(){var t=x(this).data("minicolors-settings")||{};n(x(this)),x(this).minicolors(x.extend(!0,t,e))}),x(this));case"show":return i(x(this).eq(0)),x(this);case"value":return void 0===e?x(this).val():(x(this).each(function(){"object"==typeof e&&"null"!==e?(e.opacity&&x(this).attr("data-opacity",T(e.opacity,0,1)),e.color&&x(this).val(e.color)):x(this).val(e),u(x(this))}),x(this));default:return"create"!==t&&(e=t),x(this).each(function(){!function(e,i){var t,n,r,o,s,a=x('<div class="minicolors" />'),l=x.minicolors.defaults;if(e.data("minicolors-initialized"))return;i=x.extend(!0,{},l,i),a.addClass("minicolors-theme-"+i.theme).toggleClass("minicolors-with-opacity",i.opacity),void 0!==i.position&&x.each(i.position.split(" "),function(){a.addClass("minicolors-position-"+this)});t="rgb"===i.format?i.opacity?"25":"20":i.keywords?"11":"7";e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",i).prop("size",t).wrap(a).after('<div class="minicolors-panel minicolors-slider-'+i.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div><div class="colorpicker-apply"><input type="text"  class="colorpicker-input"><button type="button" ng-click="applycolor()" class="btnApplyColor" style="cursor:pointer">Apply</button></div></div>'),i.inline||(e.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span><i class="fa fa-caret-down custom-arrow-botton"></i></span>'),e.next(".minicolors-input-swatch").on("click",function(t){t.preventDefault(),e.focus()}));if((o=e.parent().find(".minicolors-panel")).on("selectstart",function(){return!1}).end(),x(".btnApplyColor").on("click",function(t,e){x("#color-input").data("minicolors-settings");var n=x(".colorpicker-input").val();i.applyPantoneColor&&(i.applyPantoneColor({args:n}),c())}),i.swatches&&0!==i.swatches.length)for(o.addClass("minicolors-with-swatches"),n=x('<ul class="minicolors-swatches"></ul>').appendTo(o),s=0;s<i.swatches.length;++s)r=M(r=i.swatches[s])?D(r,!0):P(C(r,!0)),x('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(n).data("swatch-color",i.swatches[s]).find(".minicolors-swatch-color").css({backgroundColor:h(r),opacity:r.a}),i.swatches[s]=r;i.inline&&e.parent().addClass("minicolors-inline");u(e,!1),e.data("minicolors-initialized",!0)}(x(this),e)}),x(this)}}}),x([document,top.document]).on("mousedown.minicolors touchstart.minicolors",function(t){x(t.target).parents().add(t.target).hasClass("minicolors")||c()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var e=x(this);t.preventDefault(),x(t.delegateTarget).data("minicolors-target",e),r(e,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var e=x(t.delegateTarget).data("minicolors-target");e&&r(e,t)}).on("mouseup.minicolors touchend.minicolors",function(){x(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(t){t.preventDefault();var e=x(this),n=e.parents(".minicolors").find(".minicolors-input"),i=e.data("swatch-color");k(n,i,$(i)),u(n)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(t){var e=x(this).parent().find(".minicolors-input");t.preventDefault(),i(e)}).on("focus.minicolors",".minicolors-input",function(){var t=x(this);t.data("minicolors-initialized")&&i(t)}).on("blur.minicolors",".minicolors-input",function(){var t,e,n,i,r,o=x(this),s=o.data("minicolors-settings");o.data("minicolors-initialized")&&(t=s.keywords?x.map(s.keywords.split(","),function(t){return x.trim(t.toLowerCase())}):[],r=""!==o.val()&&-1<x.inArray(o.val().toLowerCase(),t)?o.val():null===(n=M(o.val())?D(o.val(),!0):(e=C(o.val(),!0))?P(e):null)?s.defaultValue:"rgb"===s.format?s.opacity?D("rgba("+n.r+","+n.g+","+n.b+","+o.attr("data-opacity")+")"):D("rgb("+n.r+","+n.g+","+n.b+")"):h(n),i=s.opacity?o.attr("data-opacity"):1,"transparent"===r.toLowerCase()&&(i=0),o.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",i),o.val(r),""===o.val()&&o.val(E(s.defaultValue,!0)),o.val(_(o.val(),s.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var e=x(this);if(e.data("minicolors-initialized"))switch(t.keyCode){case 9:c();break;case 13:case 27:c(),e.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=x(this);t.data("minicolors-initialized")&&u(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=x(this);t.data("minicolors-initialized")&&setTimeout(function(){u(t,!0)},1)})});